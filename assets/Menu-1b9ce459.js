import{d as Z,aH as ht,aI as zt,aJ as gt,aK as kt,W as bt,aL as mt,X as _e,r as T,U as S,Z as ke,g as O,o as h,s as N,w as B,c as A,h as P,a1 as U,t as $,b as F,e as q,v as X,a as V,aM as Ct,a9 as Ye,aa as Ge,B as wt,aN as Ht,aO as Ut,aP as ge,aQ as tt,aR as Re,au as Y,ap as qt,ao as nt,aS as St,a4 as ue,aT as ne,aF as W,aU as Yt,aV as Gt,aW as Wt,ac as ce,aB as Xt,al as Zt,aX as Jt,aY as Ee,y as Qt,aZ as en,m as oe,F as de,q as Ne,a6 as Kt,a7 as ot,aA as Nt,a_ as tn,a$ as at,O as nn,b0 as on,aj as lt,D as rt,i as z,b1 as Ke,j as $e,b2 as an,b3 as ln,b4 as rn,b5 as sn,p as cn,k as dn,_ as un}from"./index-30c7a380.js";import{N as pn,g as fn}from"./system-36aee724.js";import{M as te,a as vn}from"./MenuDetailForm-49dfa4bc.js";import{u as yn}from"./useRequest-f6a5308e.js";import"./index-90d8cfd6.js";import"./get-value-by-path-bf636ec3.js";const hn=Z({name:"Alert",components:{IconHover:ht,IconClose:zt,IconInfoCircleFill:gt,IconCheckCircleFill:kt,IconExclamationCircleFill:bt,IconCloseCircleFill:mt},props:{type:{type:String,default:"info"},showIcon:{type:Boolean,default:!0},closable:{type:Boolean,default:!1},title:String,banner:{type:Boolean,default:!1}},emits:{close:e=>!0,afterClose:()=>!0},setup(e,{slots:t,emit:n}){const o=_e("alert"),l=T(!0),c=a=>{l.value=!1,n("close",a)},r=()=>{n("afterClose")},p=S(()=>[o,`${o}-${e.type}`,{[`${o}-with-title`]:!!(e.title||t.title),[`${o}-banner`]:e.banner}]);return{prefixCls:o,cls:p,visible:l,handleClose:c,handleAfterLeave:r}}});function gn(e,t,n,o,l,c){const r=O("icon-info-circle-fill"),p=O("icon-check-circle-fill"),a=O("icon-exclamation-circle-fill"),i=O("icon-close-circle-fill"),d=O("icon-close"),k=O("icon-hover");return h(),N(Ct,{name:"zoom-in-top",onAfterLeave:e.handleAfterLeave},{default:B(()=>[e.visible?(h(),A("div",{key:0,role:"alert",class:P(e.cls)},[e.showIcon&&!(e.type==="normal"&&!e.$slots.icon)?(h(),A("div",{key:0,class:P(`${e.prefixCls}-icon`)},[U(e.$slots,"icon",{},()=>[e.type==="info"?(h(),N(r,{key:0})):e.type==="success"?(h(),N(p,{key:1})):e.type==="warning"?(h(),N(a,{key:2})):e.type==="error"?(h(),N(i,{key:3})):$("v-if",!0)])],2)):$("v-if",!0),F("div",{class:P(`${e.prefixCls}-body`)},[e.title||e.$slots.title?(h(),A("div",{key:0,class:P(`${e.prefixCls}-title`)},[U(e.$slots,"title",{},()=>[q(X(e.title),1)])],2)):$("v-if",!0),F("div",{class:P(`${e.prefixCls}-content`)},[U(e.$slots,"default")],2)],2),e.$slots.action?(h(),A("div",{key:1,class:P(`${e.prefixCls}-action`)},[U(e.$slots,"action")],2)):$("v-if",!0),e.closable?(h(),A("div",{key:2,tabindex:"-1",role:"button","aria-label":"Close",class:P(`${e.prefixCls}-close-btn`),onClick:t[0]||(t[0]=(...b)=>e.handleClose&&e.handleClose(...b))},[U(e.$slots,"close-element",{},()=>[V(k,null,{default:B(()=>[V(d)]),_:1})])],2)):$("v-if",!0)],2)):$("v-if",!0)]),_:3},8,["onAfterLeave"])}var Ve=ke(hn,[["render",gn]]);const kn=Object.assign(Ve,{install:(e,t)=>{Ye(e,t);const n=Ge(t);e.component(n+Ve.name,Ve)}}),bn=Z({name:"Popconfirm",components:{ArcoButton:wt,Trigger:Ht,IconInfoCircleFill:gt,IconCheckCircleFill:kt,IconExclamationCircleFill:bt,IconCloseCircleFill:mt},props:{content:String,position:{type:String,default:"top"},popupVisible:{type:Boolean,default:void 0},defaultPopupVisible:{type:Boolean,default:!1},type:{type:String,default:"info"},okText:String,cancelText:String,okLoading:{type:Boolean,default:!1},okButtonProps:{type:Object},cancelButtonProps:{type:Object},contentClass:{type:[String,Array,Object]},contentStyle:{type:Object},arrowClass:{type:[String,Array,Object]},arrowStyle:{type:Object},popupContainer:{type:[String,Object]},onBeforeOk:{type:Function},onBeforeCancel:{type:Function}},emits:{"update:popupVisible":e=>!0,popupVisibleChange:e=>!0,ok:()=>!0,cancel:()=>!0},setup(e,{emit:t}){const n=_e("popconfirm"),{t:o}=Ut(),l=T(e.defaultPopupVisible),c=S(()=>{var D;return(D=e.popupVisible)!=null?D:l.value}),r=T(!1),p=S(()=>e.okLoading||r.value);let a=0;const i=()=>{a++,r.value&&(r.value=!1),l.value=!1,t("update:popupVisible",!1),t("popupVisibleChange",!1)},d=D=>{D?(l.value=D,t("update:popupVisible",D),t("popupVisibleChange",D)):i()},k=async()=>{const D=a,M=await new Promise(async _=>{var R;if(ge(e.onBeforeOk)){let w=e.onBeforeOk((L=!0)=>_(L));if((tt(w)||!Re(w))&&(r.value=!0),tt(w))try{w=(R=await w)!=null?R:!0}catch{w=!1}Re(w)&&_(w)}else _(!0)});D===a&&(M?(t("ok"),i()):r.value&&(r.value=!1))},b=()=>{var D;let M=!0;ge(e.onBeforeCancel)&&(M=(D=e.onBeforeCancel())!=null?D:!1),M&&(t("cancel"),i())},C=S(()=>[`${n}-popup-content`,e.contentClass]),E=S(()=>[`${n}-popup-arrow`,e.arrowClass]);return{prefixCls:n,contentCls:C,arrowCls:E,computedPopupVisible:c,mergedOkLoading:p,handlePopupVisibleChange:d,handleOk:k,handleCancel:b,t:o}}});function mn(e,t,n,o,l,c){const r=O("icon-info-circle-fill"),p=O("icon-check-circle-fill"),a=O("icon-exclamation-circle-fill"),i=O("icon-close-circle-fill"),d=O("arco-button"),k=O("trigger");return h(),N(k,{class:P(e.prefixCls),trigger:"click",position:e.position,"show-arrow":"","popup-visible":e.computedPopupVisible,"popup-offset":10,"popup-container":e.popupContainer,"content-class":e.contentCls,"content-style":e.contentStyle,"arrow-class":e.arrowCls,"arrow-style":e.arrowStyle,"animation-name":"zoom-in-fade-out","auto-fit-transform-origin":"",onPopupVisibleChange:e.handlePopupVisibleChange},{content:B(()=>[F("div",{class:P(`${e.prefixCls}-body`)},[F("span",{class:P(`${e.prefixCls}-icon`)},[U(e.$slots,"icon",{},()=>[e.type==="info"?(h(),N(r,{key:0})):e.type==="success"?(h(),N(p,{key:1})):e.type==="warning"?(h(),N(a,{key:2})):e.type==="error"?(h(),N(i,{key:3})):$("v-if",!0)])],2),F("span",{class:P(`${e.prefixCls}-content`)},[U(e.$slots,"content",{},()=>[q(X(e.content),1)])],2)],2),F("div",{class:P(`${e.prefixCls}-footer`)},[V(d,Y({size:"mini"},e.cancelButtonProps,{onClick:e.handleCancel}),{default:B(()=>[q(X(e.cancelText||e.t("popconfirm.cancelText")),1)]),_:1},16,["onClick"]),V(d,Y({type:"primary",size:"mini"},e.okButtonProps,{loading:e.mergedOkLoading,onClick:e.handleOk}),{default:B(()=>[q(X(e.okText||e.t("popconfirm.okText")),1)]),_:1},16,["loading","onClick"])],2)]),default:B(()=>[U(e.$slots,"default")]),_:3},8,["class","position","popup-visible","popup-container","content-class","content-style","arrow-class","arrow-style","onPopupVisibleChange"])}var je=ke(bn,[["render",mn]]);const Cn=Object.assign(je,{install:(e,t)=>{Ye(e,t);const n=Ge(t);e.component(n+je.name,je)}}),_t=Symbol("TreeInjectionKey");function wn(e){const t=[];function n(o){o&&o.forEach(l=>{t.push(l),n(l.children)})}return n(e),t}function Sn(e){const t=new Map;return e.forEach(n=>{t.set(n.key,n)}),t}function st(e){return e.selectable&&!e.disabled}function it(e){return!e.isLeaf&&e.children}function Kn(e){return Re(e.isLeaf)?e.isLeaf:!e.children}function ze(e){return Set.prototype.add.bind(e)}function He(e){return Set.prototype.delete.bind(e)}function he(e){return e.disabled||e.disableCheckbox?!1:!!e.checkable}function We(e){var t;const n=[];return(t=e.children)==null||t.forEach(o=>{he(o)&&n.push(o.key,...We(o))}),n}function Dt(e){var t;const{node:n,checkedKeySet:o,indeterminateKeySet:l}=e;let c=n.parent;for(;c;){if(he(c)){const r=c.key,p=((t=c.children)==null?void 0:t.filter(he))||[];let a=0;const i=p.length;p.some(({key:d})=>{if(o.has(d))a+=1;else if(l.has(d))return a+=.5,!0;return!1}),a&&a!==i?l.add(r):l.delete(r),a&&a===i?o.add(r):o.delete(r)}c=c.parent}}function ct(e){const{node:t,checked:n,checkedKeys:o,indeterminateKeys:l,checkStrictly:c=!1}=e,{key:r}=t,p=new Set(o),a=new Set(l);if(n?p.add(r):p.delete(r),a.delete(r),!c){const i=We(t);n?i.forEach(ze(p)):i.forEach(He(p)),i.forEach(He(a)),Dt({node:t,checkedKeySet:p,indeterminateKeySet:a})}return[[...p],[...a]]}function Nn(e){const{initCheckedKeys:t,key2TreeNode:n,checkStrictly:o,onlyCheckLeaf:l}=e,c=new Set,r=new Set,p=new Set;return o?t.forEach(ze(c)):t.forEach(a=>{var i;const d=n.get(a);if(!d||r.has(a)||l&&((i=d.children)!=null&&i.length))return;const k=We(d);k.forEach(ze(r)),k.forEach(He(p)),c.add(a),p.delete(a),Dt({node:d,checkedKeySet:c,indeterminateKeySet:p})}),[[...c,...r],[...p]]}function Te(){return qt(_t)||{}}var _n=Z({name:"TreeNodeSwitcher",components:{IconLoading:nt,RenderFunction:St},props:{prefixCls:String,loading:Boolean,showLine:Boolean,treeNodeData:{type:Object},icons:{type:Object},nodeStatus:{type:Object}},emits:["click"],setup(e,{slots:t,emit:n}){const{icons:o,nodeStatus:l,treeNodeData:c}=ue(e),r=Te(),p=ne(t,"switcher-icon"),a=ne(t,"loading-icon");return{getSwitcherIcon:()=>{var i,d,k;const b=(d=(i=o==null?void 0:o.value)==null?void 0:i.switcherIcon)!=null?d:p.value;return b?b(l.value):(k=r.switcherIcon)==null?void 0:k.call(r,c.value,l.value)},getLoadingIcon:()=>{var i,d,k;const b=(d=(i=o==null?void 0:o.value)==null?void 0:i.loadingIcon)!=null?d:a.value;return b?b(l.value):(k=r.loadingIcon)==null?void 0:k.call(r,c.value,l.value)},onClick(i){n("click",i)}}},render(){var e,t,n;const{prefixCls:o,getSwitcherIcon:l,getLoadingIcon:c,onClick:r,nodeStatus:p={},loading:a,showLine:i}=this,{expanded:d,isLeaf:k}=p;if(a)return(e=c())!=null?e:W(nt);let b=null,C=!1;if(k)i&&(b=(n=l())!=null?n:W(Gt));else{const D=i?W("span",{class:`${o}-${d?"minus":"plus"}-icon`}):W(Yt);b=(t=l())!=null?t:D,C=!i}if(!b)return null;const E=W("span",{class:`${o}-switcher-icon`,onClick:r},b);return C?W(ht,{class:`${o}-icon-hover`},()=>E):E}}),Dn=Object.defineProperty,$n=Object.defineProperties,En=Object.getOwnPropertyDescriptors,dt=Object.getOwnPropertySymbols,Tn=Object.prototype.hasOwnProperty,Bn=Object.prototype.propertyIsEnumerable,ut=(e,t,n)=>t in e?Dn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ue=(e,t)=>{for(var n in t||(t={}))Tn.call(t,n)&&ut(e,n,t[n]);if(dt)for(var n of dt(t))Bn.call(t,n)&&ut(e,n,t[n]);return e},pt=(e,t)=>$n(e,En(t));const $t=(()=>{let e=0;return()=>(e+=1,`__arco_tree${e}`)})();function Pn(e,t){return!!(ce(e)?t:e)}function Ln(e,t){const n=Ue({},e);return t&&Object.keys(t).forEach(l=>{const c=t[l];c!==l&&(n[l]=e[c],delete n[c])}),n}function ft({subEnable:e,superEnable:t,isLeaf:n,treeNodeData:o,level:l}){return ce(e)?ge(t)?t(o,{isLeaf:n,level:l}):t??!1:e}function In(e){var t,n;const{treeNodeData:o,parentNode:l,isTail:c=!0,treeProps:r}=e,{fieldNames:p}=r||{},a=Ln(o,p),i=r.loadMore?!!a.isLeaf:!((t=a.children)!=null&&t.length),d=l?l.level+1:0,k=pt(Ue({},Wt(a,["children"])),{key:(n=a.key)!=null?n:$t(),selectable:ft({subEnable:a.selectable,superEnable:r==null?void 0:r.selectable,isLeaf:i,level:d,treeNodeData:o}),disabled:!!a.disabled,disableCheckbox:!!a.disableCheckbox,checkable:ft({subEnable:a.checkable,superEnable:r==null?void 0:r.checkable,isLeaf:i,level:d,treeNodeData:o}),isLeaf:i,isTail:c,blockNode:!!(r!=null&&r.blockNode),showLine:!!(r!=null&&r.showLine),level:d,lineless:l?[...l.lineless,l.isTail]:[],draggable:Pn(a.draggable,r==null?void 0:r.draggable)});return pt(Ue({},k),{treeNodeProps:k,treeNodeData:o,parent:l,parentKey:l==null?void 0:l.key,pathParentKeys:l?[...l.pathParentKeys,l.key]:[]})}function On(e,t){function n(o,l){if(!o)return;const{fieldNames:c}=t,r=[];return o.forEach((p,a)=>{const i=In({treeNodeData:p,treeProps:t,parentNode:l,isTail:a===o.length-1});i.children=n(p[(c==null?void 0:c.children)||"children"],i),r.push(i)}),r}return n(e)}function Et(){const e=Xt(),t=()=>{var o;return(o=e==null?void 0:e.vnode.key)!=null?o:$t()},n=T(t());return Zt(()=>{n.value=t()}),n}function xn(e){const{key:t,refTitle:n}=ue(e),o=Te(),l=T(!1),c=T(!1),r=T(!1),p=T(0),a=Jt(i=>{if(!n.value)return;const d=n.value.getBoundingClientRect(),k=window.pageYOffset+d.top,{pageY:b}=i,C=d.height/4,E=b-k;p.value=E<C?-1:E<d.height-C?0:1,r.value=o.allowDrop?o.allowDrop(t.value,p.value):!0});return{isDragOver:l,isDragging:c,isAllowDrop:r,dropPosition:p,setDragStatus(i,d){switch(i){case"dragStart":c.value=!0,p.value=0,o.onDragStart&&o.onDragStart(t.value,d);break;case"dragEnd":c.value=!1,l.value=!1,p.value=0,a.cancel(),o.onDragEnd&&o.onDragEnd(t.value,d);break;case"dragOver":l.value=!0,a(d),o.onDragOver&&o.onDragOver(t.value,d);break;case"dragLeave":l.value=!1,p.value=0,a.cancel(),o.onDragLeave&&o.onDragLeave(t.value,d);break;case"drop":o.onDrop&&o.onDrop(t.value,p.value,d),l.value=!1,p.value=0,a.cancel();break}}}}function Fn(e){return Ee(e)?e:[e]}const An=Z({name:"BaseTreeNode",components:{NodeSwitcher:_n,Checkbox:Qt,RenderFunction:St,IconDragDotVertical:en},props:{key:{type:[String,Number]},title:{type:String},selectable:{type:Boolean},disabled:{type:Boolean},disableCheckbox:{type:Boolean},checkable:{type:Boolean},draggable:{type:Boolean},isLeaf:{type:Boolean},icon:{type:Function},switcherIcon:{type:Function},loadingIcon:{type:Function},dragIcon:{type:Function},isTail:{type:Boolean},blockNode:{type:Boolean},showLine:{type:Boolean},level:{type:Number,default:0},lineless:{type:Array,default:()=>[]}},setup(e){const t=Et(),n=_e("tree-node"),o=Te(),l=S(()=>{var f;return(f=o.key2TreeNode)==null?void 0:f.get(t.value)}),c=S(()=>l.value.treeNodeData),r=S(()=>l.value.children),p=S(()=>{var f;const K=(f=o.treeProps)==null?void 0:f.actionOnNodeClick;return K?Fn(K):[]}),{isLeaf:a,isTail:i,selectable:d,disabled:k,disableCheckbox:b,draggable:C}=ue(e),E=S(()=>{var f;return[`${n}`,{[`${n}-selected`]:J.value,[`${n}-is-leaf`]:a.value,[`${n}-is-tail`]:i.value,[`${n}-expanded`]:G.value,[`${n}-disabled-selectable`]:!d.value&&!((f=o.treeProps)!=null&&f.disableSelectActionOnly),[`${n}-disabled`]:k.value}]}),D=T(),{isDragOver:M,isDragging:_,isAllowDrop:R,dropPosition:w,setDragStatus:L}=xn(oe({key:t,refTitle:D})),j=S(()=>[`${n}-title`,{[`${n}-title-draggable`]:C.value,[`${n}-title-gap-top`]:M.value&&R.value&&w.value<0,[`${n}-title-gap-bottom`]:M.value&&R.value&&w.value>0,[`${n}-title-highlight`]:!_.value&&M.value&&R.value&&w.value===0,[`${n}-title-dragging`]:_.value,[`${n}-title-block`]:l.value.blockNode}]),H=S(()=>{var f,K;return(K=(f=o.checkedKeys)==null?void 0:f.includes)==null?void 0:K.call(f,t.value)}),ae=S(()=>{var f,K;return(K=(f=o.indeterminateKeys)==null?void 0:f.includes)==null?void 0:K.call(f,t.value)}),J=S(()=>{var f,K;return(K=(f=o.selectedKeys)==null?void 0:f.includes)==null?void 0:K.call(f,t.value)}),G=S(()=>{var f,K;return(K=(f=o.expandedKeys)==null?void 0:f.includes)==null?void 0:K.call(f,t.value)}),pe=S(()=>{var f,K;return(K=(f=o.loadingKeys)==null?void 0:f.includes)==null?void 0:K.call(f,t.value)}),be=S(()=>o.dragIcon),me=S(()=>o.nodeIcon);function le(f){var K,ee;a.value||(!((K=r.value)!=null&&K.length)&&ge(o.onLoadMore)?o.onLoadMore(t.value):(ee=o==null?void 0:o.onExpand)==null||ee.call(o,!G.value,t.value,f))}const x=oe({loading:pe,checked:H,selected:J,indeterminate:ae,expanded:G,isLeaf:a}),Q=S(()=>o.nodeTitle?()=>{var f;return(f=o.nodeTitle)==null?void 0:f.call(o,c.value,x)}:void 0),Be=S(()=>o.nodeExtra?()=>{var f;return(f=o.nodeExtra)==null?void 0:f.call(o,c.value,x)}:void 0);return{refTitle:D,prefixCls:n,classNames:E,titleClassNames:j,indeterminate:ae,checked:H,expanded:G,selected:J,treeTitle:Q,treeNodeData:c,loading:pe,treeDragIcon:be,treeNodeIcon:me,extra:Be,nodeStatus:x,onCheckboxChange(f,K){var ee;b.value||k.value||(ee=o.onCheck)==null||ee.call(o,f,t.value,K)},onTitleClick(f){var K;p.value.includes("expand")&&le(f),!(!d.value||k.value)&&((K=o.onSelect)==null||K.call(o,t.value,f))},onSwitcherClick:le,onDragStart(f){var K;if(C.value){f.stopPropagation(),L("dragStart",f);try{(K=f.dataTransfer)==null||K.setData("text/plain","")}catch{}}},onDragEnd(f){C.value&&(f.stopPropagation(),L("dragEnd",f))},onDragOver(f){C&&(f.stopPropagation(),f.preventDefault(),L("dragOver",f))},onDragLeave(f){C.value&&(f.stopPropagation(),L("dragLeave",f))},onDrop(f){!C.value||!R.value||(f.stopPropagation(),f.preventDefault(),L("drop",f))}}}}),Vn=["draggable"];function jn(e,t,n,o,l,c){const r=O("NodeSwitcher"),p=O("Checkbox"),a=O("RenderFunction"),i=O("IconDragDotVertical");return h(),A("div",{class:P(e.classNames)},[$(" 缩进 "),F("span",{class:P(`${e.prefixCls}-indent`)},[(h(!0),A(de,null,Ne(e.level,d=>(h(),A("span",{key:d,class:P([`${e.prefixCls}-indent-block`,{[`${e.prefixCls}-indent-block-lineless`]:e.lineless[d-1]}])},null,2))),128))],2),$(" switcher "),F("span",{class:P([`${e.prefixCls}-switcher`,{[`${e.prefixCls}-switcher-expanded`]:e.expanded}])},[V(r,{"prefix-cls":e.prefixCls,loading:e.loading,"show-line":e.showLine,"tree-node-data":e.treeNodeData,icons:{switcherIcon:e.switcherIcon,loadingIcon:e.loadingIcon},"node-status":e.nodeStatus,onClick:e.onSwitcherClick},Kt({_:2},[e.$slots["switcher-icon"]?{name:"switcher-icon",fn:B(()=>[$(" @slot 定制 switcher 图标，会覆盖 Tree 的配置 "),U(e.$slots,"switcher-icon")])}:void 0,e.$slots["loading-icon"]?{name:"loading-icon",fn:B(()=>[$(" @slot 定制 loading 图标，会覆盖 Tree 的配置 "),U(e.$slots,"loading-icon")])}:void 0]),1032,["prefix-cls","loading","show-line","tree-node-data","icons","node-status","onClick"])],2),$(" checkbox "),e.checkable?(h(),N(p,{key:0,disabled:e.disableCheckbox||e.disabled,"model-value":e.checked,indeterminate:e.indeterminate,"uninject-group-context":"",onChange:e.onCheckboxChange},null,8,["disabled","model-value","indeterminate","onChange"])):$("v-if",!0),$(" 内容 "),F("span",{ref:"refTitle",class:P(e.titleClassNames),draggable:e.draggable,onDragstart:t[0]||(t[0]=(...d)=>e.onDragStart&&e.onDragStart(...d)),onDragend:t[1]||(t[1]=(...d)=>e.onDragEnd&&e.onDragEnd(...d)),onDragover:t[2]||(t[2]=(...d)=>e.onDragOver&&e.onDragOver(...d)),onDragleave:t[3]||(t[3]=(...d)=>e.onDragLeave&&e.onDragLeave(...d)),onDrop:t[4]||(t[4]=(...d)=>e.onDrop&&e.onDrop(...d)),onClick:t[5]||(t[5]=(...d)=>e.onTitleClick&&e.onTitleClick(...d))},[e.$slots.icon||e.icon||e.treeNodeIcon?(h(),A("span",{key:0,class:P([`${e.prefixCls}-icon`,`${e.prefixCls}-custom-icon`])},[$(" 节点图标 "),e.$slots.icon?U(e.$slots,"icon",ot(Y({key:0},e.nodeStatus))):e.icon?(h(),N(a,Y({key:1,"render-func":e.icon},e.nodeStatus),null,16,["render-func"])):e.treeNodeIcon?(h(),N(a,Y({key:2,"render-func":e.treeNodeIcon,node:e.treeNodeData},e.nodeStatus),null,16,["render-func","node"])):$("v-if",!0)],2)):$("v-if",!0),F("span",{class:P(`${e.prefixCls}-title-text`)},[e.treeTitle?(h(),N(a,{key:0,"render-func":e.treeTitle},null,8,["render-func"])):(h(),A(de,{key:1},[$(" 标题，treeTitle 优先级高于节点的 title "),U(e.$slots,"title",{},()=>[q(X(e.title),1)])],2112)),e.draggable?(h(),A("span",{key:2,class:P([`${e.prefixCls}-icon`,`${e.prefixCls}-drag-icon`])},[$(" 拖拽图标 "),e.$slots["drag-icon"]?U(e.$slots,"drag-icon",ot(Y({key:0},e.nodeStatus))):e.dragIcon?(h(),N(a,Y({key:1,"render-func":e.dragIcon},e.nodeStatus),null,16,["render-func"])):e.treeDragIcon?(h(),N(a,Y({key:2,"render-func":e.treeDragIcon,node:e.treeNodeData},e.nodeStatus),null,16,["render-func","node"])):(h(),N(i,{key:3}))],2)):$("v-if",!0)],2)],42,Vn),$(" 额外 "),e.extra?(h(),N(a,{key:1,"render-func":e.extra},null,8,["render-func"])):$("v-if",!0)],2)}var qe=ke(An,[["render",jn]]);const Mn=Z({name:"ExpandTransition",props:{expanded:Boolean},emits:["end"],setup(e,{emit:t}){return{onBeforeEnter(n){n.style.height=e.expanded?"0":`${n.scrollHeight}px`},onEnter(n){n.style.height=e.expanded?`${n.scrollHeight}px`:"0"},onAfterEnter(n){n.style.height=e.expanded?"":"0",t("end")},onBeforeLeave(n){n.style.display="none"}}}});function Rn(e,t,n,o,l,c){return h(),N(Ct,{onBeforeEnter:e.onBeforeEnter,onEnter:e.onEnter,onAfterEnter:e.onAfterEnter,onBeforeLeave:e.onBeforeLeave},{default:B(()=>[U(e.$slots,"default")]),_:3},8,["onBeforeEnter","onEnter","onAfterEnter","onBeforeLeave"])}var zn=ke(Mn,[["render",Rn]]);const Hn=Z({name:"TransitionNodeList",components:{ExpandTransition:zn,BaseTreeNode:qe},props:{nodeKey:{type:[String,Number],required:!0}},setup(e){const n=[`${_e("tree")}-node-list`],o=Te(),{nodeKey:l}=ue(e),c=S(()=>{var a,i;return(i=(a=o.expandedKeys)==null?void 0:a.includes)==null?void 0:i.call(a,l.value)}),r=S(()=>{var a;const i=new Set(o.expandedKeys||[]),d=(a=o.flattenTreeData)==null?void 0:a.filter(k=>{var b,C;return(b=k.pathParentKeys)!=null&&b.includes(l.value)?!o.filterTreeNode||((C=o.filterTreeNode)==null?void 0:C.call(o,k.treeNodeData)):!1});return d==null?void 0:d.filter(k=>{var b;if(c.value)return(b=k.pathParentKeys)==null?void 0:b.every(E=>i.has(E));const C=k.pathParentKeys.indexOf(l.value);return k.pathParentKeys.slice(C+1).every(E=>i.has(E))})}),p=S(()=>{var a,i;return((a=o.currentExpandKeys)==null?void 0:a.includes(l.value))&&((i=r.value)==null?void 0:i.length)});return{classNames:n,visibleNodeList:r,show:p,expanded:c,onTransitionEnd(){var a;(a=o.onExpandEnd)==null||a.call(o,l.value)}}}});function Un(e,t,n,o,l,c){const r=O("BaseTreeNode"),p=O("ExpandTransition");return h(),N(p,{expanded:e.expanded,onEnd:e.onTransitionEnd},{default:B(()=>[e.show?(h(),A("div",{key:0,class:P(e.classNames)},[(h(!0),A(de,null,Ne(e.visibleNodeList,a=>(h(),N(r,Y({key:a.key},a.treeNodeProps),null,16))),128))],2)):$("v-if",!0)]),_:1},8,["expanded","onEnd"])}var qn=ke(Hn,[["render",Un]]),Yn=Object.defineProperty,vt=Object.getOwnPropertySymbols,Gn=Object.prototype.hasOwnProperty,Wn=Object.prototype.propertyIsEnumerable,yt=(e,t,n)=>t in e?Yn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Xn=(e,t)=>{for(var n in t||(t={}))Gn.call(t,n)&&yt(e,n,t[n]);if(vt)for(var n of vt(t))Wn.call(t,n)&&yt(e,n,t[n]);return e},Zn=Z({name:"TreeNode",inheritAttrs:!1,props:Xn({},qe.props),setup(e,{slots:t,attrs:n}){const o=Et();return()=>V(de,null,[V(qe,Y(e,n,{key:o.value}),t),V(qn,{key:o.value,nodeKey:o.value},null)])}});function Jn(e){const{defaultCheckedKeys:t,checkedKeys:n,key2TreeNode:o,checkStrictly:l,halfCheckedKeys:c,onlyCheckLeaf:r}=ue(e),p=T(!1),a=T([]),i=T([]),d=T(),k=T(),b=E=>Nn({initCheckedKeys:E,key2TreeNode:o.value,checkStrictly:l.value,onlyCheckLeaf:r.value}),C=E=>{const D=b(E);[a.value,i.value]=D};return C(n.value||(t==null?void 0:t.value)||[]),Nt(()=>{n.value?[d.value,k.value]=b(n.value):p.value&&(d.value=void 0,k.value=void 0,a.value=[],i.value=[]),p.value||(p.value=!0)}),{checkedKeys:S(()=>d.value||a.value),indeterminateKeys:S(()=>l.value&&c.value?c.value:k.value||i.value),setCheckedState(E,D,M=!1){return M?C(E):(a.value=E,i.value=D),[a.value,i.value]}}}function Qn(e){const{treeData:t,fieldNames:n,selectable:o,showLine:l,blockNode:c,checkable:r,loadMore:p,draggable:a}=ue(e),i=T([]);Nt(()=>{var b,C;i.value=On(t.value||[],{selectable:(b=o==null?void 0:o.value)!=null?b:!1,showLine:!!(l!=null&&l.value),blockNode:!!(c!=null&&c.value),checkable:(C=r==null?void 0:r.value)!=null?C:!1,fieldNames:n==null?void 0:n.value,loadMore:!!(p!=null&&p.value),draggable:!!(a!=null&&a.value)})});const d=S(()=>wn(i.value)),k=S(()=>Sn(d.value));return{treeData:i,flattenTreeData:d,key2TreeNode:k}}const eo=Z({name:"Tree",components:{VirtualList:tn,TreeNode:Zn},props:{size:{type:String,default:"medium"},blockNode:{type:Boolean},defaultExpandAll:{type:Boolean,default:!0},multiple:{type:Boolean},checkable:{type:[Boolean,String,Function],default:!1},selectable:{type:[Boolean,Function],default:!0},checkStrictly:{type:Boolean},checkedStrategy:{type:String,default:"all"},defaultSelectedKeys:{type:Array},selectedKeys:{type:Array},defaultCheckedKeys:{type:Array},checkedKeys:{type:Array},defaultExpandedKeys:{type:Array},expandedKeys:{type:Array},data:{type:Array,default:()=>[]},fieldNames:{type:Object},showLine:{type:Boolean},loadMore:{type:Function},draggable:{type:Boolean},allowDrop:{type:Function},filterTreeNode:{type:Function},virtualListProps:{type:Object},defaultExpandSelected:{type:Boolean},defaultExpandChecked:{type:Boolean},autoExpandParent:{type:Boolean,default:!0},halfCheckedKeys:{type:Array},onlyCheckLeaf:{type:Boolean,default:!1},animation:{type:Boolean,default:!0},actionOnNodeClick:{type:String},disableSelectActionOnly:{type:Boolean,default:!1}},emits:{select:(e,t)=>!0,"update:selectedKeys":e=>!0,check:(e,t)=>!0,"update:checkedKeys":e=>!0,"update:halfCheckedKeys":e=>!0,expand:(e,t)=>!0,"update:expandedKeys":e=>!0,dragStart:(e,t)=>!0,dragEnd:(e,t)=>!0,dragOver:(e,t)=>!0,dragLeave:(e,t)=>!0,drop:e=>!0},setup(e,{emit:t,slots:n}){const{data:o,showLine:l,multiple:c,loadMore:r,checkStrictly:p,checkedKeys:a,defaultCheckedKeys:i,selectedKeys:d,defaultSelectedKeys:k,expandedKeys:b,defaultExpandedKeys:C,checkedStrategy:E,selectable:D,checkable:M,blockNode:_,fieldNames:R,size:w,defaultExpandAll:L,filterTreeNode:j,draggable:H,allowDrop:ae,defaultExpandSelected:J,defaultExpandChecked:G,autoExpandParent:pe,halfCheckedKeys:be,onlyCheckLeaf:me,animation:le}=ue(e),x=_e("tree"),Q=S(()=>[`${x}`,{[`${x}-checkable`]:M.value,[`${x}-show-line`]:l.value},`${x}-size-${w.value}`]),Be=ne(n,"switcher-icon"),f=ne(n,"loading-icon"),K=ne(n,"drag-icon"),ee=ne(n,"icon"),Tt=ne(n,"title"),Bt=ne(n,"extra"),{treeData:Pt,flattenTreeData:Pe,key2TreeNode:I}=Qn(oe({treeData:o,selectable:D,showLine:l,blockNode:_,checkable:M,fieldNames:R,loadMore:r,draggable:H})),{checkedKeys:fe,indeterminateKeys:De,setCheckedState:Le}=Jn(oe({defaultCheckedKeys:i,checkedKeys:a,checkStrictly:p,key2TreeNode:I,halfCheckedKeys:be,onlyCheckLeaf:me})),[Ce,Ie]=at((k==null?void 0:k.value)||[],oe({value:d})),re=T([]),ve=T();function Lt(){if(C!=null&&C.value){const s=new Set([]);return C.value.forEach(u=>{if(s.has(u))return;const v=I.value.get(u);v&&[...pe.value?v.pathParentKeys:[],u].forEach(y=>s.add(y))}),[...s]}if(L.value)return Pe.value.filter(s=>s.children&&s.children.length).map(s=>s.key);if(J.value||G.value){const s=new Set([]),u=v=>{v.forEach(y=>{const g=I.value.get(y);g&&(g.pathParentKeys||[]).forEach(m=>s.add(m))})};return J.value&&u(Ce.value),G.value&&u(fe.value),[...s]}return[]}const[we,Oe]=at(Lt(),oe({value:b})),se=T([]),It=S(()=>{const s=new Set(we.value),u=new Set(se.value);return Pe.value.filter(v=>{var y;if(!(!j||!j.value||(j==null?void 0:j.value(v.treeNodeData))))return!1;const m=ce(v.parentKey),ie=(y=v.pathParentKeys)==null?void 0:y.every(ye=>s.has(ye)&&!u.has(ye));return m||ie})});function Xe(s,u=E.value){let v=[...s];return u==="parent"?v=s.filter(y=>{const g=I.value.get(y);return g&&!(!ce(g.parentKey)&&s.includes(g.parentKey))}):u==="child"&&(v=s.filter(y=>{var g,m;return!((m=(g=I.value.get(y))==null?void 0:g.children)!=null&&m.length)})),v}function Se(s){return s.map(u=>{var v;return((v=I.value.get(u))==null?void 0:v.treeNodeData)||void 0}).filter(Boolean)}function xe(s){const{targetKey:u,targetChecked:v,newCheckedKeys:y,newIndeterminateKeys:g,event:m}=s,ie=u?I.value.get(u):void 0,ye=Xe(y);t("update:checkedKeys",ye),t("update:halfCheckedKeys",g),t("check",ye,{checked:v,node:ie==null?void 0:ie.treeNodeData,checkedNodes:Se(ye),halfCheckedKeys:g,halfCheckedNodes:Se(g),e:m})}function Fe(s){const{targetKey:u,targetSelected:v,newSelectedKeys:y,event:g}=s,m=u?I.value.get(u):void 0;t("update:selectedKeys",y),t("select",y,{selected:v,node:m==null?void 0:m.treeNodeData,selectedNodes:Se(y),e:g})}function Ae(s){const{targetKey:u,targetExpanded:v,newExpandedKeys:y,event:g}=s,m=u?I.value.get(u):void 0;t("expand",y,{expanded:v,node:m==null?void 0:m.treeNodeData,expandedNodes:Se(y),e:g}),t("update:expandedKeys",y)}function Ot(s){const[u,v]=Le(s,[],!0);xe({newCheckedKeys:u,newIndeterminateKeys:v})}function xt(s){let u=s;!c.value&&s.length>1&&(u=[s[0]]),Ie(u),Fe({newSelectedKeys:u})}function Ft(s){se.value=[],Oe(s),Ae({newExpandedKeys:s})}function At(s,u,v){if(!s.length)return;let y=[...fe.value],g=[...De.value];s.forEach(m=>{const ie=I.value.get(m);ie&&([y,g]=ct({node:ie,checked:u,checkedKeys:[...y],indeterminateKeys:[...g],checkStrictly:p.value}))}),Le(y,g),xe({targetKey:v,targetChecked:ce(v)?void 0:u,newCheckedKeys:y,newIndeterminateKeys:g})}function Vt(s,u,v){if(!s.length)return;let y;if(c.value){const g=new Set(Ce.value);s.forEach(m=>{u?g.add(m):g.delete(m)}),y=[...g]}else y=u?[s[0]]:[];Ie(y),Fe({targetKey:v,targetSelected:ce(v)?void 0:u,newSelectedKeys:y})}function jt(s,u,v){const y=new Set(we.value);s.forEach(m=>{u?y.add(m):y.delete(m),Qe(m)});const g=[...y];Oe(g),Ae({targetKey:v,targetExpanded:ce(v)?void 0:u,newExpandedKeys:g})}function Ze(s,u,v){const y=I.value.get(u);if(!y)return;const[g,m]=ct({node:y,checked:s,checkedKeys:fe.value,indeterminateKeys:De.value,checkStrictly:p.value});Le(g,m),xe({targetKey:u,targetChecked:s,newCheckedKeys:g,newIndeterminateKeys:m,event:v})}function Mt(s,u){if(!I.value.get(s))return;let y,g;if(c.value){const m=new Set(Ce.value);g=!m.has(s),g?m.add(s):m.delete(s),y=[...m]}else g=!0,y=[s];Ie(y),Fe({targetKey:s,targetSelected:g,newSelectedKeys:y,event:u})}function Je(s,u,v){if(se.value.includes(u)||!I.value.get(u))return;const g=new Set(we.value);s?g.add(u):g.delete(u);const m=[...g];Oe(m),le.value&&se.value.push(u),Ae({targetKey:u,targetExpanded:s,newExpandedKeys:m,event:v})}function Qe(s){const u=se.value.indexOf(s);se.value.splice(u,1)}const Rt=S(()=>r!=null&&r.value?async s=>{if(!ge(r.value))return;const u=I.value.get(s);if(!u)return;const{treeNodeData:v}=u;re.value=[...new Set([...re.value,s])];try{await r.value(v),re.value=re.value.filter(y=>y!==s),Je(!0,s),fe.value.includes(s)&&Ze(!0,s)}catch(y){re.value=re.value.filter(g=>g!==s),console.error("[tree]load data error: ",y)}}:void 0),et=oe({treeProps:e,switcherIcon:Be,loadingIcon:f,dragIcon:K,nodeIcon:ee,nodeTitle:Tt,nodeExtra:Bt,treeData:Pt,flattenTreeData:Pe,key2TreeNode:I,checkedKeys:fe,indeterminateKeys:De,selectedKeys:Ce,expandedKeys:we,loadingKeys:re,currentExpandKeys:se,onLoadMore:Rt,filterTreeNode:j,onCheck:Ze,onSelect:Mt,onExpand:Je,onExpandEnd:Qe,allowDrop(s,u){const v=I.value.get(s);return v&&ge(ae.value)?!!ae.value({dropNode:v.treeNodeData,dropPosition:u}):!0},onDragStart(s,u){const v=I.value.get(s);ve.value=v,v&&t("dragStart",u,v.treeNodeData)},onDragEnd(s,u){const v=I.value.get(s);ve.value=void 0,v&&t("dragEnd",u,v.treeNodeData)},onDragOver(s,u){const v=I.value.get(s);v&&t("dragOver",u,v.treeNodeData)},onDragLeave(s,u){const v=I.value.get(s);v&&t("dragLeave",u,v.treeNodeData)},onDrop(s,u,v){const y=I.value.get(s);ve.value&&y&&!(y.key===ve.value.key||y.pathParentKeys.includes(ve.value.key||""))&&t("drop",{e:v,dragNode:ve.value.treeNodeData,dropNode:y.treeNodeData,dropPosition:u})}});return nn(_t,et),{classNames:Q,visibleTreeNodeList:It,treeContext:et,virtualListRef:T(),computedSelectedKeys:Ce,computedExpandedKeys:we,computedCheckedKeys:fe,computedIndeterminateKeys:De,getPublicCheckedKeys:Xe,getNodes:Se,internalCheckNodes:At,internalSetCheckedKeys:Ot,internalSelectNodes:Vt,internalSetSelectedKeys:xt,internalExpandNodes:jt,internalSetExpandedKeys:Ft}},methods:{toggleCheck(e,t){const{key2TreeNode:n,onCheck:o,checkedKeys:l}=this.treeContext,c=!l.includes(e),r=n.get(e);r&&he(r)&&o(c,e,t)},scrollIntoView(e){this.virtualListRef&&this.virtualListRef.scrollTo(e)},getSelectedNodes(){return this.getNodes(this.computedSelectedKeys)},getCheckedNodes(e={}){const{checkedStrategy:t,includeHalfChecked:n}=e,o=this.getPublicCheckedKeys(this.computedCheckedKeys,t);return[...this.getNodes(o),...n?this.getHalfCheckedNodes():[]]},getHalfCheckedNodes(){return this.getNodes(this.computedIndeterminateKeys)},getExpandedNodes(){return this.getNodes(this.computedExpandedKeys)},checkAll(e=!0){const{key2TreeNode:t}=this.treeContext,n=e?[...t.keys()].filter(o=>{const l=t.get(o);return l&&he(l)}):[];this.internalSetCheckedKeys(n)},checkNode(e,t=!0,n=!1){const{checkStrictly:o,treeContext:l}=this,{key2TreeNode:c}=l,r=Ee(e),p=(r?e:[e]).filter(a=>{const i=c.get(a);return i&&he(i)&&(o||!n||Kn(i))});this.internalCheckNodes(p,t,r?void 0:e)},selectAll(e=!0){const{key2TreeNode:t}=this.treeContext,n=e?[...t.keys()].filter(o=>{const l=t.get(o);return l&&st(l)}):[];this.internalSetSelectedKeys(n)},selectNode(e,t=!0){const{key2TreeNode:n}=this.treeContext,o=Ee(e),l=(o?e:[e]).filter(c=>{const r=n.get(c);return r&&st(r)});this.internalSelectNodes(l,t,o?void 0:e)},expandAll(e=!0){const{key2TreeNode:t}=this.treeContext,n=e?[...t.keys()].filter(o=>{const l=t.get(o);return l&&it(l)}):[];this.internalSetExpandedKeys(n)},expandNode(e,t=!0){const{key2TreeNode:n}=this.treeContext,o=Ee(e),l=(o?e:[e]).filter(c=>{const r=n.get(c);return r&&it(r)});this.internalExpandNodes(l,t,o?void 0:e)}}});function to(e,t,n,o,l,c){const r=O("TreeNode"),p=O("VirtualList");return h(),A("div",{class:P(e.classNames)},[e.virtualListProps?(h(),N(p,Y({key:0,ref:"virtualListRef"},e.virtualListProps,{data:e.visibleTreeNodeList}),{item:B(({item:a})=>[V(r,Y({key:a.key},a.treeNodeProps),null,16)]),_:1},16,["data"])):(h(!0),A(de,{key:1},Ne(e.visibleTreeNodeList,a=>(h(),N(r,Y({key:a.key},a.treeNodeProps),null,16))),128))],2)}var Me=ke(eo,[["render",to]]);const no=Object.assign(Me,{install:(e,t)=>{Ye(e,t);const n=Ge(t);e.component(n+Me.name,Me)}});const oo=e=>(cn("data-v-f0b65f90"),e=e(),dn(),e),ao={class:"page"},lo={class:"tw-mb-4"},ro={"na-loading-text":"加载中",class:"content tw-overflow-hidden tw-mt-[10px] tw-text-c-1 tw-py-[10px] tw-bg-cbg-1 tw-rounded lg:tw-flex tw-flex-wrap"},so={class:"menu-tree tw-flex-grow-[1] tw-bord lg:tw-border-r lg:tw-border-b-0 tw-border-solid tw-border-cb-1 tw-pr-4 tw-px-5 tw-pb-5 tw-mb-4 tw-border-b"},io={class:"tw-text-title-1 tw-items-center tw-flex tw-pb-[10px] tw-mb-2 tw-border-b tw-border-solid tw-border-cb-1"},co=oo(()=>F("span",{class:"tw-text-title-1 tw-leading-snug"},"菜单列表",-1)),uo={class:"tw-ml-auto"},po={class:"menu-detail tw-px-5 tw-flex-1 tw-mb-2 tw-flex-grow-[4]"},fo={class:"tw-text-title-1 -tw-mt-2 tw-items-center tw-justify-between tw-flex tw-flex-wrap tw-pb-[10px] tw-mb-2 tw-border-b tw-border-solid tw-border-cb-1"},vo={class:"tw-text-title-1 tw-leading-snug tw-mt-2"},yo=Z({__name:"Menu",setup(e){let t=oe([]),{loading:n,run:o}=yn(fn);o().then(_=>{t.length=0,t.push(..._.data)}).catch(_=>{console.log(_)}),T(!0),on();const l=T([]),c=T(null);let r=T([]);function p(_,R=[]){return _.map((w,L)=>{let j=[...R,L],H={};return H.title=w.meta.title,H.key=j.join("-"),w.meta.type===Ke.Catelog&&(H.icon=()=>W($e,{icon:w.meta.icon,backupIcon:"icon-folder"})),w.meta.type===Ke.Page&&(H.icon=()=>W($e,{icon:w.meta.icon,backupIcon:"icon-file"})),w.meta.type===Ke.Button&&(H.icon=()=>W($e,{icon:"icon-check-square"})),w.children&&w.children.length&&(H.children=p(w.children,j)),H})}const a=T(te.detail),i=S(()=>p(t,[]));let d=_=>{l.value=_,r.value=k(),b()};const k=()=>{let _=[];function R(w,L){let j=Number.parseInt(L.shift());return L.length?[w[j],...R(w[j].children,L)]:[w[j]]}return l.value.length?(_=l.value[0].split("-"),R(t,_)):[]};function b(){var _;a.value=te.detail,(_=c.value)==null||_.update(a.value,r.value[r.value.length-1])}function C(){var _;if(a.value===te.edit){b();return}a.value=te.edit,(_=c.value)==null||_.update(te.edit,r.value[r.value.length-1])}function E(){var _;a.value=te.add,(_=c.value)==null||_.update(te.add)}function D(){}function M(){}return(_,R)=>{var le;const w=kn,L=wt,j=no,H=Cn,ae=an,J=ln,G=rn,pe=sn,be=lt("perms"),me=lt("loading");return h(),A("div",ao,[F("div",lo,[V(pn,{full:"",title:"菜单管理",subtitle:"编辑全局菜单项","show-back":!1})]),V(w,null,{default:B(()=>[q("以下操作均为模拟操作")]),_:1}),rt((h(),A("div",ro,[F("div",so,[F("div",io,[co,F("div",uo,[rt((h(),N(L,{size:"small",type:"secondary"},{default:B(()=>[q(" 添加顶级菜单 ")]),_:1})),[[be,["system.menus.add"]]])])]),V(j,{"action-on-node-click":"expand",animation:!1,data:z(i),"block-node":"","selected-keys":z(l),"onUpdate:selectedKeys":z(d)},null,8,["data","selected-keys","onUpdate:selectedKeys"])]),F("div",po,[F("div",fo,[F("span",vo,X(["菜单详情","编辑菜单","添加子菜单"][z(a)-1]),1),(le=z(r)[z(r).length-1])!=null&&le.meta?(h(),N(ae,{key:0,class:"tw-mt-2"},{default:B(()=>{var x,Q;return[V(L,{size:"small",type:"secondary",onClick:C},{default:B(()=>[q(X(z(a)===z(te).edit?"取消编辑":"编辑菜单"),1)]),_:1}),((Q=(x=z(r)[z(r).length-1])==null?void 0:x.meta)==null?void 0:Q.type)===z(Ke).Catelog?(h(),N(L,{key:0,size:"small",type:"secondary",onClick:E},{default:B(()=>[q(" 添加子菜单 ")]),_:1})):$("",!0),V(H,{content:"确定要删除吗?",type:"info","cancel-text":"取消","ok-text":"删除"},{default:B(()=>[V(L,{size:"small",type:"secondary",status:"danger",onClick:D},{default:B(()=>[q(" 删除菜单 ")]),_:1})]),_:1})]}),_:1})):$("",!0)]),F("div",null,[V(pe,{class:"!tw-text-body-1 tw-mb-4"},{default:B(()=>[(h(!0),A(de,null,Ne(z(r),x=>(h(),N(G,{key:x.name},Kt({default:B(()=>[V($e,{icon:x.meta.icon},null,8,["icon"]),q(" "+X(x.meta.title),1)]),_:2},[x.meta.type===z(Ke).Catelog&&x.children&&x.children.length?{name:"droplist",fn:B(()=>[(h(!0),A(de,null,Ne(x.children,Q=>(h(),N(J,null,{default:B(()=>[q(X(Q.meta.title),1)]),_:2},1024))),256))]),key:"0"}:void 0]),1024))),128))]),_:1})]),z(l).length?(h(),N(vn,{key:0,ref_key:"menuDetailForm",ref:c,onUpdate:M},null,512)):(h(),N(w,{key:1,type:"warning"},{default:B(()=>[q("请选择在右侧菜单树中选择菜单或点击【添加顶级菜单】进行操作 ")]),_:1}))])])),[[me,z(n)]])])}}});const wo=un(yo,[["__scopeId","data-v-f0b65f90"]]);export{wo as default};
