import{e as t}from"./runtime-core.esm-bundler-a91919e4.js";function _(g,d){const{loading:p=!1,onSuccess:o,onFail:i,pollingInterval:f=0}=d||{};let r,e;const s=t(p),u=t(!1),a=t(!1),c=t(void 0),v=(...l)=>(s.value=!0,e=l,g(...l).then(n=>(u.value=!1,c.value=n,o&&o instanceof Function&&o(n),n)).catch(n=>(c.value=void 0,u.value=n,i&&i instanceof Function&&i(n),Promise.reject(n))).finally(()=>{if(s.value=!1,f>0&&!a.value){a.value=!0;let n=e instanceof Array?e:[];r=setInterval(()=>v(...n),f)}})),I=()=>{let l=e instanceof Array?e:[];return v(...l)};function P(){a.value&&(a.value=!1,clearInterval(r),r=void 0)}return{loading:s,run:v,aginRun:I,error:u,isPollingInterval:a,cancelPollingInterval:P,data:c}}export{_ as u};
