import{l as Dl,a as Q,i as Y,_ as ve,c as st,s as Oe,g as ke,d as ue,m as ct,h as Ce,u as je,f as Te,I as Ll,b as Pe,k as Fl,e as Al,B as hl,n as dt}from"./index-0afa90f8.js";import{d as X,e as _,c as v,A as ne,v as _e,x as vt,G as Hl,o as W,f as le,n as q,z as be,j as de,y as Kl,b as k,i as oe,w as ce,h as me,q as ie,a as te,k as re,t as pe,E as Wl,s as Re,S as ft,r as xe,am as ql,g as Ul,C as il,D as sl,K as ye,p as pt,F as He,l as mt,ao as bt,T as ht}from"./runtime-core.esm-bundler-a91919e4.js";import{S as gt,i as cl}from"./index.es-64699b09.js";import{C as yt,E as Gl,p as Zl,F as Yl,B as _t,f as $t,b as Xl,g as St,c as Ct}from"./index-233553b6.js";import{u as wt,g as Jl,K as we}from"./keyboard-7347d57e.js";import{i as Ot,R as kt,T as gl}from"./index-0130073b.js";import{o as Ql}from"./use-teleport-container-b7268e2a.js";import{e as Ae}from"./type-10923189.js";import{w as et,T as Vt,v as lt,a as It}from"./runtime-dom.esm-bundler-a8993a42.js";import{e as tt,o as Ye,a as yl,f as Bt,I as vl}from"./use-popup-manager-465c96d3.js";import{I as fl}from"./index-c2cfd912.js";var zt=X({name:"ResizeObserver",emits:["resize"],setup(e,{emit:l,slots:t}){let a;const s=_(),r=v(()=>Dl(s.value)?s.value.$el:s.value),n=d=>{d&&(a=new Ot(f=>{const c=f[0];l("resize",c)}),a.observe(d))},o=()=>{a&&(a.disconnect(),a=null)};return ne(r,d=>{a&&o(),d&&n(d)}),_e(()=>{r.value&&n(r.value)}),vt(()=>{o()}),()=>{var d,f;const c=tt((f=(d=t.default)==null?void 0:d.call(t))!=null?f:[]);return c?Hl(c,{ref:s},!0):null}}});const Pt=X({name:"IconEmpty",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:l}){const t=Q("icon"),a=v(()=>[t,`${t}-empty`,{[`${t}-spin`]:e.spin}]),s=v(()=>{const n={};return e.size&&(n.fontSize=Y(e.size)?`${e.size}px`:e.size),e.rotate&&(n.transform=`rotate(${e.rotate}deg)`),n});return{cls:a,innerStyle:s,onClick:n=>{l("click",n)}}}}),Rt=["stroke-width","stroke-linecap","stroke-linejoin"],xt=de("path",{d:"M24 5v6m7 1 4-4m-18 4-4-4m28.5 22H28s-1 3-4 3-4-3-4-3H6.5M40 41H8a2 2 0 0 1-2-2v-8.46a2 2 0 0 1 .272-1.007l6.15-10.54A2 2 0 0 1 14.148 18H33.85a2 2 0 0 1 1.728.992l6.149 10.541A2 2 0 0 1 42 30.541V39a2 2 0 0 1-2 2Z"},null,-1),Mt=[xt];function jt(e,l,t,a,s,r){return W(),le("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:q(e.cls),style:be(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:l[0]||(l[0]=(...n)=>e.onClick&&e.onClick(...n))},Mt,14,Rt)}var Xe=ve(Pt,[["render",jt]]);const Tt=Object.assign(Xe,{install:(e,l)=>{var t;const a=(t=l==null?void 0:l.iconPrefix)!=null?t:"";e.component(a+Xe.name,Xe)}});var Je=X({name:"Empty",props:{description:String,imgSrc:String},setup(e,{slots:l}){const t=Q("empty"),{t:a}=wt(),s=Kl(st,void 0);return()=>{var r,n,o,d;return s!=null&&s.slots.empty&&!(l.image||e.imgSrc)?s.slots.empty():k("div",{class:t},[k("div",{class:`${t}-image`},[(n=(r=l.image)==null?void 0:r.call(l))!=null?n:e.imgSrc?k("img",{src:e.imgSrc,alt:e.description||"empty"},null):k(Tt,null,null)]),k("div",{class:`${t}-description`},[(d=(o=l.default)==null?void 0:o.call(l))!=null?d:e.description||a("empty.description")])])}}});const Et=Object.assign(Je,{install:(e,l)=>{Oe(e,l);const t=ke(l);e.component(t+Je.name,Je)}}),Nt=X({name:"Thumb",props:{data:{type:Object},direction:{type:String,default:"horizontal"},alwaysShow:{type:Boolean,default:!1},both:{type:Boolean,default:!1}},emits:["scroll"],setup(e,{emit:l}){const t=Q("scrollbar"),a=_(!1),s=_(),r=_(),n=v(()=>e.direction==="horizontal"?{size:"width",direction:"left",offset:"offsetWidth",client:"clientX"}:{size:"height",direction:"top",offset:"offsetHeight",client:"clientY"}),o=_(0),d=_(!1),f=_(0),c=v(()=>{var R,b;return{[n.value.size]:`${(b=(R=e.data)==null?void 0:R.thumbSize)!=null?b:0}px`,[n.value.direction]:`${o.value}px`}}),V=R=>{R.preventDefault(),r.value&&(f.value=R[n.value.client]-r.value.getBoundingClientRect()[n.value.direction],d.value=!0,Ye(window,"mousemove",z),Ye(window,"mouseup",P),Ye(window,"contextmenu",P))},C=R=>{var b,$,w,i;if(R.preventDefault(),r.value){const p=O(R[n.value.client]>r.value.getBoundingClientRect()[n.value.direction]?o.value+(($=(b=e.data)==null?void 0:b.thumbSize)!=null?$:0):o.value-((i=(w=e.data)==null?void 0:w.thumbSize)!=null?i:0));p!==o.value&&(o.value=p,l("scroll",p))}},O=R=>R<0?0:e.data&&R>e.data.max?e.data.max:R,z=R=>{if(s.value&&r.value){const b=O(R[n.value.client]-s.value.getBoundingClientRect()[n.value.direction]-f.value);b!==o.value&&(o.value=b,l("scroll",b))}},P=()=>{d.value=!1,yl(window,"mousemove",z),yl(window,"mouseup",P)},x=R=>{d.value||(R=O(R),R!==o.value&&(o.value=R))},A=v(()=>[`${t}-thumb`,`${t}-thumb-direction-${e.direction}`,{[`${t}-thumb-dragging`]:d.value}]);return{visible:a,trackRef:s,thumbRef:r,prefixCls:t,thumbCls:A,thumbStyle:c,handleThumbMouseDown:V,handleTrackClick:C,setOffset:x}}});function Dt(e,l,t,a,s,r){return W(),oe(Vt,null,{default:ce(()=>[de("div",{ref:"trackRef",class:q([`${e.prefixCls}-track`,`${e.prefixCls}-track-direction-${e.direction}`]),onMousedown:l[1]||(l[1]=et((...n)=>e.handleTrackClick&&e.handleTrackClick(...n),["self"]))},[de("div",{ref:"thumbRef",class:q(e.thumbCls),style:be(e.thumbStyle),onMousedown:l[0]||(l[0]=(...n)=>e.handleThumbMouseDown&&e.handleThumbMouseDown(...n))},[de("div",{class:q(`${e.prefixCls}-thumb-bar`)},null,2)],38)],34)]),_:1})}var Lt=ve(Nt,[["render",Dt]]);const _l=20,Ne=15,Ft=X({name:"Scrollbar",components:{ResizeObserver:kt,Thumb:Lt},inheritAttrs:!1,props:{type:{type:String,default:"embed"},outerClass:[String,Object,Array],outerStyle:{type:[String,Object,Array]},hide:{type:Boolean,default:!1},disableHorizontal:{type:Boolean,default:!1},disableVertical:{type:Boolean,default:!1}},emits:{scroll:e=>!0},setup(e,{emit:l}){const t=Q("scrollbar"),a=_(),s=_(),r=_(),n=_(),o=_(),d=_(!1),f=_(!1),c=v(()=>d.value&&!e.disableHorizontal),V=v(()=>f.value&&!e.disableVertical),C=_(!1),O=()=>{var $,w,i,p,M,I;if(a.value){const{clientWidth:N,clientHeight:S,offsetWidth:D,offsetHeight:H,scrollWidth:g,scrollHeight:K,scrollTop:U,scrollLeft:Z}=a.value;d.value=g>N,f.value=K>S,C.value=c.value&&V.value;const G=e.type==="embed"&&C.value?D-Ne:D,m=e.type==="embed"&&C.value?H-Ne:H,T=Math.round(G/Math.min(g/N,G/_l)),j=G-T,J=(g-N)/j,fe=Math.round(m/Math.min(K/S,m/_l)),ee=m-fe,Ve=(K-S)/ee;if(s.value={ratio:J,thumbSize:T,max:j},r.value={ratio:Ve,thumbSize:fe,max:ee},U>0){const se=Math.round(U/((w=($=r.value)==null?void 0:$.ratio)!=null?w:1));(i=o.value)==null||i.setOffset(se)}if(Z>0){const se=Math.round(Z/((M=(p=r.value)==null?void 0:p.ratio)!=null?M:1));(I=n.value)==null||I.setOffset(se)}}};_e(()=>{O()});const z=()=>{O()},P=$=>{var w,i,p,M,I,N;if(a.value){if(c.value&&!e.disableHorizontal){const S=Math.round(a.value.scrollLeft/((i=(w=s.value)==null?void 0:w.ratio)!=null?i:1));(p=n.value)==null||p.setOffset(S)}if(V.value&&!e.disableVertical){const S=Math.round(a.value.scrollTop/((I=(M=r.value)==null?void 0:M.ratio)!=null?I:1));(N=o.value)==null||N.setOffset(S)}}l("scroll",$)},x=$=>{var w,i;a.value&&a.value.scrollTo({left:$*((i=(w=s.value)==null?void 0:w.ratio)!=null?i:1)})},A=$=>{var w,i;a.value&&a.value.scrollTo({top:$*((i=(w=r.value)==null?void 0:w.ratio)!=null?i:1)})},R=v(()=>{const $={};return e.type==="track"&&(c.value&&($.paddingBottom=`${Ne}px`),V.value&&($.paddingRight=`${Ne}px`)),[$,e.outerStyle]}),b=v(()=>[`${t}`,`${t}-type-${e.type}`,{[`${t}-both`]:C.value},e.outerClass]);return{prefixCls:t,cls:b,style:R,containerRef:a,horizontalThumbRef:n,verticalThumbRef:o,horizontalData:s,verticalData:r,isBoth:C,hasHorizontalScrollbar:c,hasVerticalScrollbar:V,handleResize:z,handleScroll:P,handleHorizontalScroll:x,handleVerticalScroll:A}},methods:{scrollTo(e,l){var t,a;ue(e)?(t=this.$refs.containerRef)==null||t.scrollTo(e):(e||l)&&((a=this.$refs.containerRef)==null||a.scrollTo(e,l))},scrollTop(e){var l;(l=this.$refs.containerRef)==null||l.scrollTo({top:e})},scrollLeft(e){var l;(l=this.$refs.containerRef)==null||l.scrollTo({left:e})}}});function At(e,l,t,a,s,r){const n=me("ResizeObserver"),o=me("thumb");return W(),le("div",{class:q(e.cls),style:be(e.style)},[k(n,{onResize:e.handleResize},{default:ce(()=>[de("div",ie({ref:"containerRef",class:`${e.prefixCls}-container`},e.$attrs,{onScroll:l[0]||(l[0]=(...d)=>e.handleScroll&&e.handleScroll(...d))}),[k(n,{onResize:e.handleResize},{default:ce(()=>[te(e.$slots,"default")]),_:3},8,["onResize"])],16)]),_:3},8,["onResize"]),!e.hide&&e.hasHorizontalScrollbar?(W(),oe(o,{key:0,ref:"horizontalThumbRef",data:e.horizontalData,direction:"horizontal",both:e.isBoth,onScroll:e.handleHorizontalScroll},null,8,["data","both","onScroll"])):re("v-if",!0),!e.hide&&e.hasVerticalScrollbar?(W(),oe(o,{key:1,ref:"verticalThumbRef",data:e.verticalData,direction:"vertical",both:e.isBoth,onScroll:e.handleVerticalScroll},null,8,["data","both","onScroll"])):re("v-if",!0)],6)}var Qe=ve(Ft,[["render",At]]);const Ht=Object.assign(Qe,{install:(e,l)=>{Oe(e,l);const t=ke(l);e.component(t+Qe.name,Qe)}}),Kt=e=>{const l=_(),t=()=>Dl(l.value)?l.value.$refs[e]:l.value,a=_();return _e(()=>{a.value=t()}),ne([l],()=>{a.value=t()}),{componentRef:l,elementRef:a}};var Wt=Object.defineProperty,$l=Object.getOwnPropertySymbols,qt=Object.prototype.hasOwnProperty,Ut=Object.prototype.propertyIsEnumerable,Sl=(e,l,t)=>l in e?Wt(e,l,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[l]=t,Gt=(e,l)=>{for(var t in l||(l={}))qt.call(l,t)&&Sl(e,t,l[t]);if($l)for(var t of $l(l))Ut.call(l,t)&&Sl(e,t,l[t]);return e};const Zt=e=>{const l=v(()=>Boolean(e.value)),t=v(()=>{if(e.value)return Gt({type:"embed"},ct(e.value)?void 0:e.value)});return{displayScrollbar:l,scrollbarProps:t}},Yt=X({name:"SelectDropdown",components:{ScrollbarComponent:Ht,Empty:Et,Spin:gt},props:{loading:Boolean,empty:Boolean,virtualList:Boolean,bottomOffset:{type:Number,default:0},scrollbar:{type:[Boolean,Object],default:!0},onScroll:{type:[Function,Array]},onReachBottom:{type:[Function,Array]}},emits:["scroll","reachBottom"],setup(e,{emit:l,slots:t}){const{scrollbar:a}=pe(e),s=Q("select-dropdown"),{componentRef:r,elementRef:n}=Kt("containerRef"),{displayScrollbar:o,scrollbarProps:d}=Zt(a),f=V=>{const{scrollTop:C,scrollHeight:O,offsetHeight:z}=V.target;O-(C+z)<=e.bottomOffset&&l("reachBottom",V),l("scroll",V)},c=v(()=>[s,{[`${s}-has-footer`]:Boolean(t.footer)}]);return{prefixCls:s,cls:c,wrapperRef:n,wrapperComRef:r,handleScroll:f,displayScrollbar:o,scrollbarProps:d}}});function Xt(e,l,t,a,s,r){const n=me("spin"),o=me("empty");return W(),le("div",{class:q(e.cls)},[e.loading?(W(),oe(n,{key:0,class:q(`${e.prefixCls}-loading`)},null,8,["class"])):e.empty?(W(),le("div",{key:1,class:q(`${e.prefixCls}-empty`)},[te(e.$slots,"empty",{},()=>[k(o)])],2)):re("v-if",!0),e.virtualList&&!e.loading&&!e.empty?te(e.$slots,"virtual-list",{key:2}):re("v-if",!0),e.virtualList?re("v-if",!0):Wl((W(),oe(Re(e.displayScrollbar?"ScrollbarComponent":"div"),ie({key:3,ref:"wrapperComRef",class:`${e.prefixCls}-list-wrapper`},e.scrollbarProps,{onScroll:e.handleScroll}),{default:ce(()=>[de("ul",{class:q(`${e.prefixCls}-list`)},[te(e.$slots,"default")],2)]),_:3},16,["class","onScroll"])),[[lt,!e.loading&&!e.empty]]),e.$slots.footer&&!e.empty?(W(),le("div",{key:4,class:q(`${e.prefixCls}-footer`)},[te(e.$slots,"footer")],2)):re("v-if",!0)],2)}var Jt=ve(Yt,[["render",Xt]]);const nt=Symbol("ArcoSelectContext");var Qt=Object.defineProperty,en=Object.defineProperties,ln=Object.getOwnPropertyDescriptors,Cl=Object.getOwnPropertySymbols,tn=Object.prototype.hasOwnProperty,nn=Object.prototype.propertyIsEnumerable,wl=(e,l,t)=>l in e?Qt(e,l,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[l]=t,pl=(e,l)=>{for(var t in l||(l={}))tn.call(l,t)&&wl(e,t,l[t]);if(Cl)for(var t of Cl(l))nn.call(l,t)&&wl(e,t,l[t]);return e},at=(e,l)=>en(e,ln(l));const an=e=>ue(e)&&"isGroup"in e,ot=e=>ue(e)&&"isGroup"in e,on=(e,l="value")=>String(ue(e)?e[l]:e),Me=(e,l="value")=>ue(e)?`__arco__option__object__${e[l]}`:e||Y(e)?`__arco__option__${typeof e}-${e}`:"",rn=(e,{valueKey:l,fieldNames:t,origin:a,index:s=-1})=>{var r;if(ue(e)){const o=e[t.value];return{raw:e,index:s,key:Me(o,l),origin:a,value:o,label:(r=e[t.label])!=null?r:on(o,l),render:e[t.render],disabled:Boolean(e[t.disabled]),tagProps:e[t.tagProps]}}const n={value:e,label:String(e),disabled:!1};return pl({raw:n,index:s,key:Me(e,l),origin:a},n)},dl=(e,{valueKey:l,fieldNames:t,origin:a,optionInfoMap:s})=>{var r;const n=[];for(const o of e)if(an(o)){const d=dl((r=o.options)!=null?r:[],{valueKey:l,fieldNames:t,origin:a,optionInfoMap:s});d.length>0&&n.push(at(pl({},o),{key:`__arco__group__${o.label}`,options:d}))}else{const d=rn(o,{valueKey:l,fieldNames:t,origin:a});n.push(d),s.get(d.key)||s.set(d.key,d)}return n},Ol=(e,{inputValue:l,filterOption:t})=>{const a=s=>{var r;const n=[];for(const o of s)if(ot(o)){const d=a((r=o.options)!=null?r:[]);d.length>0&&n.push(at(pl({},o),{options:d}))}else Ke(o,{inputValue:l,filterOption:t})&&n.push(o);return n};return a(e)},Ke=(e,{inputValue:l,filterOption:t})=>Ce(t)?!l||t(l,e.raw):t?e.label.toLowerCase().includes((l??"").toLowerCase()):!0,un=(e,l)=>{if(!e||!l||e.length!==l.length)return!1;for(const t of Object.keys(e))if(!ml(e[t],l[t]))return!1;return!0},sn=(e,l)=>{if(!e||!l)return!1;const{length:t}=e;if(t!==l.length)return!1;for(let a=0;a<t;a++)if(!ml(e[a],l[a]))return!1;return!0},ml=(e,l)=>{const t=Object.prototype.toString.call(e);return t!==Object.prototype.toString.call(l)?!1:t==="[object Object]"?un(e,l):t==="[object Array]"?sn(e,l):t==="[object Function]"?e===l?!0:e.toString()===l.toString():e===l},cn=X({name:"Option",components:{Checkbox:yt},props:{value:[String,Number,Object],label:String,disabled:Boolean,tagProps:{type:Object},extra:{type:Object},index:{type:Number},internal:Boolean},setup(e){const{disabled:l,tagProps:t,index:a}=pe(e),s=Q("select-option"),r=Kl(nt,void 0),n=Ul(),o=_(),d=_(t.value);ne(t,(i,p)=>{ml(i,p)||(d.value=i)});const f=_(""),c=v(()=>{var i,p;return(p=(i=e.value)!=null?i:e.label)!=null?p:f.value}),V=v(()=>{var i;return(i=e.label)!=null?i:f.value}),C=v(()=>Me(c.value,r==null?void 0:r.valueKey)),O=v(()=>{var i;return(i=r==null?void 0:r.component)!=null?i:"li"}),z=()=>{var i;if(!e.label&&o.value){const p=(i=o.value.textContent)!=null?i:"";f.value!==p&&(f.value=p)}};_e(()=>z()),ft(()=>z());const P=v(()=>{var i;return(i=r==null?void 0:r.valueKeys.includes(C.value))!=null?i:!1}),x=v(()=>(r==null?void 0:r.activeKey)===C.value);let A=_(!0);if(!e.internal){const i=xe({raw:{value:c,label:V,disabled:l,tagProps:d},ref:o,index:a,key:C,origin:"slot",value:c,label:V,disabled:l,tagProps:d});A=v(()=>Ke(i,{inputValue:r==null?void 0:r.inputValue,filterOption:r==null?void 0:r.filterOption})),n&&(r==null||r.addSlotOptionInfo(n.uid,i)),ql(()=>{n&&(r==null||r.removeSlotOptionInfo(n.uid))})}const R=i=>{e.disabled||r==null||r.onSelect(C.value,i)},b=()=>{e.disabled||r==null||r.setActiveKey(C.value)},$=()=>{e.disabled||r==null||r.setActiveKey()},w=v(()=>[s,{[`${s}-disabled`]:e.disabled,[`${s}-active`]:x.value,[`${s}-multiple`]:r==null?void 0:r.multiple}]);return{prefixCls:s,cls:w,selectCtx:r,itemRef:o,component:O,isSelected:P,isValid:A,handleClick:R,handleMouseEnter:b,handleMouseLeave:$}}});function dn(e,l,t,a,s,r){const n=me("checkbox");return Wl((W(),oe(Re(e.component),{ref:"itemRef",class:q([e.cls,{[`${e.prefixCls}-has-suffix`]:Boolean(e.$slots.suffix)}]),onClick:e.handleClick,onMouseenter:e.handleMouseEnter,onMouseleave:e.handleMouseLeave},{default:ce(()=>[e.$slots.icon?(W(),le("span",{key:0,class:q(`${e.prefixCls}-icon`)},[te(e.$slots,"icon")],2)):re("v-if",!0),e.selectCtx&&e.selectCtx.multiple?(W(),oe(n,{key:1,class:q(`${e.prefixCls}-checkbox`),"model-value":e.isSelected,disabled:e.disabled,"uninject-group-context":""},{default:ce(()=>[te(e.$slots,"default",{},()=>[il(sl(e.label),1)])]),_:3},8,["class","model-value","disabled"])):(W(),le("span",{key:2,class:q(`${e.prefixCls}-content`)},[te(e.$slots,"default",{},()=>[il(sl(e.label),1)])],2)),e.$slots.suffix?(W(),le("span",{key:3,class:q(`${e.prefixCls}-suffix`)},[te(e.$slots,"suffix")],2)):re("v-if",!0)]),_:3},8,["class","onClick","onMouseenter","onMouseleave"])),[[lt,e.isValid]])}var Le=ve(cn,[["render",dn]]),vn=Object.defineProperty,fn=Object.defineProperties,pn=Object.getOwnPropertyDescriptors,kl=Object.getOwnPropertySymbols,mn=Object.prototype.hasOwnProperty,bn=Object.prototype.propertyIsEnumerable,Vl=(e,l,t)=>l in e?vn(e,l,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[l]=t,el=(e,l)=>{for(var t in l||(l={}))mn.call(l,t)&&Vl(e,t,l[t]);if(kl)for(var t of kl(l))bn.call(l,t)&&Vl(e,t,l[t]);return e},hn=(e,l)=>fn(e,pn(l));const gn={value:"value",label:"label",disabled:"disabled",tagProps:"tagProps",render:"render"},yn=({options:e,extraOptions:l,inputValue:t,filterOption:a,showExtraOptions:s,valueKey:r,fieldNames:n})=>{const o=v(()=>el(el({},gn),n==null?void 0:n.value)),d=xe(new Map),f=_([]);ne(d,b=>{f.value=Array.from(b.values()).sort(($,w)=>Y($.index)&&Y(w.index)?$.index-w.index:0)},{deep:!0});const c=v(()=>{var b,$;const w=new Map;return{optionInfos:dl((b=e==null?void 0:e.value)!=null?b:[],{valueKey:($=r==null?void 0:r.value)!=null?$:"value",fieldNames:o.value,origin:"options",optionInfoMap:w}),optionInfoMap:w}}),V=v(()=>{var b,$;const w=new Map;return{optionInfos:dl((b=l==null?void 0:l.value)!=null?b:[],{valueKey:($=r==null?void 0:r.value)!=null?$:"value",fieldNames:o.value,origin:"extraOptions",optionInfoMap:w}),optionInfoMap:w}}),C=xe(new Map);ne([d,e??_([]),l??_([]),r??_("value")],()=>{C.clear(),f.value.forEach((b,$)=>{C.set(b.key,hn(el({},b),{index:$}))}),c.value.optionInfoMap.forEach(b=>{C.has(b.key)||(b.index=C.size,C.set(b.key,b))}),V.value.optionInfoMap.forEach(b=>{C.has(b.key)||(b.index=C.size,C.set(b.key,b))})},{immediate:!0,deep:!0});const O=v(()=>{var b;const $=Ol(c.value.optionInfos,{inputValue:t==null?void 0:t.value,filterOption:a==null?void 0:a.value});return((b=s==null?void 0:s.value)==null||b)&&$.push(...Ol(V.value.optionInfos,{inputValue:t==null?void 0:t.value,filterOption:a==null?void 0:a.value})),$}),z=v(()=>Array.from(C.values()).filter(b=>b.origin==="extraOptions"&&(s==null?void 0:s.value)===!1?!1:Ke(b,{inputValue:t==null?void 0:t.value,filterOption:a==null?void 0:a.value}))),P=v(()=>z.value.filter(b=>!b.disabled).map(b=>b.key));return{validOptions:O,optionInfoMap:C,validOptionInfos:z,enabledOptionKeys:P,getNextSlotOptionIndex:()=>d.size,addSlotOptionInfo:(b,$)=>{d.set(b,$)},removeSlotOptionInfo:b=>{d.delete(b)}}},_n=({multiple:e,options:l,extraOptions:t,inputValue:a,filterOption:s,showExtraOptions:r,component:n,valueKey:o,fieldNames:d,loading:f,popupVisible:c,valueKeys:V,dropdownRef:C,optionRefs:O,virtualListRef:z,onSelect:P,onPopupVisibleChange:x,enterToOpen:A=!0})=>{const{validOptions:R,optionInfoMap:b,validOptionInfos:$,enabledOptionKeys:w,getNextSlotOptionIndex:i,addSlotOptionInfo:p,removeSlotOptionInfo:M}=yn({options:l,extraOptions:t,inputValue:a,filterOption:s,showExtraOptions:r,valueKey:o,fieldNames:d}),I=_();ne(w,g=>{(!I.value||!g.includes(I.value))&&(I.value=g[0])});const N=g=>{I.value=g},S=g=>{const K=w.value.length;if(K===0)return;if(!I.value)return g==="down"?w.value[0]:w.value[K-1];const U=w.value.indexOf(I.value),Z=(K+U+(g==="up"?-1:1))%K;return w.value[Z]},D=g=>{var K,U;z!=null&&z.value&&z.value.scrollTo({key:g});const Z=b.get(g),G=(K=C==null?void 0:C.value)==null?void 0:K.wrapperRef,m=(U=O==null?void 0:O.value[g])!=null?U:Z==null?void 0:Z.ref;if(!G||!m||G.scrollHeight===G.offsetHeight)return;const T=Bt(m,G),j=G.scrollTop;T.top<0?G.scrollTo(0,j+T.top):T.bottom<0&&G.scrollTo(0,j-T.bottom)};ne(c,g=>{if(g){const K=V.value[V.value.length-1],U=w.value.includes(K)?K:w.value[0];U!==I.value&&(I.value=U),ye(()=>{I.value&&D(I.value)})}});const H=Jl(new Map([[we.ENTER,g=>{f!=null&&f.value||(c.value?I.value&&(P(I.value,g),g.preventDefault()):A&&(x(!0),g.preventDefault()))}],[we.ESC,g=>{c.value&&(x(!1),g.preventDefault())}],[we.ARROW_DOWN,g=>{if(c.value){const K=S("down");K&&(I.value=K,D(K)),g.preventDefault()}}],[we.ARROW_UP,g=>{if(c.value){const K=S("up");K&&(I.value=K,D(K)),g.preventDefault()}}]]));return pt(nt,xe({multiple:e,valueKey:o,inputValue:a,filterOption:s,component:n,valueKeys:V,activeKey:I,setActiveKey:N,onSelect:P,getNextSlotOptionIndex:i,addSlotOptionInfo:p,removeSlotOptionInfo:M})),{validOptions:R,optionInfoMap:b,validOptionInfos:$,enabledOptionKeys:w,activeKey:I,setActiveKey:N,addSlotOptionInfo:p,removeSlotOptionInfo:M,getNextActiveKey:S,scrollIntoView:D,handleKeyDown:H}},$n=X({name:"IconMore",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:l}){const t=Q("icon"),a=v(()=>[t,`${t}-more`,{[`${t}-spin`]:e.spin}]),s=v(()=>{const n={};return e.size&&(n.fontSize=Y(e.size)?`${e.size}px`:e.size),e.rotate&&(n.transform=`rotate(${e.rotate}deg)`),n});return{cls:a,innerStyle:s,onClick:n=>{l("click",n)}}}}),Sn=["stroke-width","stroke-linecap","stroke-linejoin"],Cn=de("path",{d:"M38 25v-2h2v2h-2ZM23 25v-2h2v2h-2ZM8 25v-2h2v2H8Z",fill:"currentColor",stroke:"none"},null,-1),wn=de("path",{d:"M38 25v-2h2v2h-2ZM23 25v-2h2v2h-2ZM8 25v-2h2v2H8Z"},null,-1),On=[Cn,wn];function kn(e,l,t,a,s,r){return W(),le("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:q(e.cls),style:be(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:l[0]||(l[0]=(...n)=>e.onClick&&e.onClick(...n))},On,14,Sn)}var ll=ve($n,[["render",kn]]);const xa=Object.assign(ll,{install:(e,l)=>{var t;const a=(t=l==null?void 0:l.iconPrefix)!=null?t:"";e.component(a+ll.name,ll)}}),Vn=({popupVisible:e,defaultPopupVisible:l,emit:t})=>{var a;const s=_((a=l==null?void 0:l.value)!=null?a:!1),r=v(()=>{var o;return(o=e==null?void 0:e.value)!=null?o:s.value}),n=o=>{o!==r.value&&(s.value=o,t("update:popupVisible",o),t("popupVisibleChange",o))};return ne(r,o=>{s.value!==o&&(s.value=o)}),{computedPopupVisible:r,handlePopupVisibleChange:n}},In=({defaultValue:e,modelValue:l,emit:t,eventName:a="input",updateEventName:s="update:modelValue",eventHandlers:r})=>{var n;const o=_(),d=_((n=e==null?void 0:e.value)!=null?n:""),f=_(!1),c=_(!1),V=_("");let C;const O=v(()=>{var i;return(i=l==null?void 0:l.value)!=null?i:d.value}),z=(i,p)=>{d.value=i,t(s,i),t(a,i,p)},P=i=>{const{value:p}=i.target;c.value||(z(p,i),ye(()=>{o.value&&O.value!==o.value.value&&(o.value.value=O.value)}))},x=i=>{a==="input"&&O.value!==C&&(C=O.value,t("change",O.value,i))},A=i=>{var p;const{value:M}=i.target;i.type==="compositionend"?(c.value=!1,V.value="",z(M,i),ye(()=>{o.value&&O.value!==o.value.value&&(o.value.value=O.value)})):(c.value=!0,V.value=O.value+((p=i.data)!=null?p:""))},R=i=>{var p,M;f.value=!0,C=O.value,t("focus",i),(M=(p=r==null?void 0:r.value)==null?void 0:p.onFocus)==null||M.call(p,i)},b=i=>{var p,M;f.value=!1,t("blur",i),(M=(p=r==null?void 0:r.value)==null?void 0:p.onBlur)==null||M.call(p,i),x(i)},$=i=>{const p=i.key||i.code;!c.value&&p===Gl.key&&(t("pressEnter",i),x(i))},w=i=>{o.value&&i.target!==o.value&&(i.preventDefault(),o.value.focus())};return ne(O,i=>{o.value&&i!==o.value.value&&(o.value.value=i)}),{inputRef:o,_value:d,_focused:f,isComposition:c,compositionValue:V,computedValue:O,handleInput:P,handleComposition:A,handleFocus:R,handleBlur:b,handleKeyDown:$,handleMousedown:w}};var Bn=X({name:"InputLabel",inheritAttrs:!1,props:{modelValue:Object,inputValue:{type:String,default:""},enabledInput:Boolean,formatLabel:Function,placeholder:String,retainInputValue:Boolean,disabled:Boolean,baseCls:String,size:String,error:Boolean,focused:Boolean,uninjectFormItemContext:Boolean},emits:["update:inputValue","inputValueChange","focus","blur"],setup(e,{attrs:l,emit:t,slots:a}){var s;const{size:r,disabled:n,error:o,inputValue:d,uninjectFormItemContext:f}=pe(e),c=(s=e.baseCls)!=null?s:Q("input-label"),{mergedSize:V,mergedDisabled:C,mergedError:O,eventHandlers:z}=je({size:r,disabled:n,error:o,uninject:f==null?void 0:f.value}),{mergedSize:P}=Te(V),{inputRef:x,_focused:A,computedValue:R,handleInput:b,handleComposition:$,handleFocus:w,handleBlur:i,handleMousedown:p}=In({modelValue:d,emit:t,eventName:"inputValueChange",updateEventName:"update:inputValue",eventHandlers:z}),M=v(()=>{var U;return(U=e.focused)!=null?U:A.value}),I=v(()=>e.enabledInput&&A.value||!e.modelValue),N=v(()=>e.enabledInput&&e.modelValue?e.modelValue.label:e.placeholder),S=()=>{var U,Z,G,m,T;return e.modelValue?(T=(G=(U=a.default)==null?void 0:U.call(a,{data:e.modelValue}))!=null?G:(Z=e.formatLabel)==null?void 0:Z.call(e,e.modelValue))!=null?T:(m=e.modelValue)==null?void 0:m.label:null},D=v(()=>[c,`${c}-size-${P.value}`,{[`${c}-search`]:e.enabledInput,[`${c}-focus`]:M.value,[`${c}-disabled`]:C.value,[`${c}-error`]:O.value}]),H=v(()=>Ql(l,Ae)),g=v(()=>Zl(l,Ae));return{inputRef:x,render:()=>k("span",ie(H.value,{class:D.value,onMousedown:p}),[a.prefix&&k("span",{class:`${c}-prefix`},[a.prefix()]),k("input",ie(g.value,{ref:x,class:[`${c}-input`,{[`${c}-input-hidden`]:!I.value}],value:R.value,readonly:!e.enabledInput,placeholder:N.value,disabled:C.value,onInput:b,onFocus:w,onBlur:i,onCompositionstart:$,onCompositionupdate:$,onCompositionend:$}),null),k("span",{class:[`${c}-value`,{[`${c}-value-hidden`]:I.value}]},[S()]),a.suffix&&k("span",{class:`${c}-suffix`},[a.suffix()])])}},methods:{focus(){var e;(e=this.inputRef)==null||e.focus()},blur(){var e;(e=this.inputRef)==null||e.blur()}},render(){return this.render()}}),zn=Object.defineProperty,Il=Object.getOwnPropertySymbols,Pn=Object.prototype.hasOwnProperty,Rn=Object.prototype.propertyIsEnumerable,Bl=(e,l,t)=>l in e?zn(e,l,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[l]=t,xn=(e,l)=>{for(var t in l||(l={}))Pn.call(l,t)&&Bl(e,t,l[t]);if(Il)for(var t of Il(l))Rn.call(l,t)&&Bl(e,t,l[t]);return e};const Mn=(e,l)=>{const t=[];for(const a of e)if(ue(a))t.push({raw:a,value:a[l.value],label:a[l.label],closable:a[l.closable],tagProps:a[l.tagProps]});else if(e||Y(e)){const s={value:a,label:String(a),closable:!0};t.push(xn({raw:s},s))}return t},zl=["red","orangered","orange","gold","lime","green","cyan","blue","arcoblue","purple","pinkpurple","magenta","gray"],jn=X({name:"Tag",components:{IconHover:vl,IconClose:fl,IconLoading:Ll},props:{color:{type:String},size:{type:String},bordered:{type:Boolean,default:!1},visible:{type:Boolean,default:void 0},defaultVisible:{type:Boolean,default:!0},loading:{type:Boolean,default:!1},closable:{type:Boolean,default:!1},checkable:{type:Boolean,default:!1},checked:{type:Boolean,default:void 0},defaultChecked:{type:Boolean,default:!0}},emits:{"update:visible":e=>!0,"update:checked":e=>!0,close:e=>!0,check:(e,l)=>!0},setup(e,{emit:l}){const{size:t}=pe(e),a=Q("tag"),s=v(()=>e.color&&zl.includes(e.color)),r=v(()=>e.color&&!zl.includes(e.color)),n=_(e.defaultVisible),o=_(e.defaultChecked),d=v(()=>{var x;return(x=e.visible)!=null?x:n.value}),f=v(()=>{var x;return e.checkable?(x=e.checked)!=null?x:o.value:!0}),{mergedSize:c}=Te(t),V=v(()=>c.value==="mini"?"small":c.value),C=x=>{n.value=!1,l("update:visible",!1),l("close",x)},O=x=>{if(e.checkable){const A=!f.value;o.value=A,l("update:checked",A),l("check",A,x)}},z=v(()=>[a,`${a}-size-${V.value}`,{[`${a}-loading`]:e.loading,[`${a}-hide`]:!d.value,[`${a}-${e.color}`]:s.value,[`${a}-bordered`]:e.bordered,[`${a}-checkable`]:e.checkable,[`${a}-checked`]:f.value,[`${a}-custom-color`]:r.value}]),P=v(()=>{if(r.value)return{backgroundColor:e.color}});return{prefixCls:a,cls:z,style:P,computedVisible:d,computedChecked:f,handleClick:O,handleClose:C}}});function Tn(e,l,t,a,s,r){const n=me("icon-close"),o=me("icon-hover"),d=me("icon-loading");return e.computedVisible?(W(),le("span",{key:0,class:q(e.cls),style:be(e.style),onClick:l[0]||(l[0]=(...f)=>e.handleClick&&e.handleClick(...f))},[e.$slots.icon?(W(),le("span",{key:0,class:q(`${e.prefixCls}-icon`)},[te(e.$slots,"icon")],2)):re("v-if",!0),te(e.$slots,"default"),e.closable?(W(),oe(o,{key:1,role:"button","aria-label":"Close",prefix:e.prefixCls,class:q(`${e.prefixCls}-close-btn`),onClick:et(e.handleClose,["stop"])},{default:ce(()=>[te(e.$slots,"close-icon",{},()=>[k(n)])]),_:3},8,["prefix","class","onClick"])):re("v-if",!0),e.loading?(W(),le("span",{key:2,class:q(`${e.prefixCls}-loading-icon`)},[k(d)],2)):re("v-if",!0)],6)):re("v-if",!0)}var tl=ve(jn,[["render",Tn]]);const En=Object.assign(tl,{install:(e,l)=>{Oe(e,l);const t=ke(l);e.component(t+tl.name,tl)}});var Nn=Object.defineProperty,Pl=Object.getOwnPropertySymbols,Dn=Object.prototype.hasOwnProperty,Ln=Object.prototype.propertyIsEnumerable,Rl=(e,l,t)=>l in e?Nn(e,l,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[l]=t,De=(e,l)=>{for(var t in l||(l={}))Dn.call(l,t)&&Rl(e,t,l[t]);if(Pl)for(var t of Pl(l))Ln.call(l,t)&&Rl(e,t,l[t]);return e};const Fn={value:"value",label:"label",closable:"closable",tagProps:"tagProps"};var nl=X({name:"InputTag",inheritAttrs:!1,props:{modelValue:{type:Array},defaultValue:{type:Array,default:()=>[]},inputValue:String,defaultInputValue:{type:String,default:""},placeholder:String,disabled:{type:Boolean,default:!1},error:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},allowClear:{type:Boolean,default:!1},size:{type:String},maxTagCount:{type:Number,default:0},retainInputValue:{type:[Boolean,Object],default:!1},formatTag:{type:Function},uniqueValue:{type:Boolean,default:!1},fieldNames:{type:Object},baseCls:String,focused:Boolean,disabledInput:Boolean,uninjectFormItemContext:Boolean},emits:{"update:modelValue":e=>!0,"update:inputValue":e=>!0,change:(e,l)=>!0,inputValueChange:(e,l)=>!0,pressEnter:(e,l)=>!0,remove:(e,l)=>!0,clear:e=>!0,focus:e=>!0,blur:e=>!0},setup(e,{emit:l,slots:t,attrs:a}){const{size:s,disabled:r,error:n,uninjectFormItemContext:o,modelValue:d}=pe(e),f=e.baseCls||Q("input-tag"),c=_(),V=_(),{mergedSize:C,mergedDisabled:O,mergedError:z,feedback:P,eventHandlers:x}=je({size:s,disabled:r,error:n,uninject:o==null?void 0:o.value}),{mergedSize:A}=Te(C),R=v(()=>De(De({},Fn),e.fieldNames)),b=_(!1),$=_(e.defaultValue),w=_(e.defaultInputValue),i=_(!1),p=_(""),M=v(()=>ue(e.retainInputValue)?De({create:!1,blur:!1},e.retainInputValue):{create:e.retainInputValue,blur:e.retainInputValue}),I=xe({width:"12px"}),N=v(()=>e.focused||b.value),S=(h,E)=>{w.value=h,l("update:inputValue",h),l("inputValueChange",h,E)},D=h=>{var E;const{value:L}=h.target;h.type==="compositionend"?(i.value=!1,p.value="",S(L,h),ye(()=>{c.value&&g.value!==c.value.value&&(c.value.value=g.value)})):(i.value=!0,p.value=g.value+((E=h.data)!=null?E:""))},H=v(()=>{var h;return(h=e.modelValue)!=null?h:$.value}),g=v(()=>{var h;return(h=e.inputValue)!=null?h:w.value});ne(d,h=>{(Pe(h)||Fl(h))&&($.value=[])});const K=h=>{c.value&&h.target!==c.value&&(h.preventDefault(),c.value.focus())},U=h=>{const{value:E}=h.target;i.value||(S(E,h),ye(()=>{c.value&&g.value!==c.value.value&&(c.value.value=g.value)}))},Z=v(()=>Mn(H.value,R.value)),G=v(()=>{if(e.maxTagCount>0){const h=Z.value.length-e.maxTagCount;if(h>0){const E=Z.value.slice(0,e.maxTagCount),L={value:"__arco__more",label:`+${h}...`,closable:!1};return E.push(De({raw:L},L)),E}}return Z.value}),m=(h,E)=>{var L,ae;$.value=h,l("update:modelValue",h),l("change",h,E),(ae=(L=x.value)==null?void 0:L.onChange)==null||ae.call(L,E)},T=(h,E,L)=>{var ae;const $e=(ae=H.value)==null?void 0:ae.filter((Ie,Se)=>Se!==E);m($e,L),l("remove",h,L)},j=h=>{m([],h),l("clear",h)},J=v(()=>!O.value&&!e.readonly&&e.allowClear&&Boolean(H.value.length)),fe=h=>{var E;if(g.value){if(h.preventDefault(),e.uniqueValue&&((E=H.value)!=null&&E.includes(g.value))){l("pressEnter",g.value,h);return}const L=H.value.concat(g.value);m(L,h),l("pressEnter",g.value,h),M.value.create||S("",h)}},ee=h=>{var E,L;b.value=!0,l("focus",h),(L=(E=x.value)==null?void 0:E.onFocus)==null||L.call(E,h)},Ve=h=>{var E,L;b.value=!1,!M.value.blur&&g.value&&S("",h),l("blur",h),(L=(E=x.value)==null?void 0:E.onBlur)==null||L.call(E,h)},se=()=>{for(let h=Z.value.length-1;h>=0;h--)if(Z.value[h].closable)return h;return-1},he=h=>{const E=h.key||h.code;if(!i.value&&g.value&&E===Gl.key&&fe(h),!i.value&&G.value.length>0&&!g.value&&E===_t.key){const L=se();L>=0&&T(Z.value[L].value,L,h)}},Ee=h=>{h>12?I.width=`${h}px`:I.width="12px"};_e(()=>{V.value&&Ee(V.value.offsetWidth)});const We=()=>{V.value&&Ee(V.value.offsetWidth)};ne(g,h=>{c.value&&!i.value&&h!==c.value.value&&(c.value.value=h)});const qe=v(()=>[f,`${f}-size-${A.value}`,{[`${f}-disabled`]:O.value,[`${f}-disabled-input`]:e.disabledInput,[`${f}-error`]:z.value,[`${f}-focus`]:N.value,[`${f}-readonly`]:e.readonly,[`${f}-has-tag`]:G.value.length>0,[`${f}-has-prefix`]:Boolean(t.prefix),[`${f}-has-suffix`]:Boolean(t.suffix)||J.value||P.value,[`${f}-has-placeholder`]:!H.value.length}]),Ue=v(()=>Ql(a,Ae)),Ge=v(()=>Zl(a,Ae));return{inputRef:c,render:()=>{var h;return k("span",ie({class:qe.value,onMousedown:K},Ue.value),[k(zt,{onResize:We},{default:()=>[k("span",{ref:V,class:`${f}-mirror`},[G.value.length>0?p.value||g.value:p.value||g.value||e.placeholder])]}),t.prefix&&k("span",{class:`${f}-prefix`},[t.prefix()]),k(It,{tag:"span",name:"input-tag-zoom",class:`${f}-inner`},{default:()=>[G.value.map((E,L)=>k(En,ie({key:`tag-${E.value}`,class:`${f}-tag`,closable:!O.value&&!e.readonly&&E.closable,visible:!0},E.tagProps,{onClose:ae=>T(E.value,L,ae)}),{default:()=>{var ae,$e,Ie,Se;return[(Se=(Ie=(ae=t.tag)==null?void 0:ae.call(t,{data:E.raw}))!=null?Ie:($e=e.formatTag)==null?void 0:$e.call(e,E.raw))!=null?Se:E.label]}})),k("input",ie(Ge.value,{ref:c,key:"input-tag-input",class:`${f}-input`,style:I,placeholder:G.value.length===0?e.placeholder:void 0,disabled:O.value,readonly:e.readonly||e.disabledInput,onInput:U,onKeydown:he,onFocus:ee,onBlur:Ve,onCompositionstart:D,onCompositionupdate:D,onCompositionend:D}),null)]}),J.value&&k(vl,{class:`${f}-clear-btn`,onClick:j,onMousedown:E=>E.stopPropagation()},{default:()=>[k(fl,null,null)]}),(t.suffix||Boolean(P.value))&&k("span",{class:`${f}-suffix`},[(h=t.suffix)==null?void 0:h.call(t),Boolean(P.value)&&k(Yl,{type:P.value},null)])])}}},methods:{focus(){var e;(e=this.inputRef)==null||e.focus()},blur(){var e;(e=this.inputRef)==null||e.blur()}},render(){return this.render()}});const An=Object.assign(nl,{install:(e,l)=>{Oe(e,l);const t=ke(l);e.component(t+nl.name,nl)}});var xl=X({name:"SelectView",props:{modelValue:{type:Array,required:!0},inputValue:String,placeholder:String,disabled:{type:Boolean,default:!1},error:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},opened:{type:Boolean,default:!1},size:{type:String},bordered:{type:Boolean,default:!0},multiple:{type:Boolean,default:!1},allowClear:{type:Boolean,default:!1},allowCreate:{type:Boolean,default:!1},allowSearch:{type:Boolean,default:e=>Al(e.modelValue)},maxTagCount:{type:Number,default:0},retainInputValue:{type:Boolean,default:!1}},emits:["remove","clear","focus","blur"],setup(e,{emit:l,slots:t}){const{size:a,disabled:s,error:r}=pe(e),n=Q("select-view"),{feedback:o,eventHandlers:d,mergedDisabled:f,mergedSize:c,mergedError:V}=je({size:a,disabled:s,error:r}),{mergedSize:C}=Te(c),{opened:O}=pe(e),z=_(),P=v(()=>{var S;return(S=z.value)==null?void 0:S.inputRef}),x=v(()=>e.modelValue.length===0),A=v(()=>e.allowSearch||e.allowCreate),R=v(()=>e.allowClear&&!e.disabled&&!x.value),b=S=>{var D,H;l("focus",S),(H=(D=d.value)==null?void 0:D.onFocus)==null||H.call(D,S)},$=S=>{var D,H;l("blur",S),(H=(D=d.value)==null?void 0:D.onBlur)==null||H.call(D,S)},w=S=>{l("remove",S)},i=S=>{l("clear",S)},p=()=>{var S,D,H,g;return e.loading?(D=(S=t["loading-icon"])==null?void 0:S.call(t))!=null?D:k(Ll,null,null):e.allowSearch&&e.opened?(g=(H=t["search-icon"])==null?void 0:H.call(t))!=null?g:k($t,null,null):t["arrow-icon"]?t["arrow-icon"]():k(Xl,{class:`${n}-arrow-icon`},null)},M=()=>k(He,null,[R.value&&k(vl,{class:`${n}-clear-btn`,onClick:i,onMousedown:S=>S.stopPropagation()},{default:()=>[k(fl,null,null)]}),k("span",{class:`${n}-icon`},[p()]),Boolean(o.value)&&k(Yl,{type:o.value},null)]);ne(O,S=>{!S&&P.value&&P.value.isSameNode(document.activeElement)&&P.value.blur()});const I=v(()=>[`${n}-${e.multiple?"multiple":"single"}`,{[`${n}-opened`]:e.opened,[`${n}-borderless`]:!e.bordered}]);return{inputRef:P,handleFocus:b,handleBlur:$,render:()=>e.multiple?k(An,{ref:z,baseCls:n,class:I.value,modelValue:e.modelValue,inputValue:e.inputValue,focused:e.opened,placeholder:e.placeholder,disabled:f.value,size:C.value,error:V.value,maxTagCount:e.maxTagCount,disabledInput:!e.allowSearch&&!e.allowCreate,retainInputValue:!0,uninjectFormItemContext:!0,onRemove:w,onFocus:b,onBlur:$},{prefix:t.prefix,suffix:M,tag:t.label}):k(Bn,{ref:z,baseCls:n,class:I.value,modelValue:e.modelValue[0],inputValue:e.inputValue,focused:e.opened,placeholder:e.placeholder,disabled:f.value,size:C.value,error:V.value,enabledInput:A.value,uninjectFormItemContext:!0,onFocus:b,onBlur:$},{default:t.label,prefix:t.prefix,suffix:M})}},methods:{focus(){this.inputRef&&this.inputRef.focus()},blur(){this.inputRef&&this.inputRef.blur()}},render(){return this.render()}});const Ml=typeof window>"u"?global:window;function Hn(e,l){let t=0;return(...a)=>{t&&Ml.clearTimeout(t),t=Ml.setTimeout(()=>{t=0,e(...a)},l)}}const Kn=X({name:"IconPlus",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:l}){const t=Q("icon"),a=v(()=>[t,`${t}-plus`,{[`${t}-spin`]:e.spin}]),s=v(()=>{const n={};return e.size&&(n.fontSize=Y(e.size)?`${e.size}px`:e.size),e.rotate&&(n.transform=`rotate(${e.rotate}deg)`),n});return{cls:a,innerStyle:s,onClick:n=>{l("click",n)}}}}),Wn=["stroke-width","stroke-linecap","stroke-linejoin"],qn=de("path",{d:"M5 24h38M24 5v38"},null,-1),Un=[qn];function Gn(e,l,t,a,s,r){return W(),le("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:q(e.cls),style:be(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:l[0]||(l[0]=(...n)=>e.onClick&&e.onClick(...n))},Un,14,Wn)}var al=ve(Kn,[["render",Gn]]);const Zn=Object.assign(al,{install:(e,l)=>{var t;const a=(t=l==null?void 0:l.iconPrefix)!=null?t:"";e.component(a+al.name,al)}}),Yn=X({name:"IconMinus",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:l}){const t=Q("icon"),a=v(()=>[t,`${t}-minus`,{[`${t}-spin`]:e.spin}]),s=v(()=>{const n={};return e.size&&(n.fontSize=Y(e.size)?`${e.size}px`:e.size),e.rotate&&(n.transform=`rotate(${e.rotate}deg)`),n});return{cls:a,innerStyle:s,onClick:n=>{l("click",n)}}}}),Xn=["stroke-width","stroke-linecap","stroke-linejoin"],Jn=de("path",{d:"M5 24h38"},null,-1),Qn=[Jn];function ea(e,l,t,a,s,r){return W(),le("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:q(e.cls),style:be(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:l[0]||(l[0]=(...n)=>e.onClick&&e.onClick(...n))},Qn,14,Xn)}var ol=ve(Yn,[["render",ea]]);const la=Object.assign(ol,{install:(e,l)=>{var t;const a=(t=l==null?void 0:l.iconPrefix)!=null?t:"";e.component(a+ol.name,ol)}}),ta=150;cl.enableBoundaryChecking(!1);var rl=X({name:"InputNumber",props:{modelValue:Number,defaultValue:Number,mode:{type:String,default:"embed"},precision:Number,step:{type:Number,default:1},disabled:{type:Boolean,default:!1},error:{type:Boolean,default:!1},max:{type:Number,default:1/0},min:{type:Number,default:-1/0},formatter:{type:Function},parser:{type:Function},placeholder:String,hideButton:{type:Boolean,default:!1},size:{type:String},allowClear:{type:Boolean,default:!1},modelEvent:{type:String,default:"change"},readOnly:{type:Boolean,default:!1}},emits:{"update:modelValue":e=>!0,change:(e,l)=>!0,focus:e=>!0,blur:e=>!0,clear:e=>!0,input:(e,l,t)=>!0},setup(e,{emit:l,slots:t}){var a;const{size:s,disabled:r}=pe(e),n=Q("input-number"),o=_(),{mergedSize:d,mergedDisabled:f,eventHandlers:c}=je({size:s,disabled:r}),{mergedSize:V}=Te(d),C=v(()=>{if(Y(e.precision)){const m=`${e.step}`.split(".")[1],T=m&&m.length||0;return Math.max(T,e.precision)}}),O=m=>{var T,j;if(!Y(m))return"";const J=C.value?m.toFixed(C.value):String(m);return(j=(T=e.formatter)==null?void 0:T.call(e,J))!=null?j:J},z=_(O((a=e.modelValue)!=null?a:e.defaultValue)),P=v(()=>{var m,T;if(!z.value)return;const j=Number((T=(m=e.parser)==null?void 0:m.call(e,z.value))!=null?T:z.value);return Number.isNaN(j)?void 0:j}),x=_(Y(P.value)&&P.value<=e.min),A=_(Y(P.value)&&P.value>=e.max);let R=0;const b=()=>{R&&(window.clearTimeout(R),R=0)},$=m=>{if(!Pe(m))return Y(e.min)&&m<e.min&&(m=e.min),Y(e.max)&&m>e.max&&(m=e.max),Y(C.value)?cl.round(m,C.value):m},w=m=>{let T=!1,j=!1;Y(m)&&(m<=e.min&&(T=!0),m>=e.max&&(j=!0)),A.value!==j&&(A.value=j),x.value!==T&&(x.value=T)},i=(m,T)=>{if(f.value||m==="plus"&&A.value||m==="minus"&&x.value)return;let j;Y(P.value)?j=$(cl[m](P.value,e.step)):j=e.min===-1/0?0:e.min,z.value=O(j),w(j),l("update:modelValue",j),l("change",j,T)},p=(m,T,j=!1)=>{var J;m.preventDefault(),(J=o.value)==null||J.focus(),i(T,m),j&&(R=window.setTimeout(()=>m.target.dispatchEvent(m),ta))},M=(m,T)=>{var j,J,fe,ee;m=m.trim().replace(/ã€‚/g,"."),m=(J=(j=e.parser)==null?void 0:j.call(e,m))!=null?J:m,(Y(Number(m))||/^(\.|-)$/.test(m))&&(z.value=(ee=(fe=e.formatter)==null?void 0:fe.call(e,m))!=null?ee:m,w(P.value),e.modelEvent==="input"&&l("update:modelValue",P.value),l("input",P.value,z.value,T))},I=m=>{l("focus",m)},N=(m,T)=>{const j=$(P.value),J=O(j);(j!==P.value||z.value!==J)&&(z.value=J,w(j)),l("update:modelValue",j),l("change",j,T)},S=m=>{l("blur",m)},D=m=>{var T,j;z.value="",l("update:modelValue",void 0),l("change",void 0,m),(j=(T=c.value)==null?void 0:T.onChange)==null||j.call(T,m),l("clear",m)},H=Jl(new Map([[we.ARROW_UP,m=>{m.preventDefault(),!e.readOnly&&i("plus",m)}],[we.ARROW_DOWN,m=>{m.preventDefault(),!e.readOnly&&i("minus",m)}]]));ne(()=>e.modelValue,m=>{m!==P.value&&(z.value=O(m),w(m))});const g=()=>{var m;return e.readOnly?null:k(He,null,[(m=t.suffix)==null?void 0:m.call(t),k("div",{class:`${n}-step`},[k("button",{class:[`${n}-step-button`,{[`${n}-step-button-disabled`]:f.value||A.value}],type:"button",tabindex:"-1",disabled:f.value||A.value,onMousedown:T=>p(T,"plus",!0),onMouseup:b,onMouseleave:b},[k(Ct,null,null)]),k("button",{class:[`${n}-step-button`,{[`${n}-step-button-disabled`]:f.value||x.value}],type:"button",tabindex:"-1",disabled:f.value||x.value,onMousedown:T=>p(T,"minus",!0),onMouseup:b,onMouseleave:b},[k(Xl,null,null)])])])},K=v(()=>[n,`${n}-mode-${e.mode}`,`${n}-size-${V.value}`,{[`${n}-readonly`]:e.readOnly}]),U=()=>k(hl,{size:V.value,tabindex:"-1",class:`${n}-step-button`,disabled:f.value||x.value,onMousedown:m=>p(m,"minus",!0),onMouseup:b,onMouseleave:b},{icon:()=>k(la,null,null)}),Z=()=>k(hl,{size:V.value,tabindex:"-1",class:`${n}-step-button`,disabled:f.value||A.value,onMousedown:m=>p(m,"plus",!0),onMouseup:b,onMouseleave:b},{icon:()=>k(Zn,null,null)});return{inputRef:o,render:()=>{const m=e.mode==="embed"?{prepend:t.prepend,prefix:t.prefix,suffix:e.hideButton?t.suffix:g,append:t.append}:{prepend:U,prefix:t.prefix,suffix:t.suffix,append:Z};return k(St,{key:`__arco__${e.mode}`,ref:o,class:K.value,type:"text",allowClear:e.allowClear,size:V.value,modelValue:z.value,placeholder:e.placeholder,disabled:f.value,readonly:e.readOnly,error:e.error,inputAttrs:{role:"spinbutton","aria-valuemax":e.max,"aria-valuemin":e.min,"aria-valuenow":z.value},onInput:M,onFocus:I,onBlur:S,onClear:D,onChange:N,onKeydown:H},m)}}},methods:{focus(){var e;(e=this.inputRef)==null||e.focus()},blur(){var e;(e=this.inputRef)==null||e.blur()}},render(){return this.render()}});const Ma=Object.assign(rl,{install:(e,l)=>{Oe(e,l);const t=ke(l);e.component(t+rl.name,rl)}}),na=X({name:"Optgroup",props:{label:{type:String}},setup(){return{prefixCls:Q("select-group")}}});function aa(e,l,t,a,s,r){return W(),le(He,null,[de("li",{class:q(`${e.prefixCls}-title`)},[te(e.$slots,"label",{},()=>[il(sl(e.label),1)])],2),te(e.$slots,"default")],64)}var Fe=ve(na,[["render",aa]]);const oa=({dataKeys:e,contentRef:l,fixedSize:t,estimatedSize:a,buffer:s})=>{const r=_(0),n=new Map,o=v(()=>e.value.length),d=_(0),f=v(()=>{const p=d.value+s.value*3;return p>o.value?o.value:p}),c=v(()=>{const p=o.value-s.value*3;return p<0?0:p}),V=p=>{p<0?d.value=0:p>c.value?d.value=c.value:d.value=p},C=_(t.value),O=v(()=>a.value!==30?a.value:r.value||a.value),z=(p,M)=>{n.set(p,M)},P=p=>{var M;if(C.value)return O.value;const I=e.value[p];return(M=n.get(I))!=null?M:O.value},x=p=>n.has(p);_e(()=>{const p=Array.from(n.values()).reduce((M,I)=>M+I,0);p>0&&(r.value=p/n.size)});const A=p=>C.value?O.value*p:R(0,p),R=(p,M)=>{let I=0;for(let N=p;N<M;N++)I+=P(N);return I},b=v(()=>C.value?O.value*d.value:R(0,d.value)),$=p=>{const M=p>=b.value;let I=Math.abs(p-b.value);const N=M?d.value:d.value-1;let S=0;for(;I>0;)I-=P(N+S),M?S++:S--;return S},w=p=>{const M=$(p),I=d.value+M-s.value;return I<0?0:I>c.value?c.value:I},i=v(()=>C.value?O.value*(o.value-f.value):R(f.value,o.value));return{frontPadding:b,behindPadding:i,start:d,end:f,getStartByScroll:w,setItemSize:z,hasItemSize:x,setStart:V,getScrollOffset:A}};var ra=X({name:"VirtualListItem",props:{hasItemSize:{type:Function,required:!0},setItemSize:{type:Function,required:!0}},setup(e,{slots:l}){var t;const a=(t=Ul())==null?void 0:t.vnode.key,s=_(),r=()=>{var n,o,d,f;const c=(o=(n=s.value)==null?void 0:n.$el)!=null?o:s.value,V=(f=(d=c==null?void 0:c.getBoundingClientRect)==null?void 0:d.call(c).height)!=null?f:c==null?void 0:c.offsetHeight;V&&e.setItemSize(a,V)};return _e(()=>r()),ql(()=>r()),()=>{var n;const o=tt((n=l.default)==null?void 0:n.call(l));return o?Hl(o,{ref:s},!0):null}}}),ua=Object.defineProperty,jl=Object.getOwnPropertySymbols,ia=Object.prototype.hasOwnProperty,sa=Object.prototype.propertyIsEnumerable,Tl=(e,l,t)=>l in e?ua(e,l,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[l]=t,ca=(e,l)=>{for(var t in l||(l={}))ia.call(l,t)&&Tl(e,t,l[t]);if(jl)for(var t of jl(l))sa.call(l,t)&&Tl(e,t,l[t]);return e};const da=X({name:"VirtualList",components:{VirtualListItem:ra},props:{height:{type:[Number,String],default:200},data:{type:Array,default:()=>[]},threshold:{type:Number,default:0},itemKey:{type:String,default:"key"},fixedSize:{type:Boolean,default:!1},estimatedSize:{type:Number,default:30},buffer:{type:Number,default:10},component:{type:[String,Object],default:"div"},listAttrs:{type:Object},contentAttrs:{type:Object},paddingPosition:{type:String,default:"content"}},emits:{scroll:e=>!0,reachBottom:e=>!0},setup(e,{emit:l}){const{data:t,itemKey:a,fixedSize:s,estimatedSize:r,buffer:n,height:o}=pe(e),d=Q("virtual-list"),f=v(()=>ue(e.component)?ca({container:"div",list:"div",content:"div"},e.component):{container:e.component,list:"div",content:"div"}),c=_(),V=_(),C=v(()=>({height:Y(o.value)?`${o.value}px`:o.value,overflow:"auto"})),O=v(()=>t.value.map((N,S)=>{var D;return(D=N[a.value])!=null?D:S})),{frontPadding:z,behindPadding:P,start:x,end:A,getStartByScroll:R,setItemSize:b,hasItemSize:$,setStart:w,getScrollOffset:i}=oa({dataKeys:O,contentRef:V,fixedSize:s,estimatedSize:r,buffer:n}),p=v(()=>e.threshold&&t.value.length<=e.threshold?t.value:t.value.slice(x.value,A.value));return{prefixCls:d,containerRef:c,contentRef:V,frontPadding:z,currentList:p,behindPadding:P,onScroll:N=>{const{scrollTop:S,scrollHeight:D,offsetHeight:H}=N.target,g=R(S);g!==x.value&&w(g),l("scroll",N),Math.floor(D-(S+H))<=0&&l("reachBottom",N)},setItemSize:b,hasItemSize:$,start:x,scrollTo:N=>{var S,D;if(c.value)if(Y(N))c.value.scrollTop=N;else{const H=(D=N.index)!=null?D:O.value.indexOf((S=N.key)!=null?S:"");w(H-n.value),c.value.scrollTop=i(H),ye(()=>{if(c.value){const g=i(H);g!==c.value.scrollTop&&(c.value.scrollTop=g)}})}},style:C,mergedComponent:f}}});function va(e,l,t,a,s,r){const n=me("VirtualListItem");return W(),oe(Re(e.mergedComponent.container),{ref:"containerRef",class:q(e.prefixCls),style:be(e.style),onScroll:e.onScroll},{default:ce(()=>[(W(),oe(Re(e.mergedComponent.list),ie(e.listAttrs,{style:e.paddingPosition==="list"?{paddingTop:`${e.frontPadding}px`,paddingBottom:`${e.behindPadding}px`}:{}}),{default:ce(()=>[(W(),oe(Re(e.mergedComponent.content),ie({ref:"contentRef"},e.contentAttrs,{style:e.paddingPosition==="content"?{paddingTop:`${e.frontPadding}px`,paddingBottom:`${e.behindPadding}px`}:{}}),{default:ce(()=>[(W(!0),le(He,null,mt(e.currentList,(o,d)=>{var f;return W(),oe(n,{key:(f=o[e.itemKey])!=null?f:e.start+d,"has-item-size":e.hasItemSize,"set-item-size":e.setItemSize},{default:ce(()=>[te(e.$slots,"item",{item:o,index:e.start+d})]),_:2},1032,["has-item-size","set-item-size"])}),128))]),_:3},16,["style"]))]),_:3},16,["style"]))]),_:3},8,["class","style","onScroll"])}var fa=ve(da,[["render",va]]),pa=Object.defineProperty,ma=Object.defineProperties,ba=Object.getOwnPropertyDescriptors,El=Object.getOwnPropertySymbols,ha=Object.prototype.hasOwnProperty,ga=Object.prototype.propertyIsEnumerable,Nl=(e,l,t)=>l in e?pa(e,l,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[l]=t,ze=(e,l)=>{for(var t in l||(l={}))ha.call(l,t)&&Nl(e,t,l[t]);if(El)for(var t of El(l))ga.call(l,t)&&Nl(e,t,l[t]);return e},ya=(e,l)=>ma(e,ba(l));function _a(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!ht(e)}const $a={value:"value",label:"label",disabled:"disabled",tagProps:"tagProps",render:"render"};var ul=X({name:"Select",components:{Trigger:gl,SelectView:xl},inheritAttrs:!1,props:{multiple:{type:Boolean,default:!1},modelValue:{type:[String,Number,Object,Array]},defaultValue:{type:[String,Number,Object,Array],default:e=>Pe(e.multiple)?"":[]},inputValue:{type:String},defaultInputValue:{type:String,default:""},size:{type:String},placeholder:String,loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},error:{type:Boolean,default:!1},allowClear:{type:Boolean,default:!1},allowSearch:{type:[Boolean,Object],default:e=>Boolean(e.multiple)},allowCreate:{type:Boolean,default:!1},maxTagCount:{type:Number,default:0},popupContainer:{type:[String,Object]},bordered:{type:Boolean,default:!0},defaultActiveFirstOption:{type:Boolean,default:!0},popupVisible:{type:Boolean,default:void 0},defaultPopupVisible:{type:Boolean,default:!1},unmountOnClose:{type:Boolean,default:!1},filterOption:{type:[Boolean,Function],default:!0},options:{type:Array,default:()=>[]},virtualListProps:{type:Object},triggerProps:{type:Object},formatLabel:{type:Function},fallbackOption:{type:[Boolean,Function],default:!0},showExtraOptions:{type:Boolean,default:!0},valueKey:{type:String,default:"value"},searchDelay:{type:Number,default:500},limit:{type:Number,default:0},fieldNames:{type:Object},scrollbar:{type:[Boolean,Object],default:!0}},emits:{"update:modelValue":e=>!0,"update:inputValue":e=>!0,"update:popupVisible":e=>!0,change:e=>!0,inputValueChange:e=>!0,popupVisibleChange:e=>!0,clear:e=>!0,remove:e=>!0,search:e=>!0,dropdownScroll:e=>!0,dropdownReachBottom:e=>!0,exceedLimit:(e,l)=>!0},setup(e,{slots:l,emit:t,attrs:a}){const{size:s,disabled:r,error:n,options:o,filterOption:d,valueKey:f,multiple:c,popupVisible:V,showExtraOptions:C,modelValue:O,fieldNames:z,loading:P}=pe(e),x=Q("select"),{mergedSize:A,mergedDisabled:R,mergedError:b,eventHandlers:$}=je({size:s,disabled:r,error:n}),w=v(()=>e.virtualListProps?"div":"li"),i=v(()=>ue(e.allowSearch)&&Boolean(e.allowSearch.retainInputValue));v(()=>{if(Ce(e.formatLabel))return u=>{const y=L.get(u.value);return e.formatLabel(y)}});const p=_(),M=_({}),I=_(),{computedPopupVisible:N,handlePopupVisibleChange:S}=Vn({popupVisible:V,emit:t}),D=_(e.defaultValue),H=v(()=>{var u;const y=(u=e.modelValue)!=null?u:D.value;return(Al(y)?y:y||Y(y)?[y]:[]).map(F=>({value:F,key:Me(F,e.valueKey)}))});ne(O,u=>{(Pe(u)||Fl(u))&&(D.value=c.value?[]:"")});const g=v(()=>H.value.map(u=>u.key)),K=v(()=>ze(ze({},$a),z==null?void 0:z.value)),U=_(),Z=u=>{const y={};return u.forEach(B=>{y[B]=L.get(B)}),y},G=u=>{U.value=Z(u)},m=u=>Ce(e.fallbackOption)?e.fallbackOption(u):{[K.value.value]:u,[K.value.label]:String(ue(u)?u[f==null?void 0:f.value]:u)},T=()=>{const u=[],y=[];if(e.allowCreate||e.fallbackOption){for(const B of H.value)if(!y.includes(B.key)){const F=L.get(B.key);(!F||F.origin==="extraOptions")&&(u.push(B),y.push(B.key))}}if(e.allowCreate&&ee.value){const B=Me(ee.value);if(!y.includes(B)){const F=L.get(B);(!F||F.origin==="extraOptions")&&u.push({value:ee.value,key:B})}}return u},j=_([]),J=v(()=>j.value.map(u=>{var y;let B=m(u.value);const F=(y=U.value)==null?void 0:y[u.key];return!Pe(F)&&!dt(F)&&(B=ze(ze({},B),F)),B}));ye(()=>{bt(()=>{var u;const y=T();if(y.length!==j.value.length)j.value=y;else if(y.length>0){for(let B=0;B<y.length;B++)if(y[B].key!==((u=j.value[B])==null?void 0:u.key)){j.value=y;break}}})});const fe=_(""),ee=v(()=>{var u;return(u=e.inputValue)!=null?u:fe.value});ne(N,u=>{!u&&!i.value&&ee.value&&he("")});const Ve=u=>{var y,B;return e.multiple?u.map(F=>{var Be,ge;return(ge=(Be=L.get(F))==null?void 0:Be.value)!=null?ge:""}):(B=(y=L.get(u[0]))==null?void 0:y.value)!=null?B:""},se=u=>{var y,B;const F=Ve(u);D.value=F,t("update:modelValue",F),t("change",F),(B=(y=$.value)==null?void 0:y.onChange)==null||B.call(y),G(u)},he=u=>{fe.value=u,t("update:inputValue",u),t("inputValueChange",u)},Ee=(u,y)=>{if(e.multiple){if(g.value.includes(u)){const B=g.value.filter(F=>F!==u);se(B)}else if($e.value.includes(u))if(e.limit>0&&g.value.length>=e.limit){const B=L.get(u);t("exceedLimit",B==null?void 0:B.value,y)}else{const B=g.value.concat(u);se(B)}i.value||he("")}else{if(u!==g.value[0]&&se([u]),i.value){const B=L.get(u);B&&he(B.label)}S(!1)}},We=Hn(u=>{t("search",u)},e.searchDelay),qe=u=>{u!==ee.value&&(N.value||S(!0),he(u),e.allowSearch&&We(u))},Ue=u=>{const y=L.get(u),B=g.value.filter(F=>F!==u);se(B),t("remove",y==null?void 0:y.value)},Ge=u=>{u==null||u.stopPropagation();const y=g.value.filter(B=>{var F;return(F=L.get(B))==null?void 0:F.disabled});se(y),he(""),t("clear",u)},bl=u=>{t("dropdownScroll",u)},h=u=>{t("dropdownReachBottom",u)},{validOptions:E,optionInfoMap:L,validOptionInfos:ae,enabledOptionKeys:$e,handleKeyDown:Ie}=_n({multiple:c,options:o,extraOptions:J,inputValue:ee,filterOption:d,showExtraOptions:C,component:w,valueKey:f,fieldNames:z,loading:P,popupVisible:N,valueKeys:g,dropdownRef:p,optionRefs:M,virtualListRef:I,onSelect:Ee,onPopupVisibleChange:S}),Se=v(()=>{var u;const y=[];for(const B of H.value){const F=L.get(B.key);F&&y.push(ya(ze({},F),{value:B.key,label:(u=F==null?void 0:F.label)!=null?u:String(ue(B.value)?B.value[f==null?void 0:f.value]:B.value),closable:!(F!=null&&F.disabled),tagProps:F==null?void 0:F.tagProps}))}return y}),rt=u=>{if(Ce(l.option)){const y=l.option;return()=>y({data:u.raw})}return Ce(u.render)?u.render:()=>u.label},Ze=u=>{if(ot(u)){let y;return k(Fe,{key:u.key,label:u.label},_a(y=u.options.map(B=>Ze(B)))?y:{default:()=>[y]})}return Ke(u,{inputValue:ee.value,filterOption:d==null?void 0:d.value})?k(Le,{ref:y=>{y!=null&&y.$el&&(M.value[u.key]=y.$el)},key:u.key,value:u.value,label:u.label,disabled:u.disabled,internal:!0},{default:rt(u)}):null},ut=()=>k(Jt,{ref:p,loading:e.loading,empty:ae.value.length===0,virtualList:Boolean(e.virtualListProps),scrollbar:e.scrollbar,onScroll:bl,onReachBottom:h},{default:()=>{var u,y;return[...(y=(u=l.default)==null?void 0:u.call(l))!=null?y:[],...E.value.map(Ze)]},"virtual-list":()=>k(fa,ie(e.virtualListProps,{ref:I,data:E.value}),{item:({item:u})=>Ze(u)}),empty:l.empty,footer:l.footer}),it=({data:u})=>{var y,B,F,Be;if((l.label||Ce(e.formatLabel))&&u){const ge=L.get(u.value);if(ge!=null&&ge.raw)return(F=(y=l.label)==null?void 0:y.call(l,{data:ge.raw}))!=null?F:(B=e.formatLabel)==null?void 0:B.call(e,ge.raw)}return(Be=u==null?void 0:u.label)!=null?Be:""};return()=>k(gl,ie({trigger:"click",position:"bl",popupOffset:4,animationName:"slide-dynamic-origin",hideEmpty:!0,preventFocus:!0,autoFitPopupWidth:!0,autoFitTransformOrigin:!0,disabled:R.value,popupVisible:N.value,unmountOnClose:e.unmountOnClose,clickToClose:!(e.allowSearch||e.allowCreate),popupContainer:e.popupContainer,onPopupVisibleChange:S},e.triggerProps),{default:()=>{var u,y;return[(y=(u=l.trigger)==null?void 0:u.call(l))!=null?y:k(xl,ie({class:x,modelValue:Se.value,inputValue:ee.value,multiple:e.multiple,disabled:R.value,error:b.value,loading:e.loading,allowClear:e.allowClear,allowCreate:e.allowCreate,allowSearch:Boolean(e.allowSearch),opened:N.value,maxTagCount:e.maxTagCount,placeholder:e.placeholder,bordered:e.bordered,size:A.value,onInputValueChange:qe,onRemove:Ue,onClear:Ge,onKeydown:Ie},a),{label:it,prefix:l.prefix,"arrow-icon":l["arrow-icon"],"loading-icon":l["loading-icon"],"search-icon":l["search-icon"]})]},content:ut})}});const ja=Object.assign(ul,{Option:Le,OptGroup:Fe,install:(e,l)=>{Oe(e,l);const t=ke(l);e.component(t+ul.name,ul),e.component(t+Le.name,Le),e.component(t+Fe.name,Fe)}});export{Et as E,Ma as I,Le as O,zt as R,ja as S,En as T,fa as V,Fe as a,Ht as b,la as c,Zn as d,xa as e,Tt as f,Zt as g,Kt as h,ml as i,Vn as u};
