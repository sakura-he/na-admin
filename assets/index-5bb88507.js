import{g as C,_ as P,e as Y,i as Z,s as x,a as ee}from"./index-7598eee4.js";import{d as $,c as o,o as b,b as S,e as N,C as K,D as E,n as g,y as ae,f as k,g as q,w as te,q as ne,a as p,r as F,z as L,K as le,i as A,F as se,h as T,m as z,t as ie,j as re}from"./runtime-core.esm-bundler-bda9e85e.js";import{I as ue,a as oe}from"./index-23fe4ef8.js";import{e as pe,I as ce,S as de}from"./index-00b9d494.js";import{u as _}from"./keyboard-08f0de16.js";const me=$({name:"Pager",props:{pageNumber:{type:Number},current:{type:Number},disabled:{type:Boolean,default:!1},style:{type:Object},activeStyle:{type:Object}},emits:["click"],setup(e,{emit:n}){const t=C("pagination-item"),l=o(()=>e.current===e.pageNumber),i=c=>{e.disabled||n("click",e.pageNumber,c)},u=o(()=>[t,{[`${t}-active`]:l.value}]),s=o(()=>l.value?e.activeStyle:e.style);return{prefixCls:t,cls:u,mergedStyle:s,handleClick:i}}});function fe(e,n,t,l,i,u){return b(),S("li",{class:g(e.cls),style:ae(e.mergedStyle),onClick:n[0]||(n[0]=(...s)=>e.handleClick&&e.handleClick(...s))},[N(e.$slots,"default",{page:e.pageNumber},()=>[K(E(e.pageNumber),1)])],6)}var ge=P(me,[["render",fe]]);const U=(e,{min:n,max:t})=>e<n?n:e>t?t:e,be=$({name:"StepPager",components:{IconLeft:ue,IconRight:oe},props:{pages:{type:Number,required:!0},current:{type:Number,required:!0},type:{type:String,required:!0},disabled:{type:Boolean,default:!1},simple:{type:Boolean,default:!1}},emits:["click"],setup(e,{emit:n}){const t=C("pagination-item"),l=e.type==="next",i=o(()=>e.disabled?e.disabled:!e.pages||l&&e.current===e.pages?!0:!l&&e.current<=1),u=o(()=>U(e.current+(l?1:-1),{min:1,max:e.pages})),s=v=>{i.value||n("click",u.value)},c=o(()=>[t,`${t}-${e.type}`,{[`${t}-disabled`]:i.value}]);return{prefixCls:t,cls:c,isNext:l,handleClick:s}}});function ve(e,n,t,l,i,u){const s=k("icon-right"),c=k("icon-left");return b(),q(ne(e.simple?"span":"li"),{class:g(e.cls),onClick:e.handleClick},{default:te(()=>[N(e.$slots,"default",{type:e.isNext?"next":"previous"},()=>[e.isNext?(b(),q(s,{key:0})):(b(),q(c,{key:1}))])]),_:3},8,["class","onClick"])}var R=P(be,[["render",ve]]);const ye=$({name:"EllipsisPager",components:{IconMore:pe},props:{current:{type:Number,required:!0},step:{type:Number,default:5},pages:{type:Number,required:!0}},emits:["click"],setup(e,{emit:n}){const t=C("pagination-item"),l=o(()=>U(e.current+e.step,{min:1,max:e.pages})),i=s=>{n("click",l.value)},u=o(()=>[t,`${t}-ellipsis`]);return{prefixCls:t,cls:u,handleClick:i}}});function he(e,n,t,l,i,u){const s=k("icon-more");return b(),S("li",{class:g(e.cls),onClick:n[0]||(n[0]=(...c)=>e.handleClick&&e.handleClick(...c))},[N(e.$slots,"default",{},()=>[p(s)])],2)}var Se=P(ye,[["render",he]]);const Ce=$({name:"PageJumper",components:{InputNumber:ce},props:{current:{type:Number,required:!0},simple:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},pages:{type:Number,required:!0},size:{type:String},onChange:{type:Function}},emits:["change"],setup(e,{emit:n}){const t=C("pagination-jumper"),{t:l}=_(),i=F(e.simple?e.current:void 0),u=v=>{const y=parseInt(v.toString(),10);return Number.isNaN(y)?void 0:String(y)},s=v=>{n("change",i.value),le(()=>{e.simple||(i.value=void 0)})};L(()=>e.current,v=>{e.simple&&v!==i.value&&(i.value=v)});const c=o(()=>[t,{[`${t}-simple`]:e.simple}]);return{prefixCls:t,cls:c,t:l,inputValue:i,handleChange:s,handleFormatter:u}}});function $e(e,n,t,l,i,u){const s=k("input-number");return b(),S("span",{class:g(e.cls)},[e.simple?A("v-if",!0):(b(),S("span",{key:0,class:g([`${e.prefixCls}-prepend`,`${e.prefixCls}-text-goto`])},[N(e.$slots,"jumper-prepend",{},()=>[K(E(e.t("pagination.goto")),1)])],2)),p(s,{modelValue:e.inputValue,"onUpdate:modelValue":n[0]||(n[0]=c=>e.inputValue=c),class:g(`${e.prefixCls}-input`),min:1,max:e.pages,size:e.size,disabled:e.disabled,"hide-button":"",formatter:e.handleFormatter,onChange:e.handleChange},null,8,["modelValue","class","max","size","disabled","formatter","onChange"]),e.$slots["jumper-append"]?(b(),S("span",{key:1,class:g(`${e.prefixCls}-append`)},[N(e.$slots,"jumper-append")],2)):A("v-if",!0),e.simple?(b(),S(se,{key:2},[T("span",{class:g(`${e.prefixCls}-separator`)},"/",2),T("span",{class:g(`${e.prefixCls}-total-page`)},E(e.pages),3)],64)):A("v-if",!0)],2)}var G=P(Ce,[["render",$e]]);const ze=$({name:"PageOptions",components:{ArcoSelect:de},props:{sizeOptions:{type:Array,required:!0},pageSize:Number,disabled:Boolean,size:{type:String},onChange:{type:Function},selectProps:{type:Object}},emits:["change"],setup(e,{emit:n}){const t=C("pagination-options"),{t:l}=_(),i=o(()=>e.sizeOptions.map(s=>({value:s,label:`${s} ${l("pagination.countPerPage")}`})));return{prefixCls:t,options:i,handleChange:s=>{n("change",s)}}}});function Ne(e,n,t,l,i,u){const s=k("arco-select");return b(),S("span",{class:g(e.prefixCls)},[p(s,z({"model-value":e.pageSize,options:e.options,size:e.size,disabled:e.disabled},e.selectProps,{onChange:e.handleChange}),null,16,["model-value","options","size","disabled","onChange"])],2)}var ke=P(ze,[["render",Ne]]),M=$({name:"Pagination",props:{total:{type:Number,required:!0},current:Number,defaultCurrent:{type:Number,default:1},pageSize:Number,defaultPageSize:{type:Number,default:10},disabled:{type:Boolean,default:!1},hideOnSinglePage:{type:Boolean,default:!1},simple:{type:Boolean,default:!1},showTotal:{type:Boolean,default:!1},showMore:{type:Boolean,default:!1},showJumper:{type:Boolean,default:!1},showPageSize:{type:Boolean,default:!1},pageSizeOptions:{type:Array,default:()=>[10,20,30,40,50]},pageSizeProps:{type:Object},size:{type:String},pageItemStyle:{type:Object},activePageItemStyle:{type:Object},baseSize:{type:Number,default:6},bufferSize:{type:Number,default:2},autoAdjust:{type:Boolean,default:!0}},emits:{"update:current":e=>!0,"update:pageSize":e=>!0,change:e=>!0,pageSizeChange:e=>!0},setup(e,{emit:n,slots:t}){const l=C("pagination"),{t:i}=_(),{disabled:u,pageItemStyle:s,activePageItemStyle:c,size:v}=ie(e),{mergedSize:y}=Y(v),j=F(e.defaultCurrent),D=F(e.defaultPageSize),d=o(()=>{var a;return(a=e.current)!=null?a:j.value}),w=o(()=>{var a;return(a=e.pageSize)!=null?a:D.value}),m=o(()=>Math.ceil(e.total/w.value)),V=a=>{a!==d.value&&Z(a)&&!e.disabled&&(j.value=a,n("update:current",a),n("change",a))},H=a=>{D.value=a,n("update:pageSize",a),n("pageSizeChange",a)},B=re({current:d,pages:m,disabled:u,style:s,activeStyle:c,onClick:V}),f=(a,r={})=>a==="more"?p(Se,z(r,B),{default:t["page-item-ellipsis"]}):a==="previous"?p(R,z({type:"previous"},r,B),{default:t["page-item-step"]}):a==="next"?p(R,z({type:"next"},r,B),{default:t["page-item-step"]}):p(ge,z(r,B),{default:t["page-item"]}),Q=o(()=>{const a=[];if(m.value<e.baseSize+e.bufferSize*2)for(let r=1;r<=m.value;r++)a.push(f("page",{key:r,pageNumber:r}));else{let r=1,O=m.value,h=!1,J=!1;d.value>2+e.bufferSize&&(h=!0,r=Math.min(d.value-e.bufferSize,m.value-2*e.bufferSize)),d.value<m.value-(e.bufferSize+1)&&(J=!0,O=Math.max(d.value+e.bufferSize,2*e.bufferSize+1)),h&&(a.push(f("page",{key:1,pageNumber:1})),a.push(f("more",{key:"left-ellipsis-pager",step:-(e.bufferSize*2+1)})));for(let I=r;I<=O;I++)a.push(f("page",{key:I,pageNumber:I}));J&&(a.push(f("more",{key:"right-ellipsis-pager",step:e.bufferSize*2+1})),a.push(f("page",{key:m.value,pageNumber:m.value})))}return a}),W=()=>e.simple?p("span",{class:`${l}-simple`},[f("previous",{simple:!0}),p(G,{disabled:e.disabled,current:d.value,size:y.value,pages:m.value,simple:!0,onChange:V},null),f("next",{simple:!0})]):p("ul",{class:`${l}-list`},[f("previous",{simple:!0}),Q.value,e.showMore&&f("more",{key:"more",step:e.bufferSize*2+1}),f("next",{simple:!0})]);L(w,(a,r)=>{if(e.autoAdjust&&a!==r&&d.value>1){const O=r*(d.value-1)+1,h=Math.ceil(O/a);h!==d.value&&(j.value=h,n("update:current",h),n("change",h))}}),L(m,(a,r)=>{e.autoAdjust&&a!==r&&d.value>1&&d.value>a&&(j.value=a,n("update:current",a),n("change",a))});const X=o(()=>[l,`${l}-size-${y.value}`,{[`${l}-simple`]:e.simple,[`${l}-disabled`]:e.disabled}]);return()=>{var a,r;return e.hideOnSinglePage&&m.value<=1?null:p("div",{class:X.value},[e.showTotal&&p("span",{class:`${l}-total`},[(r=(a=t.total)==null?void 0:a.call(t,{total:e.total}))!=null?r:i("pagination.total",e.total)]),W(),e.showPageSize&&p(ke,{disabled:e.disabled,sizeOptions:e.pageSizeOptions,pageSize:w.value,size:y.value,onChange:H,selectProps:e.pageSizeProps},null),!e.simple&&e.showJumper&&p(G,{disabled:e.disabled,current:d.value,pages:m.value,size:y.value,onChange:V},{"jumper-prepend":t["jumper-prepend"],"jumper-append":t["jumper-append"]})])}}});const we=Object.assign(M,{install:(e,n)=>{x(e,n);const t=ee(n);e.component(t+M.name,M)}});export{we as P};
