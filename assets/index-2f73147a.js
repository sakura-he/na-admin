import{a as S,_ as z,d as ne,i as re,s as ae,g as oe}from"./index-89a35e88.js";import{d as _,c as i,o as m,f as y,z as V,n as I,F as ie,l as se,q as H,h as N,j as F,i as P,t as le,e as k,r as ce,ao as ue,am as de,b as w,p as ve,y as me,g as fe,a as ge}from"./runtime-core.esm-bundler-a91919e4.js";import{b as pe,a as ye,I as Ie}from"./index-12df82a4.js";import{I as Ce}from"./index-6e24339b.js";import{u as $e}from"./use-children-components-4221785c.js";const xe=_({name:"Indicator",props:{count:{type:Number,default:2},activeIndex:{type:Number,default:0},type:{type:String,default:"line"},position:{type:String,default:"bottom"},trigger:{type:String,default:"click"}},emits:["select"],setup(e,{emit:n}){const t=S("carousel-indicator"),s=r=>{var a;if(r.preventDefault(),e.type==="slider"){const o=r.offsetX,c=r.currentTarget.clientWidth;if(r.target===r.currentTarget){const C=Math.floor(o/c*e.count);C!==e.activeIndex&&n("select",C)}}else{const o=Number.parseInt((a=r.target.getAttribute("data-index"))!=null?a:"",10);!Number.isNaN(o)&&o!==e.activeIndex&&n("select",o)}},u=i(()=>e.trigger==="click"?{onClick:s}:{onMouseover:s}),v=i(()=>[`${t}`,`${t}-${e.type}`,`${t}-${e.position}`]),d=i(()=>{const r=100/e.count;return{width:`${r}%`,left:`${e.activeIndex*r}%`}});return{prefixCls:t,eventHandlers:u,cls:v,sliderStyle:d}}}),he=["data-index"];function we(e,n,t,s,u,v){return m(),y("div",H({class:e.cls},e.eventHandlers),[e.type==="slider"?(m(),y("span",{key:0,style:V(e.sliderStyle),class:I([`${e.prefixCls}-item`,`${e.prefixCls}-item-active`])},null,6)):(m(!0),y(ie,{key:1},se(Array(e.count),(d,r)=>(m(),y("span",{key:r,"data-index":r,class:I([`${e.prefixCls}-item`,{[`${e.prefixCls}-item-active`]:r===e.activeIndex}])},null,10,he))),128))],16)}var Ne=z(xe,[["render",we]]);const Pe=_({name:"Arrow",components:{IconUp:pe,IconDown:ye,IconLeft:Ce,IconRight:Ie},props:{direction:{type:String,default:"horizontal"},showArrow:{type:String,default:"always"}},emits:["previousClick","nextClick"],setup(e,{emit:n}){const t=S("carousel"),s=d=>{n("previousClick",d)},u=d=>{n("nextClick",d)},v=i(()=>[`${t}-arrow`,{[`${t}-arrow-hover`]:e.showArrow==="hover"}]);return{prefixCls:t,cls:v,onPreviousClick:s,onNextClick:u}}});function ke(e,n,t,s,u,v){const d=N("IconLeft"),r=N("IconUp"),a=N("IconRight"),o=N("IconDown");return m(),y("div",{class:I(e.cls)},[F("div",{class:I(`${e.prefixCls}-arrow-${e.direction==="vertical"?"top":"left"}`),onClick:n[0]||(n[0]=(...c)=>e.onPreviousClick&&e.onPreviousClick(...c))},[e.direction==="horizontal"?(m(),P(d,{key:0})):(m(),P(r,{key:1}))],2),F("div",{class:I(`${e.prefixCls}-arrow-${e.direction==="vertical"?"bottom":"right"}`),onClick:n[1]||(n[1]=(...c)=>e.onNextClick&&e.onNextClick(...c))},[e.direction==="horizontal"?(m(),P(a,{key:0})):(m(),P(o,{key:1}))],2)],2)}var Se=z(Pe,[["render",ke]]);const q=Symbol("ArcoCarousel");var _e=Object.defineProperty,L=Object.getOwnPropertySymbols,be=Object.prototype.hasOwnProperty,Te=Object.prototype.propertyIsEnumerable,U=(e,n,t)=>n in e?_e(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,E=(e,n)=>{for(var t in n||(n={}))be.call(n,t)&&U(e,t,n[t]);if(L)for(var t of L(n))Te.call(n,t)&&U(e,t,n[t]);return e};const R={interval:3e3,hoverToPause:!0};function O(e,n){const t=+e;return typeof t=="number"&&!Number.isNaN(t)?(t+n)%n:e}var D=_({name:"Carousel",props:{current:{type:Number},defaultCurrent:{type:Number,default:1},autoPlay:{type:[Boolean,Object],default:!1},moveSpeed:{type:Number,default:500},animationName:{type:String,default:"slide"},trigger:{type:String,default:"click"},direction:{type:String,default:"horizontal"},showArrow:{type:String,default:"always"},arrowClass:{type:String,default:""},indicatorType:{type:String,default:"dot"},indicatorPosition:{type:String,default:"bottom"},indicatorClass:{type:String,default:""},transitionTimingFunction:{type:String,default:"cubic-bezier(0.34, 0.69, 0.1, 1)"}},emits:{"update:current":e=>!0,change:(e,n,t)=>!0},setup(e,{emit:n,slots:t}){const{current:s,animationName:u,moveSpeed:v,transitionTimingFunction:d}=le(e),r=S("carousel"),a=k(!1),o=k(),c=k(),C=i(()=>ne(e.autoPlay)?E(E({},R),e.autoPlay):e.autoPlay?R:{});let b=0,T=0;const{children:M,components:p}=$e("CarouselItem"),$=k(e.defaultCurrent-1),g=i(()=>{const l=p.value.length,f=re(s.value)?O(s.value-1,l):$.value,h=O(f-1,l),A=O(f+1,l);return{mergedIndex:f,mergedPrevIndex:h,mergedNextIndex:A}}),G=ce({items:p,slideTo:x,mergedIndexes:g,previousIndex:o,animationName:u,slideDirection:c,transitionTimingFunction:d,moveSpeed:v});ve(q,G);const B=()=>{b&&window.clearInterval(b)};ue(()=>{var l;const{interval:f}=C.value||{},{mergedNextIndex:h}=g.value,A=((l=p.value)==null?void 0:l.length)>1&&!a.value&&Boolean(f);B(),A&&(b=window.setInterval(()=>{x({targetIndex:h})},f))}),de(()=>{B()});function x({targetIndex:l,isNegative:f=!1,isManual:h=!1}){!T&&l!==g.value.mergedIndex&&(o.value=$.value,$.value=l,c.value=f?"negative":"positive",T=window.setTimeout(()=>{T=0},v.value),n("update:current",$.value+1),n("change",$.value+1,o.value+1,h))}const K=()=>x({targetIndex:g.value.mergedPrevIndex,isNegative:!0,isManual:!0}),W=()=>x({targetIndex:g.value.mergedNextIndex,isManual:!0}),X=l=>x({targetIndex:l,isNegative:l<g.value.mergedIndex,isManual:!0}),Y=i(()=>C.value.hoverToPause?{onMouseenter:()=>{a.value=!0},onMouseleave:()=>{a.value=!1}}:{}),J=i(()=>e.indicatorType!=="never"&&p.value.length>1),Q=i(()=>e.showArrow!=="never"&&p.value.length>1),Z=i(()=>[r,`${r}-indicator-position-${e.indicatorPosition}`]),ee=i(()=>[`${r}-${e.animationName}`,`${r}-${e.direction}`,{[`${r}-negative`]:c.value==="negative"}]),te=i(()=>[`${r}-indicator-wrapper`,`${r}-indicator-wrapper-${e.indicatorPosition}`]);return()=>{var l;return M.value=(l=t.default)==null?void 0:l.call(t),w("div",H({class:Z.value},Y.value),[w("div",{class:ee.value},[M.value]),J.value&&w("div",{class:te.value},[w(Ne,{class:e.indicatorClass,type:e.indicatorType,count:p.value.length,activeIndex:g.value.mergedIndex,position:e.indicatorPosition,trigger:e.trigger,onSelect:X},null)]),Q.value&&w(Se,{class:e.arrowClass,direction:e.direction,showArrow:e.showArrow,onPreviousClick:K,onNextClick:W},null)])}}});const Ae=_({name:"CarouselItem",setup(){const e=S("carousel-item"),n=fe(),t=me(q,{}),s=i(()=>{var r,a,o;return(o=(a=t.items)==null?void 0:a.indexOf((r=n==null?void 0:n.uid)!=null?r:-1))!=null?o:-1}),u=i(()=>{var r;return((r=t.mergedIndexes)==null?void 0:r.mergedIndex)===s.value}),v=i(()=>{const{previousIndex:r,animationName:a,slideDirection:o,mergedIndexes:c}=t;return{[`${e}-prev`]:s.value===(c==null?void 0:c.mergedPrevIndex),[`${e}-next`]:s.value===(c==null?void 0:c.mergedNextIndex),[`${e}-current`]:u.value,[`${e}-slide-in`]:a==="slide"&&o&&u.value,[`${e}-slide-out`]:a==="slide"&&o&&s.value===r}}),d=i(()=>{const{transitionTimingFunction:r,moveSpeed:a}=t;return{transitionTimingFunction:r,transitionDuration:`${a}ms`,animationTimingFunction:r,animationDuration:`${a}ms`}});return{cls:v,animationStyle:d,isCurrent:u}}}),Oe=["aria-hidden"];function De(e,n,t,s,u,v){return m(),y("div",{"aria-hidden":!e.isCurrent,class:I(e.cls),style:V(e.animationStyle)},[ge(e.$slots,"default")],14,Oe)}var j=z(Ae,[["render",De]]);const Le=Object.assign(D,{Item:j,install:(e,n)=>{ae(e,n);const t=oe(n);e.component(t+D.name,D),e.component(t+j.name,j)}});export{Le as C,j as a};
