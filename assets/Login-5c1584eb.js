import{r as V,d as Q,l as W,m as X,g as m,o as c,c as $,b as i,a as e,w as o,j as Y,C as Z,F as ee,q as te,i as t,s as f,e as h,t as w,v as oe,P as ne,M as R,H as se,B as le,I as ae,x as re,y as ie,z as ue,S as ce,p as de,k as pe,u as _e,A as me,_ as fe}from"./index-30c7a380.js";import{F as we,a as ge}from"./index-90d8cfd6.js";import{C as ve,a as xe}from"./index-47b8ec4e.js";import"./get-value-by-path-bf636ec3.js";const ye="/assets/login1-7fe3f35c.jpg",be="/assets/login2-7f4a3a36.jpg",he="/assets/login3-69dc1b81.jpg";function ke(l){let a=V(l);return{loading:a,setLoading:_=>{a.value=_},toggle:()=>{a.value=!a.value}}}function Ce(l){l=l||{interval:1e3,end:0};let a=V(l.end),u;function x(d){console.log(d),!u&&(a.value=d,u=setInterval(()=>{a.value--,a.value<=l.end&&(a.value=l.end,clearInterval(u),u=void 0)},l.interval))}function _(){clearInterval(u),u=void 0,a.value=l.end}function k(d){a.value=d}return{count:a,start:x,reset:_,setCount:k}}const B=l=>(de("data-v-ad4c42a5"),l=l(),pe(),l),Ve={class:"container"},Ie={class:"tw-fixed tw-z-40 tw-top-5 tw-left-5"},Le={class:"banner"},Se=["src"],Ue={class:"content"},$e={class:"form tw-w-11/12 tw-pointer-events-auto tw-mx-auto sm:tw-max-w-[340px] tw-py-10 tw-px-6 tw-box-border tw-bg-fill-transparent-2 tw-rounded tw-backdrop-blur-[20px] md:tw-mr-[10%]"},Re=B(()=>i("div",{class:"tw-mb-4"},[i("div",{class:"login__title tw-text-c-1 tw-text-title-3 tw-leading-snug tw-select-none tw-pb-2"},"Nest Arco Admain"),i("div",{class:"login__sub-title tw-text-c-2 tw-text-body-3 tw-leading-tight tw-select-none tw-pb-2"}," 欢迎使用"),i("div",{class:"login__err-msg"})],-1)),Be=B(()=>i("span",{class:"tw-text-body-3 tw-text-c-1"},"其他登录方式:",-1)),Fe=Q({__name:"Login",setup(l){let a=W(),u=_e(),x=me(),{loading:_,setLoading:k}=ke(!1),{count:d,start:F,reset:je,setCount:Me}=Ce({end:0,interval:1e3}),p=V(0);const j=[ye,be,he],M=y=>{};let r=X({username:"",userpw:"",agree:!1,isRemenber:!1});function v(y){p.value=y}function I(){_.value||(k(!0),a.login({username:r.username,password:r.userpw}).then(()=>{x.query.toUrl?(R.success("登录成功!正在跳转登录前的页面"),u.replace({path:x.query.toUrl})):(R.success("欢迎使用"),u.replace({name:se,replace:!0}))}).catch(y=>{console.log(y)}).finally(()=>{k(!1)}))}function N(){d.value<=0&&F(60)}return(y,n)=>{const b=le,P=ve,T=xe,L=m("icon-user"),C=ae,g=we,q=m("icon-lock"),z=re,A=ie,S=ge,U=m("icon-mobile"),D=m("icon-message"),E=ue,H=m("icon-wechat"),G=m("icon-github"),O=m("icon-google"),J=m("icon-twitter"),K=ce;return c(),$("div",Ve,[i("div",Ie,[e(Z,{ref:"ColorModeSwitchRef"},{default:o(s=>[e(b,{shape:"circle"},{default:o(()=>[e(Y,{icon:s.icon,class:"tw-text-title-1"},null,8,["icon"])]),_:2},1024)]),_:1},512)]),i("div",Le,[e(T,{class:"swiper","default-current":2,onChange:M,"indicator-type":"slider","auto-play":!0,"show-arrow":"never"},{default:o(()=>[(c(),$(ee,null,te(j,s=>e(P,{class:"swiper__item"},{default:o(()=>[i("img",{src:s,style:{width:"100%",height:"100%",objectFit:"cover"}},null,8,Se)]),_:2},1024)),64))]),_:1})]),i("div",Ue,[i("div",$e,[Re,e(ne,{"in-name":"fade-in","out-name":"fade-out",mode:"out-in"},{default:o(()=>[t(p)===0?(c(),f(S,{key:0,layout:"vertical",model:t(r),class:"login__form"},{default:o(()=>[e(g,{field:"11"},{default:o(()=>[e(C,{modelValue:t(r).username,"onUpdate:modelValue":n[0]||(n[0]=s=>t(r).username=s),placeholder:"用户名",id:"username"},{prefix:o(()=>[e(L)]),_:1},8,["modelValue"])]),_:1}),e(g,{field:"post"},{default:o(()=>[e(z,{modelValue:t(r).userpw,"onUpdate:modelValue":n[1]||(n[1]=s=>t(r).userpw=s),placeholder:"密码"},{prefix:o(()=>[e(q)]),_:1},8,["modelValue"])]),_:1}),e(g,{field:"isRemenber"},{default:o(()=>[e(A,{modelValue:t(r).isRemenber,"onUpdate:modelValue":n[2]||(n[2]=s=>t(r).isRemenber=s)},{default:o(()=>[h("记住密码")]),_:1},8,["modelValue"]),e(b,{"html-type":"submit",class:"tw-ml-auto",type:"text",size:"mini"},{default:o(()=>[h(" 忘记密码 ")]),_:1})]),_:1}),e(g,null,{default:o(()=>[e(b,{"html-type":"submit",long:"",type:"primary",onClick:I,loading:t(_)},{default:o(()=>[h(" 登录 ")]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])):w("",!0),t(p)===1?(c(),f(S,{key:1,layout:"vertical",model:t(r),class:"login__form"},{default:o(()=>[e(g,{field:"11"},{default:o(()=>[e(C,{modelValue:t(r).username,"onUpdate:modelValue":n[3]||(n[3]=s=>t(r).username=s),placeholder:"手机号",id:"username"},{prefix:o(()=>[e(U)]),_:1},8,["modelValue"])]),_:1}),e(g,{field:"post"},{default:o(()=>[e(E,{class:"tw-w-full"},{default:o(()=>[e(C,{modelValue:t(r).userpw,"onUpdate:modelValue":n[4]||(n[4]=s=>t(r).userpw=s),placeholder:"验证码"},{prefix:o(()=>[e(D)]),_:1},8,["modelValue"]),e(b,{loading:t(_),onClick:N,disabled:t(d)!=0},{default:o(()=>[h(oe(t(d)===0?"获取验证码":`${t(d)} 秒后重试`),1)]),_:1},8,["loading","disabled"])]),_:1})]),_:1}),e(g,null,{default:o(()=>[e(b,{"html-type":"submit",long:"",type:"primary",onClick:I,loading:t(_)},{default:o(()=>[h(" 手机号登录 ")]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])):w("",!0)]),_:1}),i("div",null,[e(K,{class:"tw-text-[20px] tw-text-c-2"},{default:o(()=>[Be,t(p)!==0?(c(),f(L,{key:0,class:"hover:tw-text-p-6 hover:tw-cursor-pointer",onClick:n[5]||(n[5]=s=>v(0))})):w("",!0),t(p)!==1?(c(),f(U,{key:1,class:"hover:tw-text-p-6 hover:tw-cursor-pointer",onClick:n[6]||(n[6]=s=>v(1))})):w("",!0),t(p)!==2?(c(),f(H,{key:2,class:"hover:tw-text-p-6 hover:tw-cursor-pointer",onClick:n[7]||(n[7]=s=>v(2))})):w("",!0),t(p)!==3?(c(),f(G,{key:3,class:"hover:tw-text-p-6 hover:tw-cursor-pointer",onClick:n[8]||(n[8]=s=>v(3))})):w("",!0),t(p)!==4?(c(),f(O,{key:4,class:"hover:tw-text-p-6 hover:tw-cursor-pointer",onClick:n[9]||(n[9]=s=>v(4))})):w("",!0),t(p)!==5?(c(),f(J,{key:5,class:"hover:tw-text-p-6 hover:tw-cursor-pointer",onClick:n[10]||(n[10]=s=>v(5))})):w("",!0)]),_:1})])])])])}}});const ze=fe(Fe,[["__scopeId","data-v-ad4c42a5"]]);export{ze as default};
