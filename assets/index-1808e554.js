import{a as S,i as se,_,s as W,g as X,b as z}from"./index-89a35e88.js";import{d as ie}from"./use-popup-manager-b0a74f9a.js";import{b as ae,E as pe,u as q,e as Z}from"./index-1dd00dda.js";import{I as ue,a as de}from"./index-12df82a4.js";import{c as ce}from"./arco-vue-icon-62bc5aeb.js";import{T as x}from"./index-f8ef3c76.js";import{d as B,y as U,e as I,c as P,h as y,o as w,f as k,n as V,a as d,b as i,k as H,w as f,j as K,z as fe,t as R,p as ee,r as oe,i as L,m as G,C as me,D as be,F as ne,q as j,A as ve}from"./runtime-core.esm-bundler-a91919e4.js";import{B as ge,b as he}from"./index-1f7fdb4f.js";const te=Symbol("ArcoBreadcrumb"),Y=Symbol("ArcoDropdown"),$e=B({name:"DropdownPanel",components:{Scrollbar:ae,Empty:pe},props:{loading:{type:Boolean,default:!1},isEmpty:{type:Boolean,default:!1},bottomOffset:{type:Number,default:0},onScroll:{type:[Function,Array]},onReachBottom:{type:[Function,Array]}},emits:["scroll","reachBottom"],setup(e,{emit:o,slots:n}){const l=S("dropdown"),t=U(Y,{}),s=I(),r=p=>{const{scrollTop:h,scrollHeight:g,offsetHeight:$}=p.target;g-(h+$)<=e.bottomOffset&&o("reachBottom",p),o("scroll",p)},a=P(()=>{if(se(t.popupMaxHeight))return{maxHeight:`${t.popupMaxHeight}px`};if(!t.popupMaxHeight)return{maxHeight:"none",overflowY:"hidden"}}),c=P(()=>[l,{[`${l}-has-footer`]:Boolean(n.footer)}]);return{prefixCls:l,cls:c,style:a,wrapperRef:s,handleScroll:r}}});function ye(e,o,n,l,t,s){const r=y("empty"),a=y("Scrollbar");return w(),k("div",{class:V(e.cls)},[e.isEmpty?(w(),k("div",{key:0,class:V(`${e.prefixCls}-empty`)},[d(e.$slots,"empty",{},()=>[i(r)])],2)):H("v-if",!0),i(a,{ref:"wrapperRef",class:V(`${e.prefixCls}-list-wrapper`),style:fe(e.style),onScroll:e.handleScroll},{default:f(()=>[K("ul",{class:V(`${e.prefixCls}-list`)},[d(e.$slots,"default")],2)]),_:3},8,["class","style","onScroll"]),e.$slots.footer&&!e.isEmpty?(w(),k("div",{key:1,class:V(`${e.prefixCls}-footer`)},[d(e.$slots,"footer")],2)):H("v-if",!0)],2)}var le=_($e,[["render",ye]]);const Ce=B({name:"Dropdown",components:{Trigger:x,DropdownPanel:le},props:{popupVisible:{type:Boolean,default:void 0},defaultPopupVisible:{type:Boolean,default:!1},trigger:{type:[String,Array],default:"click"},position:{type:String,default:"bottom"},popupContainer:{type:[String,Object]},popupMaxHeight:{type:[Boolean,Number],default:!0}},emits:{"update:popupVisible":e=>!0,popupVisibleChange:e=>!0,select:(e,o)=>!0},setup(e,{emit:o}){const{defaultPopupVisible:n,popupVisible:l,popupMaxHeight:t}=R(e),s=S("dropdown"),{computedPopupVisible:r,handlePopupVisibleChange:a}=q({defaultPopupVisible:n,popupVisible:l,emit:o});return ee(Y,oe({popupMaxHeight:t,onOptionClick:(p,h)=>{o("select",p,h),a(!1)}})),{prefixCls:s,computedPopupVisible:r,handlePopupVisibleChange:a}}});function Ve(e,o,n,l,t,s){const r=y("DropdownPanel"),a=y("Trigger");return w(),L(a,{"popup-visible":e.computedPopupVisible,"animation-name":"slide-dynamic-origin","auto-fit-transform-origin":"",trigger:e.trigger,position:e.position,"popup-offset":4,"popup-container":e.popupContainer,"opened-class":`${e.prefixCls}-open`,onPopupVisibleChange:e.handlePopupVisibleChange},{content:f(()=>[i(r,null,G({default:f(()=>[d(e.$slots,"content")]),_:2},[e.$slots.footer?{name:"footer",fn:f(()=>[d(e.$slots,"footer")])}:void 0]),1024)]),default:f(()=>[d(e.$slots,"default")]),_:3},8,["popup-visible","trigger","position","popup-container","opened-class","onPopupVisibleChange"])}var N=_(Ce,[["render",Ve]]);const we=B({name:"Doption",props:{value:{type:[String,Number,Object]},disabled:{type:Boolean,default:!1},active:Boolean,uninjectContext:Boolean},emits:{click:e=>!0},setup(e,{emit:o}){const n=S("dropdown-option"),l=I(),t=P(()=>{var c,p,h;return(h=(p=e.value)!=null?p:(c=l.value)==null?void 0:c.textContent)!=null?h:void 0}),s=e.uninjectContext?void 0:U(Y,void 0),r=c=>{e.disabled||(o("click",c),s==null||s.onOptionClick(t.value,c))},a=P(()=>[n,{[`${n}-disabled`]:e.disabled,[`${n}-active`]:e.active}]);return{prefixCls:n,cls:a,liRef:l,handleClick:r}}});function Pe(e,o,n,l,t,s){return w(),k("li",{ref:"liRef",class:V([e.cls,{[`${e.prefixCls}-has-suffix`]:Boolean(e.$slots.suffix)}]),onClick:o[0]||(o[0]=(...r)=>e.handleClick&&e.handleClick(...r))},[e.$slots.icon?(w(),k("span",{key:0,class:V(`${e.prefixCls}-icon`)},[d(e.$slots,"icon")],2)):H("v-if",!0),K("span",{class:V(`${e.prefixCls}-content`)},[d(e.$slots,"default")],2),e.$slots.suffix?(w(),k("span",{key:1,class:V(`${e.prefixCls}-suffix`)},[d(e.$slots,"suffix")],2)):H("v-if",!0)],2)}var O=_(we,[["render",Pe]]);const Be=B({name:"Dgroup",props:{title:String},setup(){return{prefixCls:S("dropdown-group")}}});function Se(e,o,n,l,t,s){return w(),k(ne,null,[K("li",{class:V(`${e.prefixCls}-title`)},[d(e.$slots,"title",{},()=>[me(be(e.title),1)])],2),d(e.$slots,"default")],64)}var F=_(Be,[["render",Se]]);const ke=B({name:"Dsubmenu",components:{Trigger:x,DropdownPanel:le,DropdownOption:O,IconRight:ue},props:{value:{type:[String,Number]},disabled:{type:Boolean,default:!1},trigger:{type:[String,Array],default:"click"},position:{type:String,default:"rt"},popupVisible:{type:Boolean,default:void 0},defaultPopupVisible:{type:Boolean,default:!1},optionProps:{type:Object}},emits:{"update:popupVisible":e=>!0,popupVisibleChange:e=>!0},setup(e,{emit:o}){const{defaultPopupVisible:n,popupVisible:l}=R(e),t=S("dropdown"),{computedPopupVisible:s,handlePopupVisibleChange:r}=q({defaultPopupVisible:n,popupVisible:l,emit:o});return{prefixCls:t,computedPopupVisible:s,handlePopupVisibleChange:r}}});function _e(e,o,n,l,t,s){const r=y("IconRight"),a=y("dropdown-option"),c=y("dropdown-panel"),p=y("Trigger");return w(),L(p,{"popup-visible":e.computedPopupVisible,trigger:e.trigger,position:e.position,disabled:e.disabled,"popup-offset":4,onPopupVisibleChange:e.handlePopupVisibleChange},{content:f(()=>[i(c,{class:V(`${e.prefixCls}-submenu`)},G({default:f(()=>[d(e.$slots,"content")]),_:2},[e.$slots.footer?{name:"footer",fn:f(()=>[d(e.$slots,"footer")])}:void 0]),1032,["class"])]),default:f(()=>[i(a,j(e.optionProps,{active:e.computedPopupVisible,"uninject-context":""}),G({suffix:f(()=>[d(e.$slots,"suffix",{},()=>[i(r)])]),default:f(()=>[d(e.$slots,"default")]),_:2},[e.$slots.icon?{name:"icon",fn:f(()=>[d(e.$slots,"icon")])}:void 0]),1040,["active"])]),_:3},8,["popup-visible","trigger","position","disabled","onPopupVisibleChange"])}var M=_(ke,[["render",_e]]);const De=B({name:"DropdownButton",components:{IconMore:Z,Button:ge,ButtonGroup:he,Dropdown:N},props:{popupVisible:{type:Boolean,default:void 0},defaultPopupVisible:{type:Boolean,default:!1},trigger:{type:[String,Array],default:"click"},position:{type:String,default:"br"},popupContainer:{type:[String,Object]},disabled:{type:Boolean,default:!1},type:{type:String},size:{type:String},buttonProps:{type:Object}},emits:{"update:popupVisible":e=>!0,popupVisibleChange:e=>!0,click:e=>!0,select:(e,o)=>!0},setup(e,{emit:o}){const{defaultPopupVisible:n,popupVisible:l}=R(e),t=S("dropdown"),{computedPopupVisible:s,handlePopupVisibleChange:r}=q({defaultPopupVisible:n,popupVisible:l,emit:o});return{prefixCls:t,computedPopupVisible:s,handleClick:p=>{o("click",p)},handleSelect:(p,h)=>{o("select",p,h)},handlePopupVisibleChange:r}}});function Oe(e,o,n,l,t,s){const r=y("Button"),a=y("IconMore"),c=y("Dropdown"),p=y("ButtonGroup");return w(),L(p,null,{default:f(()=>[i(r,j({size:e.size,type:e.type,disabled:e.disabled},e.buttonProps,{onClick:e.handleClick}),{default:f(()=>[d(e.$slots,"default")]),_:3},16,["size","type","disabled","onClick"]),i(c,{"popup-visible":e.computedPopupVisible,trigger:e.trigger,position:e.position,"popup-container":e.popupContainer,onSelect:e.handleSelect,onPopupVisibleChange:e.handlePopupVisibleChange},{content:f(()=>[d(e.$slots,"content")]),default:f(()=>[i(r,{size:e.size,type:e.type,disabled:e.disabled},{icon:f(()=>[d(e.$slots,"icon",{popupVisible:e.computedPopupVisible},()=>[i(a)])]),_:3},8,["size","type","disabled"])]),_:3},8,["popup-visible","trigger","position","popup-container","onSelect","onPopupVisibleChange"])]),_:3})}var T=_(De,[["render",Oe]]);const je=Object.assign(N,{Option:O,Group:F,Submenu:M,Button:T,install:(e,o)=>{W(e,o);const n=X(o);e.component(n+N.name,N),e.component(n+O.name,O),e.component(n+F.name,F),e.component(n+M.name,M),e.component(n+T.name,T)}});var A=B({name:"BreadcrumbItem",inheritAttrs:!1,props:{separator:{type:[String,Number]},droplist:{type:Array},dropdownProps:{type:Object},index:{type:Number,default:0}},setup(e,{slots:o,attrs:n}){const l=S("breadcrumb-item"),t=U(te,void 0),s=I(!1),r=P(()=>!(t&&t.needHide&&e.index>1&&e.index<=t.total-t.maxCount)),a=P(()=>t&&t.needHide?e.index===1:!1),c=P(()=>t?e.index<t.total-1:!0),p=u=>{s.value=u},h=()=>{var u,b,v,C,D,J,Q;if(!c.value)return null;const re=(Q=(J=(D=(b=(u=o.separator)==null?void 0:u.call(o))!=null?b:e.separator)!=null?D:(C=t==null?void 0:(v=t.slots).separator)==null?void 0:C.call(v))!=null?J:t==null?void 0:t.separator)!=null?Q:i(ce,null,null);return i("div",{"aria-hidden":"true",class:`${l}-separator`},[re])},g=()=>{var u,b,v,C;return i("div",j({role:"listitem",class:[l,{[`${l}-with-dropdown`]:e.droplist||o.droplist}]},a.value?{"aria-label":"ellipses of breadcrumb items"}:void 0,n),[a.value?(v=(b=t==null?void 0:(u=t.slots)["more-icon"])==null?void 0:b.call(u))!=null?v:i(Z,null,null):(C=o.default)==null?void 0:C.call(o),(e.droplist||o.droplist)&&i("span",{"aria-hidden":!0,class:[`${l}-dropdown-icon`,{[`${l}-dropdown-icon-active`]:s.value}]},[i(de,null,null)])])},$=()=>{var u,b,v;return(v=(u=o.droplist)==null?void 0:u.call(o))!=null?v:(b=e.droplist)==null?void 0:b.map(C=>i(O,{value:C.path},{default:()=>[C.label]}))},m=()=>i(je,j({popupVisible:s.value,onPopupVisibleChange:p},e.dropdownProps),{default:()=>[g()],content:$});return()=>r.value?i(ne,null,[o.droplist||e.droplist?m():g(),h()]):null}}),E=B({name:"Breadcrumb",props:{maxCount:{type:Number,default:0},routes:{type:Array},separator:{type:[String,Number]},customUrl:{type:Function}},setup(e,{slots:o}){const{maxCount:n,separator:l,routes:t}=R(e),s=S("breadcrumb"),r=I(0),a=P(()=>n.value>0&&r.value>n.value+1);ee(te,oe({total:r,maxCount:n,separator:l,needHide:a,slots:o}));const c=(g,$,m)=>{var u,b;if($.indexOf(g)===$.length-1)return i("span",null,[g.label]);const v=(b=(u=e.customUrl)==null?void 0:u.call(e,m))!=null?b:`#/${m.join("/").replace(/^\//,"")}`;return i("a",{href:v},[g.label])},p=()=>{var g;if(!((g=t.value)!=null&&g.length))return null;r.value!==t.value.length&&(r.value=t.value.length);const $=[];return t.value.map((m,u,b)=>{$.push((m.path||"").replace(/^\//,""));const v=[...$];return i(A,{key:m.path||m.label,index:u,droplist:m.children},{default:()=>{var C,D;return[(D=(C=o["item-render"])==null?void 0:C.call(o,{route:m,routes:b,paths:v}))!=null?D:c(m,b,v)]}})})},h=()=>{var g,$;const m=ie(($=(g=o.default)==null?void 0:g.call(o))!=null?$:[]);return r.value!==m.length&&(r.value=m.length),m.map((u,b)=>{var v;return u.props=j((v=u.props)!=null?v:{},{index:b}),u})};return()=>i("div",{role:"list",class:s},[o.default?h():p()])}});const Ee=Object.assign(E,{Item:A,install:(e,o)=>{W(e,o);const n=X(o);e.component(n+E.name,E),e.component(n+A.name,A)}});function Ie(e){const o=I(e);return[o,l=>{o.value=l}]}var Ge=B({name:"RenderFunction",props:{renderFunc:{type:Function,required:!0}},render(){return this.renderFunc(this.$attrs)}});function qe(e,o){const{value:n}=R(o),[l,t]=Ie(z(n.value)?e:n.value);return ve(n,r=>{z(r)&&t(void 0)}),[P(()=>z(n.value)?l.value:n.value),t,l]}export{Ee as B,je as D,Ge as R,A as a,O as b,qe as u};
