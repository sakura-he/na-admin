import{_ as y,aw as J,ao as G,an as tt,e as g,aK as M,bY as et,aV as rt,bZ as it,b_ as nt,l as at,n as ot,g as st,B as I,h as R,ar as lt,b$ as ct,aA as ut,aJ as T,c0 as ht,c1 as z,c2 as V,c3 as ft,c4 as pt,z as vt,c5 as D,c6 as k,W as xt,S as dt,aB as U,R as q,s as B,G as gt,c7 as yt,c8 as mt,a1 as At,c9 as Ct,ca as St,L as H,cb as Z,ay as _t,u as $,cc as Lt}from"./install-32865521.js";import{A as Mt,a as bt,b as Tt,c as wt}from"./axisAlignTicks-d627e083.js";var Gt=function(i){y(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.type="grid",e.dependencies=["xAxis","yAxis"],e.layoutMode="box",e.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},e}(J);const Dt=Gt;var E=function(i){y(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",G).models[0]},e.type="cartesian2dAxis",e}(J);tt(E,Mt);var Et={value:1,category:1,time:1,log:1};function Y(i,e,t,n){g(Et,function(r,a){var o=M(M({},bt[a],!0),n,!0),s=function(h){y(l,h);function l(){var c=h!==null&&h.apply(this,arguments)||this;return c.type=e+"Axis."+a,c}return l.prototype.mergeDefaultAndTheme=function(c,u){var v=et(this),f=v?rt(c):{},p=u.getTheme();M(c,p.get(a+"Axis")),M(c,this.getDefaultOption()),c.type=F(c),v&&it(c,f,v)},l.prototype.optionUpdated=function(){var c=this.option;c.type==="category"&&(this.__ordinalMeta=nt.createByAxisModel(this))},l.prototype.getCategories=function(c){var u=this.option;if(u.type==="category")return c?u.data:this.__ordinalMeta.categories},l.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},l.type=e+"Axis."+a,l.defaultOption=o,l}(t);i.registerComponentModel(s)}),i.registerSubTypeDefaulter(e+"Axis",F)}function F(i){return i.type||(i.data?"category":"value")}var Ot=function(){function i(e){this.type="cartesian",this._dimList=[],this._axes={},this.name=e||""}return i.prototype.getAxis=function(e){return this._axes[e]},i.prototype.getAxes=function(){return at(this._dimList,function(e){return this._axes[e]},this)},i.prototype.getAxesByScale=function(e){return e=e.toLowerCase(),ot(this.getAxes(),function(t){return t.scale.type===e})},i.prototype.addAxis=function(e){var t=e.dim;this._axes[t]=e,this._dimList.push(t)},i}();const Pt=Ot;var O=["x","y"];function X(i){return i.type==="interval"||i.type==="time"}var Bt=function(i){y(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="cartesian2d",t.dimensions=O,t}return e.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var t=this.getAxis("x").scale,n=this.getAxis("y").scale;if(!(!X(t)||!X(n))){var r=t.getExtent(),a=n.getExtent(),o=this.dataToPoint([r[0],a[0]]),s=this.dataToPoint([r[1],a[1]]),h=r[1]-r[0],l=a[1]-a[0];if(!(!h||!l)){var c=(s[0]-o[0])/h,u=(s[1]-o[1])/l,v=o[0]-r[0]*c,f=o[1]-a[0]*u,p=this._transform=[c,0,0,u,v,f];this._invTransform=st([],p)}}},e.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},e.prototype.containPoint=function(t){var n=this.getAxis("x"),r=this.getAxis("y");return n.contain(n.toLocalCoord(t[0]))&&r.contain(r.toLocalCoord(t[1]))},e.prototype.containData=function(t){return this.getAxis("x").containData(t[0])&&this.getAxis("y").containData(t[1])},e.prototype.containZone=function(t,n){var r=this.dataToPoint(t),a=this.dataToPoint(n),o=this.getArea(),s=new I(r[0],r[1],a[0]-r[0],a[1]-r[1]);return o.intersect(s)},e.prototype.dataToPoint=function(t,n,r){r=r||[];var a=t[0],o=t[1];if(this._transform&&a!=null&&isFinite(a)&&o!=null&&isFinite(o))return R(r,t,this._transform);var s=this.getAxis("x"),h=this.getAxis("y");return r[0]=s.toGlobalCoord(s.dataToCoord(a,n)),r[1]=h.toGlobalCoord(h.dataToCoord(o,n)),r},e.prototype.clampData=function(t,n){var r=this.getAxis("x").scale,a=this.getAxis("y").scale,o=r.getExtent(),s=a.getExtent(),h=r.parse(t[0]),l=a.parse(t[1]);return n=n||[],n[0]=Math.min(Math.max(Math.min(o[0],o[1]),h),Math.max(o[0],o[1])),n[1]=Math.min(Math.max(Math.min(s[0],s[1]),l),Math.max(s[0],s[1])),n},e.prototype.pointToData=function(t,n){var r=[];if(this._invTransform)return R(r,t,this._invTransform);var a=this.getAxis("x"),o=this.getAxis("y");return r[0]=a.coordToData(a.toLocalCoord(t[0]),n),r[1]=o.coordToData(o.toLocalCoord(t[1]),n),r},e.prototype.getOtherAxis=function(t){return this.getAxis(t.dim==="x"?"y":"x")},e.prototype.getArea=function(){var t=this.getAxis("x").getGlobalExtent(),n=this.getAxis("y").getGlobalExtent(),r=Math.min(t[0],t[1]),a=Math.min(n[0],n[1]),o=Math.max(t[0],t[1])-r,s=Math.max(n[0],n[1])-a;return new I(r,a,o,s)},e}(Pt),It=function(i){y(e,i);function e(t,n,r,a,o){var s=i.call(this,t,n,r)||this;return s.index=0,s.type=a||"value",s.position=o||"bottom",s}return e.prototype.isHorizontal=function(){var t=this.position;return t==="top"||t==="bottom"},e.prototype.getGlobalExtent=function(t){var n=this.getExtent();return n[0]=this.toGlobalCoord(n[0]),n[1]=this.toGlobalCoord(n[1]),t&&n[0]>n[1]&&n.reverse(),n},e.prototype.pointToData=function(t,n){return this.coordToData(this.toLocalCoord(t[this.dim==="x"?0:1]),n)},e.prototype.setCategorySortInfo=function(t){if(this.type!=="category")return!1;this.model.option.categorySortInfo=t,this.scale.setSortInfo(t)},e}(Tt);const Rt=It;var zt=function(){function i(e,t,n){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=O,this._initCartesian(e,t,n),this.model=e}return i.prototype.getRect=function(){return this._rect},i.prototype.update=function(e,t){var n=this._axesMap;this._updateScale(e,this.model);function r(o){var s,h=vt(o),l=h.length;if(l){for(var c=[],u=l-1;u>=0;u--){var v=+h[u],f=o[v],p=f.model,x=f.scale;D(x)&&p.get("alignTicks")&&p.get("interval")==null?c.push(f):(k(x,p),D(x)&&(s=f))}c.length&&(s||(s=c.pop(),k(s.scale,s.model)),g(c,function(d){wt(d.scale,d.model,s.scale)}))}}r(n.x),r(n.y);var a={};g(n.x,function(o){W(n,"y",o,a)}),g(n.y,function(o){W(n,"x",o,a)}),this.resize(this.model,t)},i.prototype.resize=function(e,t,n){var r=e.getBoxLayoutParams(),a=!n&&e.get("containLabel"),o=lt(r,{width:t.getWidth(),height:t.getHeight()});this._rect=o;var s=this._axesList;h(),a&&(g(s,function(l){if(!l.model.get(["axisLabel","inside"])){var c=ct(l);if(c){var u=l.isHorizontal()?"height":"width",v=l.model.get(["axisLabel","margin"]);o[u]-=c[u]+v,l.position==="top"?o.y+=c.height+v:l.position==="left"&&(o.x+=c.width+v)}}}),h()),g(this._coordsList,function(l){l.calcAffineTransform()});function h(){g(s,function(l){var c=l.isHorizontal(),u=c?[0,o.width]:[0,o.height],v=l.inverse?1:0;l.setExtent(u[v],u[1-v]),Vt(l,c?o.x:o.y)})}},i.prototype.getAxis=function(e,t){var n=this._axesMap[e];if(n!=null)return n[t||0]},i.prototype.getAxes=function(){return this._axesList.slice()},i.prototype.getCartesian=function(e,t){if(e!=null&&t!=null){var n="x"+e+"y"+t;return this._coordsMap[n]}ut(e)&&(t=e.yAxisIndex,e=e.xAxisIndex);for(var r=0,a=this._coordsList;r<a.length;r++)if(a[r].getAxis("x").index===e||a[r].getAxis("y").index===t)return a[r]},i.prototype.getCartesians=function(){return this._coordsList.slice()},i.prototype.convertToPixel=function(e,t,n){var r=this._findConvertTarget(t);return r.cartesian?r.cartesian.dataToPoint(n):r.axis?r.axis.toGlobalCoord(r.axis.dataToCoord(n)):null},i.prototype.convertFromPixel=function(e,t,n){var r=this._findConvertTarget(t);return r.cartesian?r.cartesian.pointToData(n):r.axis?r.axis.coordToData(r.axis.toLocalCoord(n)):null},i.prototype._findConvertTarget=function(e){var t=e.seriesModel,n=e.xAxisModel||t&&t.getReferringComponents("xAxis",G).models[0],r=e.yAxisModel||t&&t.getReferringComponents("yAxis",G).models[0],a=e.gridModel,o=this._coordsList,s,h;if(t)s=t.coordinateSystem,T(o,s)<0&&(s=null);else if(n&&r)s=this.getCartesian(n.componentIndex,r.componentIndex);else if(n)h=this.getAxis("x",n.componentIndex);else if(r)h=this.getAxis("y",r.componentIndex);else if(a){var l=a.coordinateSystem;l===this&&(s=this._coordsList[0])}return{cartesian:s,axis:h}},i.prototype.containPoint=function(e){var t=this._coordsList[0];if(t)return t.containPoint(e)},i.prototype._initCartesian=function(e,t,n){var r=this,a=this,o={left:!1,right:!1,top:!1,bottom:!1},s={x:{},y:{}},h={x:0,y:0};if(t.eachComponent("xAxis",l("x"),this),t.eachComponent("yAxis",l("y"),this),!h.x||!h.y){this._axesMap={},this._axesList=[];return}this._axesMap=s,g(s.x,function(c,u){g(s.y,function(v,f){var p="x"+u+"y"+f,x=new Bt(p);x.master=r,x.model=e,r._coordsMap[p]=x,r._coordsList.push(x),x.addAxis(c),x.addAxis(v)})});function l(c){return function(u,v){if(w(u,e)){var f=u.get("position");c==="x"?f!=="top"&&f!=="bottom"&&(f=o.bottom?"top":"bottom"):f!=="left"&&f!=="right"&&(f=o.left?"right":"left"),o[f]=!0;var p=new Rt(c,ht(u),[0,0],u.get("type"),f),x=p.type==="category";p.onBand=x&&u.get("boundaryGap"),p.inverse=u.get("inverse"),u.axis=p,p.model=u,p.grid=a,p.index=v,a._axesList.push(p),s[c][v]=p,h[c]++}}}},i.prototype._updateScale=function(e,t){g(this._axesList,function(r){if(r.scale.setExtent(1/0,-1/0),r.type==="category"){var a=r.model.get("categorySortInfo");r.scale.setSortInfo(a)}}),e.eachSeries(function(r){if(z(r)){var a=V(r),o=a.xAxisModel,s=a.yAxisModel;if(!w(o,t)||!w(s,t))return;var h=this.getCartesian(o.componentIndex,s.componentIndex),l=r.getData(),c=h.getAxis("x"),u=h.getAxis("y");n(l,c),n(l,u)}},this);function n(r,a){g(ft(r,a.dim),function(o){a.scale.unionExtentFromData(r,o)})}},i.prototype.getTooltipAxes=function(e){var t=[],n=[];return g(this.getCartesians(),function(r){var a=e!=null&&e!=="auto"?r.getAxis(e):r.getBaseAxis(),o=r.getOtherAxis(a);T(t,a)<0&&t.push(a),T(n,o)<0&&n.push(o)}),{baseAxes:t,otherAxes:n}},i.create=function(e,t){var n=[];return e.eachComponent("grid",function(r,a){var o=new i(r,e,t);o.name="grid_"+a,o.resize(r,t,!0),r.coordinateSystem=o,n.push(o)}),e.eachSeries(function(r){if(z(r)){var a=V(r),o=a.xAxisModel,s=a.yAxisModel,h=o.getCoordSysModel(),l=h.coordinateSystem;r.coordinateSystem=l.getCartesian(o.componentIndex,s.componentIndex)}}),n},i.dimensions=O,i}();function w(i,e){return i.getCoordSysModel()===e}function W(i,e,t,n){t.getAxesOnZeroOf=function(){return a?[a]:[]};var r=i[e],a,o=t.model,s=o.get(["axisLine","onZero"]),h=o.get(["axisLine","onZeroAxisIndex"]);if(!s)return;if(h!=null)j(r[h])&&(a=r[h]);else for(var l in r)if(r.hasOwnProperty(l)&&j(r[l])&&!n[c(r[l])]){a=r[l];break}a&&(n[c(a)]=!0);function c(u){return u.dim+"_"+u.index}}function j(i){return i&&i.type!=="category"&&i.type!=="time"&&pt(i)}function Vt(i,e){var t=i.getExtent(),n=t[0]+t[1];i.toGlobalCoord=i.dim==="x"?function(r){return r+e}:function(r){return n-r+e},i.toLocalCoord=i.dim==="x"?function(r){return r-e}:function(r){return n-r+e}}const kt=zt;var P=xt();function Ht(i,e,t,n){var r=t.axis;if(!r.scale.isBlank()){var a=t.getModel("splitArea"),o=a.getModel("areaStyle"),s=o.get("color"),h=n.coordinateSystem.getRect(),l=r.getTicksCoords({tickModel:a,clamp:!0});if(l.length){var c=s.length,u=P(i).splitAreaColors,v=dt(),f=0;if(u)for(var p=0;p<l.length;p++){var x=u.get(l[p].tickValue);if(x!=null){f=(x+(c-1)*p)%c;break}}var d=r.toGlobalCoord(l[0].coord),b=o.getAreaStyle();s=U(s)?s:[s];for(var p=1;p<l.length;p++){var C=r.toGlobalCoord(l[p].coord),m=void 0,A=void 0,S=void 0,_=void 0;r.isHorizontal()?(m=d,A=h.y,S=C-m,_=h.height,d=m+S):(m=h.x,A=d,S=h.width,_=C-A,d=A+_);var L=l[p-1].tickValue;L!=null&&v.set(L,f),e.add(new q({anid:L!=null?"area_"+L:null,shape:{x:m,y:A,width:S,height:_},style:B({fill:s[f]},b),autoBatch:!0,silent:!0})),f=(f+1)%c}P(i).splitAreaColors=v}}}function Zt(i){P(i).splitAreaColors=null}var $t=["axisLine","axisTickLabel","axisName"],Yt=["splitArea","splitLine","minorSplitLine"],Q=function(i){y(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t.axisPointerClass="CartesianAxisPointer",t}return e.prototype.render=function(t,n,r,a){this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new gt,this.group.add(this._axisGroup),!!t.get("show")){var s=t.getCoordSysModel(),h=yt(s,t),l=new mt(t,At({handleAutoShown:function(u){for(var v=s.coordinateSystem.getCartesians(),f=0;f<v.length;f++)if(D(v[f].getOtherAxis(t.axis).scale))return!0;return!1}},h));g($t,l.add,l),this._axisGroup.add(l.getGroup()),g(Yt,function(u){t.get([u,"show"])&&Ft[u](this,this._axisGroup,t,s)},this);var c=a&&a.type==="changeAxisOrder"&&a.isInitSort;c||Ct(o,this._axisGroup,t),i.prototype.render.call(this,t,n,r,a)}},e.prototype.remove=function(){Zt(this)},e.type="cartesianAxis",e}(St),Ft={splitLine:function(i,e,t,n){var r=t.axis;if(!r.scale.isBlank()){var a=t.getModel("splitLine"),o=a.getModel("lineStyle"),s=o.get("color");s=U(s)?s:[s];for(var h=n.coordinateSystem.getRect(),l=r.isHorizontal(),c=0,u=r.getTicksCoords({tickModel:a}),v=[],f=[],p=o.getLineStyle(),x=0;x<u.length;x++){var d=r.toGlobalCoord(u[x].coord);l?(v[0]=d,v[1]=h.y,f[0]=d,f[1]=h.y+h.height):(v[0]=h.x,v[1]=d,f[0]=h.x+h.width,f[1]=d);var b=c++%s.length,C=u[x].tickValue,m=new H({anid:C!=null?"line_"+u[x].tickValue:null,autoBatch:!0,shape:{x1:v[0],y1:v[1],x2:f[0],y2:f[1]},style:B({stroke:s[b]},p),silent:!0});Z(m.shape,p.lineWidth),e.add(m)}}},minorSplitLine:function(i,e,t,n){var r=t.axis,a=t.getModel("minorSplitLine"),o=a.getModel("lineStyle"),s=n.coordinateSystem.getRect(),h=r.isHorizontal(),l=r.getMinorTicksCoords();if(l.length)for(var c=[],u=[],v=o.getLineStyle(),f=0;f<l.length;f++)for(var p=0;p<l[f].length;p++){var x=r.toGlobalCoord(l[f][p].coord);h?(c[0]=x,c[1]=s.y,u[0]=x,u[1]=s.y+s.height):(c[0]=s.x,c[1]=x,u[0]=s.x+s.width,u[1]=x);var d=new H({anid:"minor_line_"+l[f][p].tickValue,autoBatch:!0,shape:{x1:c[0],y1:c[1],x2:u[0],y2:u[1]},style:v,silent:!0});Z(d.shape,v.lineWidth),e.add(d)}},splitArea:function(i,e,t,n){Ht(i,e,t,n)}},N=function(i){y(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.type="xAxis",e}(Q),Xt=function(i){y(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=N.type,t}return e.type="yAxis",e}(Q),Wt=function(i){y(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="grid",t}return e.prototype.render=function(t,n){this.group.removeAll(),t.get("show")&&this.group.add(new q({shape:t.coordinateSystem.getRect(),style:B({fill:t.get("backgroundColor")},t.getItemStyle()),silent:!0,z2:-1}))},e.type="grid",e}(_t),K={offset:0};function jt(i){i.registerComponentView(Wt),i.registerComponentModel(Dt),i.registerCoordinateSystem("cartesian2d",kt),Y(i,"x",E,K),Y(i,"y",E,K),i.registerComponentView(N),i.registerComponentView(Xt),i.registerPreprocessor(function(e){e.xAxis&&e.yAxis&&!e.grid&&(e.grid={})})}function Ut(i){$(jt),$(Lt)}export{Ut as i};
