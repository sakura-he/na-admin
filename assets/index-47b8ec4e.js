import{d as S,X as b,U as i,Z as B,o as m,c as y,a0 as V,h as C,F as ne,q as re,au as H,av as ae,aw as oe,ax as ie,ay as se,g as N,b as F,s as P,a4 as le,r as k,$ as ce,az as ue,ab as de,m as ve,aA as me,af as fe,a as h,O as ge,aB as pe,ap as ye,a1 as Ce,a9 as Ie,aa as $e}from"./index-30c7a380.js";const xe=S({name:"Indicator",props:{count:{type:Number,default:2},activeIndex:{type:Number,default:0},type:{type:String,default:"line"},position:{type:String,default:"bottom"},trigger:{type:String,default:"click"}},emits:["select"],setup(e,{emit:n}){const t=b("carousel-indicator"),s=r=>{var a;if(r.preventDefault(),e.type==="slider"){const o=r.offsetX,c=r.currentTarget.clientWidth;if(r.target===r.currentTarget){const I=Math.floor(o/c*e.count);I!==e.activeIndex&&n("select",I)}}else{const o=Number.parseInt((a=r.target.getAttribute("data-index"))!=null?a:"",10);!Number.isNaN(o)&&o!==e.activeIndex&&n("select",o)}},u=i(()=>e.trigger==="click"?{onClick:s}:{onMouseover:s}),v=i(()=>[`${t}`,`${t}-${e.type}`,`${t}-${e.position}`]),d=i(()=>{const r=100/e.count;return{width:`${r}%`,left:`${e.activeIndex*r}%`}});return{prefixCls:t,eventHandlers:u,cls:v,sliderStyle:d}}}),we=["data-index"];function he(e,n,t,s,u,v){return m(),y("div",H({class:e.cls},e.eventHandlers),[e.type==="slider"?(m(),y("span",{key:0,style:V(e.sliderStyle),class:C([`${e.prefixCls}-item`,`${e.prefixCls}-item-active`])},null,6)):(m(!0),y(ne,{key:1},re(Array(e.count),(d,r)=>(m(),y("span",{key:r,"data-index":r,class:C([`${e.prefixCls}-item`,{[`${e.prefixCls}-item-active`]:r===e.activeIndex}])},null,10,we))),128))],16)}var Ne=B(xe,[["render",he]]);const Pe=S({name:"Arrow",components:{IconUp:ae,IconDown:oe,IconLeft:ie,IconRight:se},props:{direction:{type:String,default:"horizontal"},showArrow:{type:String,default:"always"}},emits:["previousClick","nextClick"],setup(e,{emit:n}){const t=b("carousel"),s=d=>{n("previousClick",d)},u=d=>{n("nextClick",d)},v=i(()=>[`${t}-arrow`,{[`${t}-arrow-hover`]:e.showArrow==="hover"}]);return{prefixCls:t,cls:v,onPreviousClick:s,onNextClick:u}}});function ke(e,n,t,s,u,v){const d=N("IconLeft"),r=N("IconUp"),a=N("IconRight"),o=N("IconDown");return m(),y("div",{class:C(e.cls)},[F("div",{class:C(`${e.prefixCls}-arrow-${e.direction==="vertical"?"top":"left"}`),onClick:n[0]||(n[0]=(...c)=>e.onPreviousClick&&e.onPreviousClick(...c))},[e.direction==="horizontal"?(m(),P(d,{key:0})):(m(),P(r,{key:1}))],2),F("div",{class:C(`${e.prefixCls}-arrow-${e.direction==="vertical"?"bottom":"right"}`),onClick:n[1]||(n[1]=(...c)=>e.onNextClick&&e.onNextClick(...c))},[e.direction==="horizontal"?(m(),P(a,{key:0})):(m(),P(o,{key:1}))],2)],2)}var Se=B(Pe,[["render",ke]]);const X=Symbol("ArcoCarousel");var be=Object.defineProperty,L=Object.getOwnPropertySymbols,_e=Object.prototype.hasOwnProperty,Te=Object.prototype.propertyIsEnumerable,U=(e,n,t)=>n in e?be(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,E=(e,n)=>{for(var t in n||(n={}))_e.call(n,t)&&U(e,t,n[t]);if(L)for(var t of L(n))Te.call(n,t)&&U(e,t,n[t]);return e};const R={interval:3e3,hoverToPause:!0};function O(e,n){const t=+e;return typeof t=="number"&&!Number.isNaN(t)?(t+n)%n:e}var D=S({name:"Carousel",props:{current:{type:Number},defaultCurrent:{type:Number,default:1},autoPlay:{type:[Boolean,Object],default:!1},moveSpeed:{type:Number,default:500},animationName:{type:String,default:"slide"},trigger:{type:String,default:"click"},direction:{type:String,default:"horizontal"},showArrow:{type:String,default:"always"},arrowClass:{type:String,default:""},indicatorType:{type:String,default:"dot"},indicatorPosition:{type:String,default:"bottom"},indicatorClass:{type:String,default:""},transitionTimingFunction:{type:String,default:"cubic-bezier(0.34, 0.69, 0.1, 1)"}},emits:{"update:current":e=>!0,change:(e,n,t)=>!0},setup(e,{emit:n,slots:t}){const{current:s,animationName:u,moveSpeed:v,transitionTimingFunction:d}=le(e),r=b("carousel"),a=k(!1),o=k(),c=k(),I=i(()=>ce(e.autoPlay)?E(E({},R),e.autoPlay):e.autoPlay?R:{});let _=0,T=0;const{children:M,components:p}=ue("CarouselItem"),$=k(e.defaultCurrent-1),g=i(()=>{const l=p.value.length,f=de(s.value)?O(s.value-1,l):$.value,w=O(f-1,l),A=O(f+1,l);return{mergedIndex:f,mergedPrevIndex:w,mergedNextIndex:A}}),q=ve({items:p,slideTo:x,mergedIndexes:g,previousIndex:o,animationName:u,slideDirection:c,transitionTimingFunction:d,moveSpeed:v});ge(X,q);const j=()=>{_&&window.clearInterval(_)};me(()=>{var l;const{interval:f}=I.value||{},{mergedNextIndex:w}=g.value,A=((l=p.value)==null?void 0:l.length)>1&&!a.value&&!!f;j(),A&&(_=window.setInterval(()=>{x({targetIndex:w})},f))}),fe(()=>{j()});function x({targetIndex:l,isNegative:f=!1,isManual:w=!1}){!T&&l!==g.value.mergedIndex&&(o.value=$.value,$.value=l,c.value=f?"negative":"positive",T=window.setTimeout(()=>{T=0},v.value),n("update:current",$.value+1),n("change",$.value+1,o.value+1,w))}const G=()=>x({targetIndex:g.value.mergedPrevIndex,isNegative:!0,isManual:!0}),K=()=>x({targetIndex:g.value.mergedNextIndex,isManual:!0}),W=l=>x({targetIndex:l,isNegative:l<g.value.mergedIndex,isManual:!0}),Y=i(()=>I.value.hoverToPause?{onMouseenter:()=>{a.value=!0},onMouseleave:()=>{a.value=!1}}:{}),Z=i(()=>e.indicatorType!=="never"&&p.value.length>1),J=i(()=>e.showArrow!=="never"&&p.value.length>1),Q=i(()=>[r,`${r}-indicator-position-${e.indicatorPosition}`]),ee=i(()=>[`${r}-${e.animationName}`,`${r}-${e.direction}`,{[`${r}-negative`]:c.value==="negative"}]),te=i(()=>[`${r}-indicator-wrapper`,`${r}-indicator-wrapper-${e.indicatorPosition}`]);return()=>{var l;return M.value=(l=t.default)==null?void 0:l.call(t),h("div",H({class:Q.value},Y.value),[h("div",{class:ee.value},[M.value]),Z.value&&h("div",{class:te.value},[h(Ne,{class:e.indicatorClass,type:e.indicatorType,count:p.value.length,activeIndex:g.value.mergedIndex,position:e.indicatorPosition,trigger:e.trigger,onSelect:W},null)]),J.value&&h(Se,{class:e.arrowClass,direction:e.direction,showArrow:e.showArrow,onPreviousClick:G,onNextClick:K},null)])}}});const Ae=S({name:"CarouselItem",setup(){const e=b("carousel-item"),n=pe(),t=ye(X,{}),s=i(()=>{var r,a,o;return(o=(a=t.items)==null?void 0:a.indexOf((r=n==null?void 0:n.uid)!=null?r:-1))!=null?o:-1}),u=i(()=>{var r;return((r=t.mergedIndexes)==null?void 0:r.mergedIndex)===s.value}),v=i(()=>{const{previousIndex:r,animationName:a,slideDirection:o,mergedIndexes:c}=t;return{[`${e}-prev`]:s.value===(c==null?void 0:c.mergedPrevIndex),[`${e}-next`]:s.value===(c==null?void 0:c.mergedNextIndex),[`${e}-current`]:u.value,[`${e}-slide-in`]:a==="slide"&&o&&u.value,[`${e}-slide-out`]:a==="slide"&&o&&s.value===r}}),d=i(()=>{const{transitionTimingFunction:r,moveSpeed:a}=t;return{transitionTimingFunction:r,transitionDuration:`${a}ms`,animationTimingFunction:r,animationDuration:`${a}ms`}});return{cls:v,animationStyle:d,isCurrent:u}}}),Oe=["aria-hidden"];function De(e,n,t,s,u,v){return m(),y("div",{"aria-hidden":!e.isCurrent,class:C(e.cls),style:V(e.animationStyle)},[Ce(e.$slots,"default")],14,Oe)}var z=B(Ae,[["render",De]]);const Be=Object.assign(D,{Item:z,install:(e,n)=>{Ie(e,n);const t=$e(n);e.component(t+D.name,D),e.component(t+z.name,z)}});export{z as C,Be as a};
