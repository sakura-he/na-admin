import{aq as j,m as M,cX as R,J as V,cY as E,cZ as X,c_ as $,j as W,cs as q,cn as F,b5 as L,a8 as A,at as J,c$ as Y,d0 as K,d1 as I}from"./install-d8df1eea.js";var ft=function(){function t(){}return t.prototype.getNeedCrossZero=function(){var e=this.option;return!e.scale},t.prototype.getCoordSysModel=function(){},t}(),k=j();function Q(t){return t.type==="category"?tt(t):at(t)}function U(t,e){return t.type==="category"?et(t,e):{ticks:M(t.scale.getTicks(),function(r){return r.value})}}function tt(t){var e=t.getLabelModel(),r=_(t,e);return!e.get("show")||t.scale.isBlank()?{labels:[],labelCategoryInterval:r.labelCategoryInterval}:r}function _(t,e){var r=P(t,"labels"),a=R(e),l=D(r,a);if(l)return l;var n,i;return V(a)?n=G(t,a):(i=a==="auto"?rt(t):a,n=Z(t,i)),O(r,a,{labels:n,labelCategoryInterval:i})}function et(t,e){var r=P(t,"ticks"),a=R(e),l=D(r,a);if(l)return l;var n,i;if((!e.get("show")||t.scale.isBlank())&&(n=[]),V(a))n=G(t,a,!0);else if(a==="auto"){var c=_(t,t.getLabelModel());i=c.labelCategoryInterval,n=M(c.labels,function(u){return u.tickValue})}else i=a,n=Z(t,i,!0);return O(r,a,{ticks:n,tickCategoryInterval:i})}function at(t){var e=t.scale.getTicks(),r=E(t);return{labels:M(e,function(a,l){return{level:a.level,formattedLabel:r(a,l),rawLabel:t.scale.getLabel(a),tickValue:a.value}})}}function P(t,e){return k(t)[e]||(k(t)[e]=[])}function D(t,e){for(var r=0;r<t.length;r++)if(t[r].key===e)return t[r].value}function O(t,e,r){return t.push({key:e,value:r}),r}function rt(t){var e=k(t).autoInterval;return e??(k(t).autoInterval=t.calculateCategoryInterval())}function nt(t){var e=lt(t),r=E(t),a=(e.axisRotate-e.labelRotate)/180*Math.PI,l=t.scale,n=l.getExtent(),i=l.count();if(n[1]-n[0]<1)return 0;var c=1;i>40&&(c=Math.max(1,Math.floor(i/40)));for(var u=n[0],o=t.dataToCoord(u+1)-t.dataToCoord(u),p=Math.abs(o*Math.cos(a)),d=Math.abs(o*Math.sin(a)),g=0,h=0;u<=n[1];u+=c){var s=0,f=0,v=X(r({value:u}),e.font,"center","top");s=v.width*1.3,f=v.height*1.3,g=Math.max(g,s,7),h=Math.max(h,f,7)}var m=g/p,y=h/d;isNaN(m)&&(m=1/0),isNaN(y)&&(y=1/0);var x=Math.max(0,Math.floor(Math.min(m,y))),b=k(t.model),T=t.getExtent(),w=b.lastAutoInterval,N=b.lastTickCount;return w!=null&&N!=null&&Math.abs(w-x)<=1&&Math.abs(N-i)<=1&&w>x&&b.axisExtent0===T[0]&&b.axisExtent1===T[1]?x=w:(b.lastTickCount=i,b.lastAutoInterval=x,b.axisExtent0=T[0],b.axisExtent1=T[1]),x}function lt(t){var e=t.getLabelModel();return{axisRotate:t.getRotate?t.getRotate():t.isHorizontal&&!t.isHorizontal()?90:0,labelRotate:e.get("rotate")||0,font:e.getFont()}}function Z(t,e,r){var a=E(t),l=t.scale,n=l.getExtent(),i=t.getLabelModel(),c=[],u=Math.max((e||0)+1,1),o=n[0],p=l.count();o!==0&&u>1&&p/u>2&&(o=Math.round(Math.ceil(o/u)*u));var d=$(t),g=i.get("showMinLabel")||d,h=i.get("showMaxLabel")||d;g&&o!==n[0]&&f(n[0]);for(var s=o;s<=n[1];s+=u)f(s);h&&s-u!==n[1]&&f(n[1]);function f(v){var m={value:v};c.push(r?v:{formattedLabel:a(m),rawLabel:l.getLabel(m),tickValue:v})}return c}function G(t,e,r){var a=t.scale,l=E(t),n=[];return W(a.getTicks(),function(i){var c=a.getLabel(i),u=i.value;e(i.value,c)&&n.push(r?u:{formattedLabel:l(i),rawLabel:c,tickValue:u})}),n}var B=[0,1],it=function(){function t(e,r,a){this.onBand=!1,this.inverse=!1,this.dim=e,this.scale=r,this._extent=a||[0,0]}return t.prototype.contain=function(e){var r=this._extent,a=Math.min(r[0],r[1]),l=Math.max(r[0],r[1]);return e>=a&&e<=l},t.prototype.containData=function(e){return this.scale.contain(e)},t.prototype.getExtent=function(){return this._extent.slice()},t.prototype.getPixelPrecision=function(e){return q(e||this.scale.getExtent(),this._extent)},t.prototype.setExtent=function(e,r){var a=this._extent;a[0]=e,a[1]=r},t.prototype.dataToCoord=function(e,r){var a=this._extent,l=this.scale;return e=l.normalize(e),this.onBand&&l.type==="ordinal"&&(a=a.slice(),z(a,l.count())),F(e,B,a,r)},t.prototype.coordToData=function(e,r){var a=this._extent,l=this.scale;this.onBand&&l.type==="ordinal"&&(a=a.slice(),z(a,l.count()));var n=F(e,a,B,r);return this.scale.scale(n)},t.prototype.pointToData=function(e,r){},t.prototype.getTicksCoords=function(e){e=e||{};var r=e.tickModel||this.getTickModel(),a=U(this,r),l=a.ticks,n=M(l,function(c){return{coord:this.dataToCoord(this.scale.type==="ordinal"?this.scale.getRawOrdinalNumber(c):c),tickValue:c}},this),i=r.get("alignWithLabel");return ot(this,n,i,e.clamp),n},t.prototype.getMinorTicksCoords=function(){if(this.scale.type==="ordinal")return[];var e=this.model.getModel("minorTick"),r=e.get("splitNumber");r>0&&r<100||(r=5);var a=this.scale.getMinorTicks(r),l=M(a,function(n){return M(n,function(i){return{coord:this.dataToCoord(i),tickValue:i}},this)},this);return l},t.prototype.getViewLabels=function(){return Q(this).labels},t.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},t.prototype.getTickModel=function(){return this.model.getModel("axisTick")},t.prototype.getBandWidth=function(){var e=this._extent,r=this.scale.getExtent(),a=r[1]-r[0]+(this.onBand?1:0);a===0&&(a=1);var l=Math.abs(e[1]-e[0]);return Math.abs(l)/a},t.prototype.calculateCategoryInterval=function(){return nt(this)},t}();function z(t,e){var r=t[1]-t[0],a=e,l=r/a/2;t[0]+=l,t[1]-=l}function ot(t,e,r,a){var l=e.length;if(!t.onBand||r||!l)return;var n=t.getExtent(),i,c;if(l===1)e[0].coord=n[0],i=e[1]={coord:n[0]};else{var u=e[l-1].tickValue-e[0].tickValue,o=(e[l-1].coord-e[0].coord)/u;W(e,function(h){h.coord-=o/2});var p=t.scale.getExtent();c=1+p[1]-e[l-1].tickValue,i={coord:e[l-1].coord+o*c},e.push(i)}var d=n[0]>n[1];g(e[0].coord,n[0])&&(a?e[0].coord=n[0]:e.shift()),a&&g(n[0],e[0].coord)&&e.unshift({coord:n[0]}),g(n[1],i.coord)&&(a?i.coord=n[1]:e.pop()),a&&g(i.coord,n[1])&&e.push({coord:n[1]});function g(h,s){return h=L(h),s=L(s),d?h>s:h<s}}const ht=it;var H={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},st=A({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},H),S=A({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},H),ut=A({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},S),ct=J({logBase:10},S);const gt={category:st,value:S,time:ut,log:ct};var C=Math.log;function dt(t,e,r){var a=Y.prototype,l=a.getTicks.call(r),n=a.getTicks.call(r,!0),i=l.length-1,c=a.getInterval.call(r),u=K(t,e),o=u.extent,p=u.fixMin,d=u.fixMax;if(t.type==="log"){var g=C(t.base);o=[C(o[0])/g,C(o[1])/g]}t.setExtent(o[0],o[1]),t.calcNiceExtent({splitNumber:i,fixMin:p,fixMax:d});var h=a.getExtent.call(t);p&&(o[0]=h[0]),d&&(o[1]=h[1]);var s=a.getInterval.call(t),f=o[0],v=o[1];if(p&&d)s=(v-f)/i;else if(p)for(v=o[0]+s*i;v<o[1]&&isFinite(v)&&isFinite(o[1]);)s=I(s),v=o[0]+s*i;else if(d)for(f=o[1]-s*i;f>o[0]&&isFinite(f)&&isFinite(o[0]);)s=I(s),f=o[1]-s*i;else{var m=t.getTicks().length-1;m>i&&(s=I(s));var y=s*i;v=Math.ceil(o[1]/s)*s,f=L(v-y),f<0&&o[0]>=0?(f=0,v=L(y)):v>0&&o[1]<=0&&(v=0,f=-L(y))}var x=(l[0].value-n[0].value)/c,b=(l[i].value-n[i].value)/c;a.setExtent.call(t,f+s*x,v+s*b),a.setInterval.call(t,s),(x||b)&&a.setNiceExtent.call(t,f+s,v-s)}export{ft as A,gt as a,ht as b,dt as c};
