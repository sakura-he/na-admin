import{a4 as y,a5 as K,a6 as G,a7 as tt,j as g,a8 as M,a9 as et,aa as rt,ab as it,ac as at,m as nt,t as ot,ad as st,ae as I,af as z,ag as lt,ah as ut,a0 as ct,ai as T,aj as ft,ak as R,al as V,am as ht,an as pt,k as vt,ao as D,ap as k,aq as xt,ar as dt,$ as U,as as J,at as B,au as gt,av as yt,aw as mt,q as At,ax as Ct,ay as St,az as H,aA as Z,aB as _t,u as $,aC as Lt}from"./install-d8df1eea.js";import{A as Mt,a as bt,b as Tt,c as wt}from"./axisAlignTicks-08c80a1c.js";var Gt=function(i){y(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.type="grid",e.dependencies=["xAxis","yAxis"],e.layoutMode="box",e.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},e}(K);const Dt=Gt;var E=function(i){y(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",G).models[0]},e.type="cartesian2dAxis",e}(K);tt(E,Mt);var Et={value:1,category:1,time:1,log:1};function F(i,e,t,a){g(Et,function(r,n){var o=M(M({},bt[n],!0),a,!0),s=function(f){y(l,f);function l(){var u=f!==null&&f.apply(this,arguments)||this;return u.type=e+"Axis."+n,u}return l.prototype.mergeDefaultAndTheme=function(u,c){var v=et(this),h=v?rt(u):{},p=c.getTheme();M(u,p.get(n+"Axis")),M(u,this.getDefaultOption()),u.type=X(u),v&&it(u,h,v)},l.prototype.optionUpdated=function(){var u=this.option;u.type==="category"&&(this.__ordinalMeta=at.createByAxisModel(this))},l.prototype.getCategories=function(u){var c=this.option;if(c.type==="category")return u?c.data:this.__ordinalMeta.categories},l.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},l.type=e+"Axis."+n,l.defaultOption=o,l}(t);i.registerComponentModel(s)}),i.registerSubTypeDefaulter(e+"Axis",X)}function X(i){return i.type||(i.data?"category":"value")}var Ot=function(){function i(e){this.type="cartesian",this._dimList=[],this._axes={},this.name=e||""}return i.prototype.getAxis=function(e){return this._axes[e]},i.prototype.getAxes=function(){return nt(this._dimList,function(e){return this._axes[e]},this)},i.prototype.getAxesByScale=function(e){return e=e.toLowerCase(),ot(this.getAxes(),function(t){return t.scale.type===e})},i.prototype.addAxis=function(e){var t=e.dim;this._axes[t]=e,this._dimList.push(t)},i}();const Pt=Ot;var O=["x","y"];function Y(i){return i.type==="interval"||i.type==="time"}var Bt=function(i){y(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="cartesian2d",t.dimensions=O,t}return e.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var t=this.getAxis("x").scale,a=this.getAxis("y").scale;if(!(!Y(t)||!Y(a))){var r=t.getExtent(),n=a.getExtent(),o=this.dataToPoint([r[0],n[0]]),s=this.dataToPoint([r[1],n[1]]),f=r[1]-r[0],l=n[1]-n[0];if(!(!f||!l)){var u=(s[0]-o[0])/f,c=(s[1]-o[1])/l,v=o[0]-r[0]*u,h=o[1]-n[0]*c,p=this._transform=[u,0,0,c,v,h];this._invTransform=st([],p)}}},e.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},e.prototype.containPoint=function(t){var a=this.getAxis("x"),r=this.getAxis("y");return a.contain(a.toLocalCoord(t[0]))&&r.contain(r.toLocalCoord(t[1]))},e.prototype.containData=function(t){return this.getAxis("x").containData(t[0])&&this.getAxis("y").containData(t[1])},e.prototype.containZone=function(t,a){var r=this.dataToPoint(t),n=this.dataToPoint(a),o=this.getArea(),s=new I(r[0],r[1],n[0]-r[0],n[1]-r[1]);return o.intersect(s)},e.prototype.dataToPoint=function(t,a,r){r=r||[];var n=t[0],o=t[1];if(this._transform&&n!=null&&isFinite(n)&&o!=null&&isFinite(o))return z(r,t,this._transform);var s=this.getAxis("x"),f=this.getAxis("y");return r[0]=s.toGlobalCoord(s.dataToCoord(n,a)),r[1]=f.toGlobalCoord(f.dataToCoord(o,a)),r},e.prototype.clampData=function(t,a){var r=this.getAxis("x").scale,n=this.getAxis("y").scale,o=r.getExtent(),s=n.getExtent(),f=r.parse(t[0]),l=n.parse(t[1]);return a=a||[],a[0]=Math.min(Math.max(Math.min(o[0],o[1]),f),Math.max(o[0],o[1])),a[1]=Math.min(Math.max(Math.min(s[0],s[1]),l),Math.max(s[0],s[1])),a},e.prototype.pointToData=function(t,a){var r=[];if(this._invTransform)return z(r,t,this._invTransform);var n=this.getAxis("x"),o=this.getAxis("y");return r[0]=n.coordToData(n.toLocalCoord(t[0]),a),r[1]=o.coordToData(o.toLocalCoord(t[1]),a),r},e.prototype.getOtherAxis=function(t){return this.getAxis(t.dim==="x"?"y":"x")},e.prototype.getArea=function(){var t=this.getAxis("x").getGlobalExtent(),a=this.getAxis("y").getGlobalExtent(),r=Math.min(t[0],t[1]),n=Math.min(a[0],a[1]),o=Math.max(t[0],t[1])-r,s=Math.max(a[0],a[1])-n;return new I(r,n,o,s)},e}(Pt),It=function(i){y(e,i);function e(t,a,r,n,o){var s=i.call(this,t,a,r)||this;return s.index=0,s.type=n||"value",s.position=o||"bottom",s}return e.prototype.isHorizontal=function(){var t=this.position;return t==="top"||t==="bottom"},e.prototype.getGlobalExtent=function(t){var a=this.getExtent();return a[0]=this.toGlobalCoord(a[0]),a[1]=this.toGlobalCoord(a[1]),t&&a[0]>a[1]&&a.reverse(),a},e.prototype.pointToData=function(t,a){return this.coordToData(this.toLocalCoord(t[this.dim==="x"?0:1]),a)},e.prototype.setCategorySortInfo=function(t){if(this.type!=="category")return!1;this.model.option.categorySortInfo=t,this.scale.setSortInfo(t)},e}(Tt);const zt=It;var Rt=function(){function i(e,t,a){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=O,this._initCartesian(e,t,a),this.model=e}return i.prototype.getRect=function(){return this._rect},i.prototype.update=function(e,t){var a=this._axesMap;this._updateScale(e,this.model);function r(o){var s,f=vt(o),l=f.length;if(l){for(var u=[],c=l-1;c>=0;c--){var v=+f[c],h=o[v],p=h.model,x=h.scale;D(x)&&p.get("alignTicks")&&p.get("interval")==null?u.push(h):(k(x,p),D(x)&&(s=h))}u.length&&(s||(s=u.pop(),k(s.scale,s.model)),g(u,function(d){wt(d.scale,d.model,s.scale)}))}}r(a.x),r(a.y);var n={};g(a.x,function(o){j(a,"y",o,n)}),g(a.y,function(o){j(a,"x",o,n)}),this.resize(this.model,t)},i.prototype.resize=function(e,t,a){var r=e.getBoxLayoutParams(),n=!a&&e.get("containLabel"),o=lt(r,{width:t.getWidth(),height:t.getHeight()});this._rect=o;var s=this._axesList;f(),n&&(g(s,function(l){if(!l.model.get(["axisLabel","inside"])){var u=ut(l);if(u){var c=l.isHorizontal()?"height":"width",v=l.model.get(["axisLabel","margin"]);o[c]-=u[c]+v,l.position==="top"?o.y+=u.height+v:l.position==="left"&&(o.x+=u.width+v)}}}),f()),g(this._coordsList,function(l){l.calcAffineTransform()});function f(){g(s,function(l){var u=l.isHorizontal(),c=u?[0,o.width]:[0,o.height],v=l.inverse?1:0;l.setExtent(c[v],c[1-v]),Vt(l,u?o.x:o.y)})}},i.prototype.getAxis=function(e,t){var a=this._axesMap[e];if(a!=null)return a[t||0]},i.prototype.getAxes=function(){return this._axesList.slice()},i.prototype.getCartesian=function(e,t){if(e!=null&&t!=null){var a="x"+e+"y"+t;return this._coordsMap[a]}ct(e)&&(t=e.yAxisIndex,e=e.xAxisIndex);for(var r=0,n=this._coordsList;r<n.length;r++)if(n[r].getAxis("x").index===e||n[r].getAxis("y").index===t)return n[r]},i.prototype.getCartesians=function(){return this._coordsList.slice()},i.prototype.convertToPixel=function(e,t,a){var r=this._findConvertTarget(t);return r.cartesian?r.cartesian.dataToPoint(a):r.axis?r.axis.toGlobalCoord(r.axis.dataToCoord(a)):null},i.prototype.convertFromPixel=function(e,t,a){var r=this._findConvertTarget(t);return r.cartesian?r.cartesian.pointToData(a):r.axis?r.axis.coordToData(r.axis.toLocalCoord(a)):null},i.prototype._findConvertTarget=function(e){var t=e.seriesModel,a=e.xAxisModel||t&&t.getReferringComponents("xAxis",G).models[0],r=e.yAxisModel||t&&t.getReferringComponents("yAxis",G).models[0],n=e.gridModel,o=this._coordsList,s,f;if(t)s=t.coordinateSystem,T(o,s)<0&&(s=null);else if(a&&r)s=this.getCartesian(a.componentIndex,r.componentIndex);else if(a)f=this.getAxis("x",a.componentIndex);else if(r)f=this.getAxis("y",r.componentIndex);else if(n){var l=n.coordinateSystem;l===this&&(s=this._coordsList[0])}return{cartesian:s,axis:f}},i.prototype.containPoint=function(e){var t=this._coordsList[0];if(t)return t.containPoint(e)},i.prototype._initCartesian=function(e,t,a){var r=this,n=this,o={left:!1,right:!1,top:!1,bottom:!1},s={x:{},y:{}},f={x:0,y:0};if(t.eachComponent("xAxis",l("x"),this),t.eachComponent("yAxis",l("y"),this),!f.x||!f.y){this._axesMap={},this._axesList=[];return}this._axesMap=s,g(s.x,function(u,c){g(s.y,function(v,h){var p="x"+c+"y"+h,x=new Bt(p);x.master=r,x.model=e,r._coordsMap[p]=x,r._coordsList.push(x),x.addAxis(u),x.addAxis(v)})});function l(u){return function(c,v){if(w(c,e)){var h=c.get("position");u==="x"?h!=="top"&&h!=="bottom"&&(h=o.bottom?"top":"bottom"):h!=="left"&&h!=="right"&&(h=o.left?"right":"left"),o[h]=!0;var p=new zt(u,ft(c),[0,0],c.get("type"),h),x=p.type==="category";p.onBand=x&&c.get("boundaryGap"),p.inverse=c.get("inverse"),c.axis=p,p.model=c,p.grid=n,p.index=v,n._axesList.push(p),s[u][v]=p,f[u]++}}}},i.prototype._updateScale=function(e,t){g(this._axesList,function(r){if(r.scale.setExtent(1/0,-1/0),r.type==="category"){var n=r.model.get("categorySortInfo");r.scale.setSortInfo(n)}}),e.eachSeries(function(r){if(R(r)){var n=V(r),o=n.xAxisModel,s=n.yAxisModel;if(!w(o,t)||!w(s,t))return;var f=this.getCartesian(o.componentIndex,s.componentIndex),l=r.getData(),u=f.getAxis("x"),c=f.getAxis("y");a(l,u),a(l,c)}},this);function a(r,n){g(ht(r,n.dim),function(o){n.scale.unionExtentFromData(r,o)})}},i.prototype.getTooltipAxes=function(e){var t=[],a=[];return g(this.getCartesians(),function(r){var n=e!=null&&e!=="auto"?r.getAxis(e):r.getBaseAxis(),o=r.getOtherAxis(n);T(t,n)<0&&t.push(n),T(a,o)<0&&a.push(o)}),{baseAxes:t,otherAxes:a}},i.create=function(e,t){var a=[];return e.eachComponent("grid",function(r,n){var o=new i(r,e,t);o.name="grid_"+n,o.resize(r,t,!0),r.coordinateSystem=o,a.push(o)}),e.eachSeries(function(r){if(R(r)){var n=V(r),o=n.xAxisModel,s=n.yAxisModel,f=o.getCoordSysModel(),l=f.coordinateSystem;r.coordinateSystem=l.getCartesian(o.componentIndex,s.componentIndex)}}),a},i.dimensions=O,i}();function w(i,e){return i.getCoordSysModel()===e}function j(i,e,t,a){t.getAxesOnZeroOf=function(){return n?[n]:[]};var r=i[e],n,o=t.model,s=o.get(["axisLine","onZero"]),f=o.get(["axisLine","onZeroAxisIndex"]);if(!s)return;if(f!=null)W(r[f])&&(n=r[f]);else for(var l in r)if(r.hasOwnProperty(l)&&W(r[l])&&!a[u(r[l])]){n=r[l];break}n&&(a[u(n)]=!0);function u(c){return c.dim+"_"+c.index}}function W(i){return i&&i.type!=="category"&&i.type!=="time"&&pt(i)}function Vt(i,e){var t=i.getExtent(),a=t[0]+t[1];i.toGlobalCoord=i.dim==="x"?function(r){return r+e}:function(r){return a-r+e},i.toLocalCoord=i.dim==="x"?function(r){return r-e}:function(r){return a-r+e}}const kt=Rt;var P=xt();function Ht(i,e,t,a){var r=t.axis;if(!r.scale.isBlank()){var n=t.getModel("splitArea"),o=n.getModel("areaStyle"),s=o.get("color"),f=a.coordinateSystem.getRect(),l=r.getTicksCoords({tickModel:n,clamp:!0});if(l.length){var u=s.length,c=P(i).splitAreaColors,v=dt(),h=0;if(c)for(var p=0;p<l.length;p++){var x=c.get(l[p].tickValue);if(x!=null){h=(x+(u-1)*p)%u;break}}var d=r.toGlobalCoord(l[0].coord),b=o.getAreaStyle();s=U(s)?s:[s];for(var p=1;p<l.length;p++){var C=r.toGlobalCoord(l[p].coord),m=void 0,A=void 0,S=void 0,_=void 0;r.isHorizontal()?(m=d,A=f.y,S=C-m,_=f.height,d=m+S):(m=f.x,A=d,S=f.width,_=C-A,d=A+_);var L=l[p-1].tickValue;L!=null&&v.set(L,h),e.add(new J({anid:L!=null?"area_"+L:null,shape:{x:m,y:A,width:S,height:_},style:B({fill:s[h]},b),autoBatch:!0,silent:!0})),h=(h+1)%u}P(i).splitAreaColors=v}}}function Zt(i){P(i).splitAreaColors=null}var $t=["axisLine","axisTickLabel","axisName"],Ft=["splitArea","splitLine","minorSplitLine"],Q=function(i){y(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t.axisPointerClass="CartesianAxisPointer",t}return e.prototype.render=function(t,a,r,n){this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new gt,this.group.add(this._axisGroup),!!t.get("show")){var s=t.getCoordSysModel(),f=yt(s,t),l=new mt(t,At({handleAutoShown:function(c){for(var v=s.coordinateSystem.getCartesians(),h=0;h<v.length;h++)if(D(v[h].getOtherAxis(t.axis).scale))return!0;return!1}},f));g($t,l.add,l),this._axisGroup.add(l.getGroup()),g(Ft,function(c){t.get([c,"show"])&&Xt[c](this,this._axisGroup,t,s)},this);var u=n&&n.type==="changeAxisOrder"&&n.isInitSort;u||Ct(o,this._axisGroup,t),i.prototype.render.call(this,t,a,r,n)}},e.prototype.remove=function(){Zt(this)},e.type="cartesianAxis",e}(St),Xt={splitLine:function(i,e,t,a){var r=t.axis;if(!r.scale.isBlank()){var n=t.getModel("splitLine"),o=n.getModel("lineStyle"),s=o.get("color");s=U(s)?s:[s];for(var f=a.coordinateSystem.getRect(),l=r.isHorizontal(),u=0,c=r.getTicksCoords({tickModel:n}),v=[],h=[],p=o.getLineStyle(),x=0;x<c.length;x++){var d=r.toGlobalCoord(c[x].coord);l?(v[0]=d,v[1]=f.y,h[0]=d,h[1]=f.y+f.height):(v[0]=f.x,v[1]=d,h[0]=f.x+f.width,h[1]=d);var b=u++%s.length,C=c[x].tickValue,m=new H({anid:C!=null?"line_"+c[x].tickValue:null,autoBatch:!0,shape:{x1:v[0],y1:v[1],x2:h[0],y2:h[1]},style:B({stroke:s[b]},p),silent:!0});Z(m.shape,p.lineWidth),e.add(m)}}},minorSplitLine:function(i,e,t,a){var r=t.axis,n=t.getModel("minorSplitLine"),o=n.getModel("lineStyle"),s=a.coordinateSystem.getRect(),f=r.isHorizontal(),l=r.getMinorTicksCoords();if(l.length)for(var u=[],c=[],v=o.getLineStyle(),h=0;h<l.length;h++)for(var p=0;p<l[h].length;p++){var x=r.toGlobalCoord(l[h][p].coord);f?(u[0]=x,u[1]=s.y,c[0]=x,c[1]=s.y+s.height):(u[0]=s.x,u[1]=x,c[0]=s.x+s.width,c[1]=x);var d=new H({anid:"minor_line_"+l[h][p].tickValue,autoBatch:!0,shape:{x1:u[0],y1:u[1],x2:c[0],y2:c[1]},style:v,silent:!0});Z(d.shape,v.lineWidth),e.add(d)}},splitArea:function(i,e,t,a){Ht(i,e,t,a)}},N=function(i){y(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.type="xAxis",e}(Q),Yt=function(i){y(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=N.type,t}return e.type="yAxis",e}(Q),jt=function(i){y(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="grid",t}return e.prototype.render=function(t,a){this.group.removeAll(),t.get("show")&&this.group.add(new J({shape:t.coordinateSystem.getRect(),style:B({fill:t.get("backgroundColor")},t.getItemStyle()),silent:!0,z2:-1}))},e.type="grid",e}(_t),q={offset:0};function Wt(i){i.registerComponentView(jt),i.registerComponentModel(Dt),i.registerCoordinateSystem("cartesian2d",kt),F(i,"x",E,q),F(i,"y",E,q),i.registerComponentView(N),i.registerComponentView(Yt),i.registerPreprocessor(function(e){e.xAxis&&e.yAxis&&!e.grid&&(e.grid={})})}function Ut(i){$(Wt),$(Lt)}export{Ut as i};
